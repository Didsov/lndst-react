(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function Py(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vf={exports:{}},kl={},Bf={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),Oy=Symbol.for("react.portal"),by=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Vy=Symbol.for("react.profiler"),By=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Wy=Symbol.for("react.memo"),$y=Symbol.for("react.lazy"),cp=Symbol.iterator;function Gy(n){return n===null||typeof n!="object"?null:(n=cp&&n[cp]||n["@@iterator"],typeof n=="function"?n:null)}var Uf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jf=Object.assign,Hf={};function pr(n,e,t){this.props=n,this.context=e,this.refs=Hf,this.updater=t||Uf}pr.prototype.isReactComponent={};pr.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};pr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Wf(){}Wf.prototype=pr.prototype;function Hh(n,e,t){this.props=n,this.context=e,this.refs=Hf,this.updater=t||Uf}var Wh=Hh.prototype=new Wf;Wh.constructor=Hh;jf(Wh,pr.prototype);Wh.isPureReactComponent=!0;var hp=Array.isArray,$f=Object.prototype.hasOwnProperty,$h={current:null},Gf={key:!0,ref:!0,__self:!0,__source:!0};function qf(n,e,t){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)$f.call(e,s)&&!Gf.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Lo,type:n,key:r,ref:o,props:i,_owner:$h.current}}function qy(n,e){return{$$typeof:Lo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Gh(n){return typeof n=="object"&&n!==null&&n.$$typeof===Lo}function Xy(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var dp=/\/+/g;function pu(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Xy(""+n.key):e.toString(36)}function Ia(n,e,t,s,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Lo:case Oy:o=!0}}if(o)return o=n,i=i(o),n=s===""?"."+pu(o,0):s,hp(i)?(t="",n!=null&&(t=n.replace(dp,"$&/")+"/"),Ia(i,e,t,"",function(u){return u})):i!=null&&(Gh(i)&&(i=qy(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dp,"$&/")+"/")+n)),e.push(i)),1;if(o=0,s=s===""?".":s+":",hp(n))for(var a=0;a<n.length;a++){r=n[a];var l=s+pu(r,a);o+=Ia(r,e,t,l,i)}else if(l=Gy(n),typeof l=="function")for(n=l.call(n),a=0;!(r=n.next()).done;)r=r.value,l=s+pu(r,a++),o+=Ia(r,e,t,l,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wo(n,e,t){if(n==null)return n;var s=[],i=0;return Ia(n,s,"","",function(r){return e.call(t,r,i++)}),s}function Zy(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var dt={current:null},Fa={transition:null},Yy={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:$h};function Xf(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Wo,forEach:function(n,e,t){Wo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Wo(n,function(){e++}),e},toArray:function(n){return Wo(n,function(e){return e})||[]},only:function(n){if(!Gh(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Y.Component=pr;Y.Fragment=by;Y.Profiler=Vy;Y.PureComponent=Hh;Y.StrictMode=Dy;Y.Suspense=Hy;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy;Y.act=Xf;Y.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=jf({},n.props),i=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=$h.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)$f.call(e,l)&&!Gf.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Lo,type:n.type,key:i,ref:r,props:s,_owner:o}};Y.createContext=function(n){return n={$$typeof:Uy,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:By,_context:n},n.Consumer=n};Y.createElement=qf;Y.createFactory=function(n){var e=qf.bind(null,n);return e.type=n,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(n){return{$$typeof:jy,render:n}};Y.isValidElement=Gh;Y.lazy=function(n){return{$$typeof:$y,_payload:{_status:-1,_result:n},_init:Zy}};Y.memo=function(n,e){return{$$typeof:Wy,type:n,compare:e===void 0?null:e}};Y.startTransition=function(n){var e=Fa.transition;Fa.transition={};try{n()}finally{Fa.transition=e}};Y.unstable_act=Xf;Y.useCallback=function(n,e){return dt.current.useCallback(n,e)};Y.useContext=function(n){return dt.current.useContext(n)};Y.useDebugValue=function(){};Y.useDeferredValue=function(n){return dt.current.useDeferredValue(n)};Y.useEffect=function(n,e){return dt.current.useEffect(n,e)};Y.useId=function(){return dt.current.useId()};Y.useImperativeHandle=function(n,e,t){return dt.current.useImperativeHandle(n,e,t)};Y.useInsertionEffect=function(n,e){return dt.current.useInsertionEffect(n,e)};Y.useLayoutEffect=function(n,e){return dt.current.useLayoutEffect(n,e)};Y.useMemo=function(n,e){return dt.current.useMemo(n,e)};Y.useReducer=function(n,e,t){return dt.current.useReducer(n,e,t)};Y.useRef=function(n){return dt.current.useRef(n)};Y.useState=function(n){return dt.current.useState(n)};Y.useSyncExternalStore=function(n,e,t){return dt.current.useSyncExternalStore(n,e,t)};Y.useTransition=function(){return dt.current.useTransition()};Y.version="18.3.1";Bf.exports=Y;var Il=Bf.exports;const Qy=Py(Il);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=Il,Ky=Symbol.for("react.element"),ex=Symbol.for("react.fragment"),tx=Object.prototype.hasOwnProperty,nx=Jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sx={key:!0,ref:!0,__self:!0,__source:!0};function Zf(n,e,t){var s,i={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)tx.call(e,s)&&!sx.hasOwnProperty(s)&&(i[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Ky,type:n,key:r,ref:o,props:i,_owner:nx.current}}kl.Fragment=ex;kl.jsx=Zf;kl.jsxs=Zf;Vf.exports=kl;var _=Vf.exports,_c={},Yf={exports:{}},Ot={},Qf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,G){var Z=V.length;V.push(G);e:for(;0<Z;){var ue=Z-1>>>1,be=V[ue];if(0<i(be,G))V[ue]=G,V[Z]=be,Z=ue;else break e}}function t(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var G=V[0],Z=V.pop();if(Z!==G){V[0]=Z;e:for(var ue=0,be=V.length,jo=be>>>1;ue<jo;){var Ps=2*(ue+1)-1,du=V[Ps],Os=Ps+1,Ho=V[Os];if(0>i(du,Z))Os<be&&0>i(Ho,du)?(V[ue]=Ho,V[Os]=Z,ue=Os):(V[ue]=du,V[Ps]=Z,ue=Ps);else if(Os<be&&0>i(Ho,Z))V[ue]=Ho,V[Os]=Z,ue=Os;else break e}}return G}function i(V,G){var Z=V.sortIndex-G.sortIndex;return Z!==0?Z:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var G=t(u);G!==null;){if(G.callback===null)s(u);else if(G.startTime<=V)s(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(u)}}function M(V){if(y=!1,x(V),!f)if(t(l)!==null)f=!0,Qn(E);else{var G=t(u);G!==null&&Jn(M,G.startTime-V)}}function E(V,G){f=!1,y&&(y=!1,m(L),L=-1),p=!0;var Z=h;try{for(x(G),d=t(l);d!==null&&(!(d.expirationTime>G)||V&&!Q());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,h=d.priorityLevel;var be=ue(d.expirationTime<=G);G=n.unstable_now(),typeof be=="function"?d.callback=be:d===t(l)&&s(l),x(G)}else s(l);d=t(l)}if(d!==null)var jo=!0;else{var Ps=t(u);Ps!==null&&Jn(M,Ps.startTime-G),jo=!1}return jo}finally{d=null,h=Z,p=!1}}var I=!1,A=null,L=-1,j=5,H=-1;function Q(){return!(n.unstable_now()-H<j)}function Ce(){if(A!==null){var V=n.unstable_now();H=V;var G=!0;try{G=A(!0,V)}finally{G?de():(I=!1,A=null)}}else I=!1}var de;if(typeof g=="function")de=function(){g(Ce)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,pi=qt.port2;qt.port1.onmessage=Ce,de=function(){pi.postMessage(null)}}else de=function(){v(Ce,0)};function Qn(V){A=V,I||(I=!0,de())}function Jn(V,G){L=v(function(){V(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){f||p||(f=!0,Qn(E))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var Z=h;h=G;try{return V()}finally{h=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=h;h=V;try{return G()}finally{h=Z}},n.unstable_scheduleCallback=function(V,G,Z){var ue=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,V){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Z+be,V={id:c++,callback:G,priorityLevel:V,startTime:Z,expirationTime:be,sortIndex:-1},Z>ue?(V.sortIndex=Z,e(u,V),t(l)===null&&V===t(u)&&(y?(m(L),L=-1):y=!0,Jn(M,Z-ue))):(V.sortIndex=be,e(l,V),f||p||(f=!0,Qn(E))),V},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(V){var G=h;return function(){var Z=h;h=G;try{return V.apply(this,arguments)}finally{h=Z}}}})(Jf);Qf.exports=Jf;var ix=Qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=Il,Ft=ix;function P(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kf=new Set,io={};function oi(n,e){ir(n,e),ir(n+"Capture",e)}function ir(n,e){for(io[n]=e,n=0;n<e.length;n++)Kf.add(e[n])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=Object.prototype.hasOwnProperty,ox=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pp={},fp={};function ax(n){return Ac.call(fp,n)?!0:Ac.call(pp,n)?!1:ox.test(n)?fp[n]=!0:(pp[n]=!0,!1)}function lx(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ux(n,e,t,s){if(e===null||typeof e>"u"||lx(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(n,e,t,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qe[n]=new pt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];qe[e]=new pt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qe[n]=new pt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qe[n]=new pt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qe[n]=new pt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qe[n]=new pt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qe[n]=new pt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qe[n]=new pt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qe[n]=new pt(n,5,!1,n.toLowerCase(),null,!1,!1)});var qh=/[\-:]([a-z])/g;function Xh(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(qh,Xh);qe[e]=new pt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(qh,Xh);qe[e]=new pt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(qh,Xh);qe[e]=new pt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qe[n]=new pt(n,1,!1,n.toLowerCase(),null,!1,!1)});qe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qe[n]=new pt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Zh(n,e,t,s){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ux(e,t,i,s)&&(t=null),s||i===null?ax(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,s=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Yn=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Ec=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Rc=Symbol.for("react.suspense_list"),Jh=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),nm=Symbol.for("react.offscreen"),mp=Symbol.iterator;function wr(n){return n===null||typeof n!="object"?null:(n=mp&&n[mp]||n["@@iterator"],typeof n=="function"?n:null)}var we=Object.assign,fu;function Vr(n){if(fu===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);fu=e&&e[1]||""}return`
`+fu+n}var mu=!1;function gu(n,e){if(!n||mu)return"";mu=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{mu=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Vr(n):""}function cx(n){switch(n.tag){case 5:return Vr(n.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return n=gu(n.type,!1),n;case 11:return n=gu(n.type.render,!1),n;case 1:return n=gu(n.type,!0),n;default:return""}}function Lc(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ri:return"Fragment";case zi:return"Portal";case Ec:return"Profiler";case Yh:return"StrictMode";case zc:return"Suspense";case Rc:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case tm:return(n.displayName||"Context")+".Consumer";case em:return(n._context.displayName||"Context")+".Provider";case Qh:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Jh:return e=n.displayName||null,e!==null?e:Lc(n.type)||"Memo";case os:e=n._payload,n=n._init;try{return Lc(n(e))}catch{}}return null}function hx(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(e);case 8:return e===Yh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sm(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dx(n){var e=sm(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Go(n){n._valueTracker||(n._valueTracker=dx(n))}function im(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=sm(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function Ya(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kc(n,e){var t=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function gp(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Ss(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rm(n,e){e=e.checked,e!=null&&Zh(n,"checked",e,!1)}function Ic(n,e){rm(n,e);var t=Ss(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Fc(n,e.type,t):e.hasOwnProperty("defaultValue")&&Fc(n,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function yp(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Fc(n,e,t){(e!=="number"||Ya(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Br=Array.isArray;function $i(n,e,t,s){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Ss(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Pc(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function xp(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(P(92));if(Br(t)){if(1<t.length)throw Error(P(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ss(t)}}function om(n,e){var t=Ss(e.value),s=Ss(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function vp(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function am(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?am(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qo,lm=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ro(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},px=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(n){px.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$r[e]=$r[n]})});function um(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$r.hasOwnProperty(n)&&$r[n]?(""+e).trim():e+"px"}function cm(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,i=um(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,i):n[t]=i}}var fx=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bc(n,e){if(e){if(fx[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Dc(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=null;function Kh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bc=null,Gi=null,qi=null;function Np(n){if(n=Fo(n)){if(typeof Bc!="function")throw Error(P(280));var e=n.stateNode;e&&(e=Dl(e),Bc(n.stateNode,n.type,e))}}function hm(n){Gi?qi?qi.push(n):qi=[n]:Gi=n}function dm(){if(Gi){var n=Gi,e=qi;if(qi=Gi=null,Np(n),e)for(n=0;n<e.length;n++)Np(e[n])}}function pm(n,e){return n(e)}function fm(){}var yu=!1;function mm(n,e,t){if(yu)return n(e,t);yu=!0;try{return pm(n,e,t)}finally{yu=!1,(Gi!==null||qi!==null)&&(fm(),dm())}}function oo(n,e){var t=n.stateNode;if(t===null)return null;var s=Dl(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(P(231,e,typeof t));return t}var Uc=!1;if($n)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Uc=!1}function mx(n,e,t,s,i,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Gr=!1,Qa=null,Ja=!1,jc=null,gx={onError:function(n){Gr=!0,Qa=n}};function yx(n,e,t,s,i,r,o,a,l){Gr=!1,Qa=null,mx.apply(gx,arguments)}function xx(n,e,t,s,i,r,o,a,l){if(yx.apply(this,arguments),Gr){if(Gr){var u=Qa;Gr=!1,Qa=null}else throw Error(P(198));Ja||(Ja=!0,jc=u)}}function ai(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function gm(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function wp(n){if(ai(n)!==n)throw Error(P(188))}function vx(n){var e=n.alternate;if(!e){if(e=ai(n),e===null)throw Error(P(188));return e!==n?null:n}for(var t=n,s=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return wp(i),n;if(r===s)return wp(i),e;r=r.sibling}throw Error(P(188))}if(t.return!==s.return)t=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,s=r;break}if(a===s){o=!0,s=i,t=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===t){o=!0,t=r,s=i;break}if(a===s){o=!0,s=r,t=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(t.alternate!==s)throw Error(P(190))}if(t.tag!==3)throw Error(P(188));return t.stateNode.current===t?n:e}function ym(n){return n=vx(n),n!==null?xm(n):null}function xm(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xm(n);if(e!==null)return e;n=n.sibling}return null}var vm=Ft.unstable_scheduleCallback,Mp=Ft.unstable_cancelCallback,Nx=Ft.unstable_shouldYield,wx=Ft.unstable_requestPaint,_e=Ft.unstable_now,Mx=Ft.unstable_getCurrentPriorityLevel,ed=Ft.unstable_ImmediatePriority,Nm=Ft.unstable_UserBlockingPriority,Ka=Ft.unstable_NormalPriority,Sx=Ft.unstable_LowPriority,wm=Ft.unstable_IdlePriority,Fl=null,wn=null;function Tx(n){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Fl,n,void 0,(n.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Ax,Cx=Math.log,_x=Math.LN2;function Ax(n){return n>>>=0,n===0?32:31-(Cx(n)/_x|0)|0}var Xo=64,Zo=4194304;function Ur(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function el(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,i=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?s=Ur(a):(r&=o,r!==0&&(s=Ur(r)))}else o=t&~i,o!==0?s=Ur(o):r!==0&&(s=Ur(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-on(e),i=1<<t,s|=n[t],e&=~i;return s}function Ex(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-on(r),a=1<<o,l=i[o];l===-1?(!(a&t)||a&s)&&(i[o]=Ex(a,e)):l<=e&&(n.expiredLanes|=a),r&=~a}}function Hc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Mm(){var n=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),n}function xu(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ko(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-on(e),n[e]=t}function Rx(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-on(t),r=1<<i;e[i]=0,s[i]=-1,n[i]=-1,t&=~r}}function td(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-on(t),i=1<<s;i&e|n[s]&e&&(n[s]|=e),t&=~i}}var oe=0;function Sm(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Tm,nd,Cm,_m,Am,Wc=!1,Yo=[],fs=null,ms=null,gs=null,ao=new Map,lo=new Map,ls=[],Lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(n,e){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":ao.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(e.pointerId)}}function Sr(n,e,t,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Fo(e),e!==null&&nd(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function kx(n,e,t,s,i){switch(e){case"focusin":return fs=Sr(fs,n,e,t,s,i),!0;case"dragenter":return ms=Sr(ms,n,e,t,s,i),!0;case"mouseover":return gs=Sr(gs,n,e,t,s,i),!0;case"pointerover":var r=i.pointerId;return ao.set(r,Sr(ao.get(r)||null,n,e,t,s,i)),!0;case"gotpointercapture":return r=i.pointerId,lo.set(r,Sr(lo.get(r)||null,n,e,t,s,i)),!0}return!1}function Em(n){var e=qs(n.target);if(e!==null){var t=ai(e);if(t!==null){if(e=t.tag,e===13){if(e=gm(t),e!==null){n.blockedOn=e,Am(n.priority,function(){Cm(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pa(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=$c(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);Vc=s,t.target.dispatchEvent(s),Vc=null}else return e=Fo(t),e!==null&&nd(e),n.blockedOn=t,!1;e.shift()}return!0}function Tp(n,e,t){Pa(n)&&t.delete(e)}function Ix(){Wc=!1,fs!==null&&Pa(fs)&&(fs=null),ms!==null&&Pa(ms)&&(ms=null),gs!==null&&Pa(gs)&&(gs=null),ao.forEach(Tp),lo.forEach(Tp)}function Tr(n,e){n.blockedOn===e&&(n.blockedOn=null,Wc||(Wc=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Ix)))}function uo(n){function e(i){return Tr(i,n)}if(0<Yo.length){Tr(Yo[0],n);for(var t=1;t<Yo.length;t++){var s=Yo[t];s.blockedOn===n&&(s.blockedOn=null)}}for(fs!==null&&Tr(fs,n),ms!==null&&Tr(ms,n),gs!==null&&Tr(gs,n),ao.forEach(e),lo.forEach(e),t=0;t<ls.length;t++)s=ls[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<ls.length&&(t=ls[0],t.blockedOn===null);)Em(t),t.blockedOn===null&&ls.shift()}var Xi=Yn.ReactCurrentBatchConfig,tl=!0;function Fx(n,e,t,s){var i=oe,r=Xi.transition;Xi.transition=null;try{oe=1,sd(n,e,t,s)}finally{oe=i,Xi.transition=r}}function Px(n,e,t,s){var i=oe,r=Xi.transition;Xi.transition=null;try{oe=4,sd(n,e,t,s)}finally{oe=i,Xi.transition=r}}function sd(n,e,t,s){if(tl){var i=$c(n,e,t,s);if(i===null)Eu(n,e,s,nl,t),Sp(n,s);else if(kx(i,n,e,t,s))s.stopPropagation();else if(Sp(n,s),e&4&&-1<Lx.indexOf(n)){for(;i!==null;){var r=Fo(i);if(r!==null&&Tm(r),r=$c(n,e,t,s),r===null&&Eu(n,e,s,nl,t),r===i)break;i=r}i!==null&&s.stopPropagation()}else Eu(n,e,s,null,t)}}var nl=null;function $c(n,e,t,s){if(nl=null,n=Kh(s),n=qs(n),n!==null)if(e=ai(n),e===null)n=null;else if(t=e.tag,t===13){if(n=gm(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return nl=n,null}function zm(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case ed:return 1;case Nm:return 4;case Ka:case Sx:return 16;case wm:return 536870912;default:return 16}default:return 16}}var hs=null,id=null,Oa=null;function Rm(){if(Oa)return Oa;var n,e=id,t=e.length,s,i="value"in hs?hs.value:hs.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(s=1;s<=o&&e[t-s]===i[r-s];s++);return Oa=i.slice(n,1<s?1-s:void 0)}function ba(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Qo(){return!0}function Cp(){return!1}function bt(n){function e(t,s,i,r,o){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Qo:Cp,this.isPropagationStopped=Cp,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rd=bt(fr),Io=we({},fr,{view:0,detail:0}),Ox=bt(Io),vu,Nu,Cr,Pl=we({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cr&&(Cr&&n.type==="mousemove"?(vu=n.screenX-Cr.screenX,Nu=n.screenY-Cr.screenY):Nu=vu=0,Cr=n),vu)},movementY:function(n){return"movementY"in n?n.movementY:Nu}}),_p=bt(Pl),bx=we({},Pl,{dataTransfer:0}),Dx=bt(bx),Vx=we({},Io,{relatedTarget:0}),wu=bt(Vx),Bx=we({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=bt(Bx),jx=we({},fr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hx=bt(jx),Wx=we({},fr,{data:0}),Ap=bt(Wx),$x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=qx[n])?!!e[n]:!1}function od(){return Xx}var Zx=we({},Io,{key:function(n){if(n.key){var e=$x[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ba(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(n){return n.type==="keypress"?ba(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ba(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Yx=bt(Zx),Qx=we({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=bt(Qx),Jx=we({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),Kx=bt(Jx),ev=we({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=bt(ev),nv=we({},Pl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=bt(nv),iv=[9,13,27,32],ad=$n&&"CompositionEvent"in window,qr=null;$n&&"documentMode"in document&&(qr=document.documentMode);var rv=$n&&"TextEvent"in window&&!qr,Lm=$n&&(!ad||qr&&8<qr&&11>=qr),zp=" ",Rp=!1;function km(n,e){switch(n){case"keyup":return iv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Li=!1;function ov(n,e){switch(n){case"compositionend":return Im(e);case"keypress":return e.which!==32?null:(Rp=!0,zp);case"textInput":return n=e.data,n===zp&&Rp?null:n;default:return null}}function av(n,e){if(Li)return n==="compositionend"||!ad&&km(n,e)?(n=Rm(),Oa=id=hs=null,Li=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lm&&e.locale!=="ko"?null:e.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!lv[n.type]:e==="textarea"}function Fm(n,e,t,s){hm(s),e=sl(e,"onChange"),0<e.length&&(t=new rd("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Xr=null,co=null;function uv(n){$m(n,0)}function Ol(n){var e=Fi(n);if(im(e))return n}function cv(n,e){if(n==="change")return e}var Pm=!1;if($n){var Mu;if($n){var Su="oninput"in document;if(!Su){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Su=typeof kp.oninput=="function"}Mu=Su}else Mu=!1;Pm=Mu&&(!document.documentMode||9<document.documentMode)}function Ip(){Xr&&(Xr.detachEvent("onpropertychange",Om),co=Xr=null)}function Om(n){if(n.propertyName==="value"&&Ol(co)){var e=[];Fm(e,co,n,Kh(n)),mm(uv,e)}}function hv(n,e,t){n==="focusin"?(Ip(),Xr=e,co=t,Xr.attachEvent("onpropertychange",Om)):n==="focusout"&&Ip()}function dv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ol(co)}function pv(n,e){if(n==="click")return Ol(e)}function fv(n,e){if(n==="input"||n==="change")return Ol(e)}function mv(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var cn=typeof Object.is=="function"?Object.is:mv;function ho(n,e){if(cn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!Ac.call(e,i)||!cn(n[i],e[i]))return!1}return!0}function Fp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pp(n,e){var t=Fp(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Fp(t)}}function bm(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?bm(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Dm(){for(var n=window,e=Ya();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ya(n.document)}return e}function ld(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gv(n){var e=Dm(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&bm(t.ownerDocument.documentElement,t)){if(s!==null&&ld(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!n.extend&&r>s&&(i=s,s=r,r=i),i=Pp(t,r);var o=Pp(t,s);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>s?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var yv=$n&&"documentMode"in document&&11>=document.documentMode,ki=null,Gc=null,Zr=null,qc=!1;function Op(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;qc||ki==null||ki!==Ya(s)||(s=ki,"selectionStart"in s&&ld(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zr&&ho(Zr,s)||(Zr=s,s=sl(Gc,"onSelect"),0<s.length&&(e=new rd("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=ki)))}function Jo(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ii={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},Tu={},Vm={};$n&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function bl(n){if(Tu[n])return Tu[n];if(!Ii[n])return n;var e=Ii[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Vm)return Tu[n]=e[t];return n}var Bm=bl("animationend"),Um=bl("animationiteration"),jm=bl("animationstart"),Hm=bl("transitionend"),Wm=new Map,bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(n,e){Wm.set(n,e),oi(e,[n])}for(var Cu=0;Cu<bp.length;Cu++){var _u=bp[Cu],xv=_u.toLowerCase(),vv=_u[0].toUpperCase()+_u.slice(1);Rs(xv,"on"+vv)}Rs(Bm,"onAnimationEnd");Rs(Um,"onAnimationIteration");Rs(jm,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(Hm,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Dp(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,xx(s,e,void 0,n),n.currentTarget=null}function $m(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;Dp(i,a,u),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;Dp(i,a,u),r=l}}}if(Ja)throw n=jc,Ja=!1,jc=null,n}function pe(n,e){var t=e[Jc];t===void 0&&(t=e[Jc]=new Set);var s=n+"__bubble";t.has(s)||(Gm(e,n,2,!1),t.add(s))}function Au(n,e,t){var s=0;e&&(s|=4),Gm(t,n,s,e)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function po(n){if(!n[Ko]){n[Ko]=!0,Kf.forEach(function(t){t!=="selectionchange"&&(Nv.has(t)||Au(t,!1,n),Au(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ko]||(e[Ko]=!0,Au("selectionchange",!1,e))}}function Gm(n,e,t,s){switch(zm(e)){case 1:var i=Fx;break;case 4:i=Px;break;default:i=sd}t=i.bind(null,e,t,n),i=void 0,!Uc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Eu(n,e,t,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qs(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}mm(function(){var u=r,c=Kh(t),d=[];e:{var h=Wm.get(n);if(h!==void 0){var p=rd,f=n;switch(n){case"keypress":if(ba(t)===0)break e;case"keydown":case"keyup":p=Yx;break;case"focusin":f="focus",p=wu;break;case"focusout":f="blur",p=wu;break;case"beforeblur":case"afterblur":p=wu;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kx;break;case Bm:case Um:case jm:p=Ux;break;case Hm:p=tv;break;case"scroll":p=Ox;break;case"wheel":p=sv;break;case"copy":case"cut":case"paste":p=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ep}var y=(e&4)!==0,v=!y&&n==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,x;g!==null;){x=g;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,m!==null&&(M=oo(g,m),M!=null&&y.push(fo(g,M,x)))),v)break;g=g.return}0<y.length&&(h=new p(h,f,null,t,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==Vc&&(f=t.relatedTarget||t.fromElement)&&(qs(f)||f[Gn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=t.relatedTarget||t.toElement,p=u,f=f?qs(f):null,f!==null&&(v=ai(f),f!==v||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=u),p!==f)){if(y=_p,M="onMouseLeave",m="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(y=Ep,M="onPointerLeave",m="onPointerEnter",g="pointer"),v=p==null?h:Fi(p),x=f==null?h:Fi(f),h=new y(M,g+"leave",p,t,c),h.target=v,h.relatedTarget=x,M=null,qs(c)===u&&(y=new y(m,g+"enter",f,t,c),y.target=x,y.relatedTarget=v,M=y),v=M,p&&f)t:{for(y=p,m=f,g=0,x=y;x;x=fi(x))g++;for(x=0,M=m;M;M=fi(M))x++;for(;0<g-x;)y=fi(y),g--;for(;0<x-g;)m=fi(m),x--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=fi(y),m=fi(m)}y=null}else y=null;p!==null&&Vp(d,h,p,y,!1),f!==null&&v!==null&&Vp(d,v,f,y,!0)}}e:{if(h=u?Fi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=cv;else if(Lp(h))if(Pm)E=fv;else{E=dv;var I=hv}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=pv);if(E&&(E=E(n,u))){Fm(d,E,t,c);break e}I&&I(n,h,u),n==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Fc(h,"number",h.value)}switch(I=u?Fi(u):window,n){case"focusin":(Lp(I)||I.contentEditable==="true")&&(ki=I,Gc=u,Zr=null);break;case"focusout":Zr=Gc=ki=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,Op(d,t,c);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":Op(d,t,c)}var A;if(ad)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Li?km(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(Lm&&t.locale!=="ko"&&(Li||L!=="onCompositionStart"?L==="onCompositionEnd"&&Li&&(A=Rm()):(hs=c,id="value"in hs?hs.value:hs.textContent,Li=!0)),I=sl(u,L),0<I.length&&(L=new Ap(L,n,null,t,c),d.push({event:L,listeners:I}),A?L.data=A:(A=Im(t),A!==null&&(L.data=A)))),(A=rv?ov(n,t):av(n,t))&&(u=sl(u,"onBeforeInput"),0<u.length&&(c=new Ap("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=A))}$m(d,e)})}function fo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function sl(n,e){for(var t=e+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=oo(n,t),r!=null&&s.unshift(fo(n,r,i)),r=oo(n,e),r!=null&&s.push(fo(n,r,i))),n=n.return}return s}function fi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Vp(n,e,t,s,i){for(var r=e._reactName,o=[];t!==null&&t!==s;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,i?(l=oo(t,r),l!=null&&o.unshift(fo(t,l,a))):i||(l=oo(t,r),l!=null&&o.push(fo(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var wv=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function Bp(n){return(typeof n=="string"?n:""+n).replace(wv,`
`).replace(Mv,"")}function ea(n,e,t){if(e=Bp(e),Bp(n)!==e&&t)throw Error(P(425))}function il(){}var Xc=null,Zc=null;function Yc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(n){return Up.resolve(null).then(n).catch(Cv)}:Qc;function Cv(n){setTimeout(function(){throw n})}function zu(n,e){var t=e,s=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(s===0){n.removeChild(i),uo(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=i}while(t);uo(e)}function ys(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function jp(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var mr=Math.random().toString(36).slice(2),vn="__reactFiber$"+mr,mo="__reactProps$"+mr,Gn="__reactContainer$"+mr,Jc="__reactEvents$"+mr,_v="__reactListeners$"+mr,Av="__reactHandles$"+mr;function qs(n){var e=n[vn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Gn]||t[vn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=jp(n);n!==null;){if(t=n[vn])return t;n=jp(n)}return e}n=t,t=n.parentNode}return null}function Fo(n){return n=n[vn]||n[Gn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(P(33))}function Dl(n){return n[mo]||null}var Kc=[],Pi=-1;function Ls(n){return{current:n}}function fe(n){0>Pi||(n.current=Kc[Pi],Kc[Pi]=null,Pi--)}function he(n,e){Pi++,Kc[Pi]=n.current,n.current=e}var Ts={},it=Ls(Ts),yt=Ls(!1),Js=Ts;function rr(n,e){var t=n.type.contextTypes;if(!t)return Ts;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function xt(n){return n=n.childContextTypes,n!=null}function rl(){fe(yt),fe(it)}function Hp(n,e,t){if(it.current!==Ts)throw Error(P(168));he(it,e),he(yt,t)}function qm(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(P(108,hx(n)||"Unknown",i));return we({},t,s)}function ol(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ts,Js=it.current,he(it,n),he(yt,yt.current),!0}function Wp(n,e,t){var s=n.stateNode;if(!s)throw Error(P(169));t?(n=qm(n,e,Js),s.__reactInternalMemoizedMergedChildContext=n,fe(yt),fe(it),he(it,n)):fe(yt),he(yt,t)}var Pn=null,Vl=!1,Ru=!1;function Xm(n){Pn===null?Pn=[n]:Pn.push(n)}function Ev(n){Vl=!0,Xm(n)}function ks(){if(!Ru&&Pn!==null){Ru=!0;var n=0,e=oe;try{var t=Pn;for(oe=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}Pn=null,Vl=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(n+1)),vm(ed,ks),i}finally{oe=e,Ru=!1}}return null}var Oi=[],bi=0,al=null,ll=0,Vt=[],Bt=0,Ks=null,Dn=1,Vn="";function Hs(n,e){Oi[bi++]=ll,Oi[bi++]=al,al=n,ll=e}function Zm(n,e,t){Vt[Bt++]=Dn,Vt[Bt++]=Vn,Vt[Bt++]=Ks,Ks=n;var s=Dn;n=Vn;var i=32-on(s)-1;s&=~(1<<i),t+=1;var r=32-on(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Dn=1<<32-on(e)+i|t<<i|s,Vn=r+n}else Dn=1<<r|t<<i|s,Vn=n}function ud(n){n.return!==null&&(Hs(n,1),Zm(n,1,0))}function cd(n){for(;n===al;)al=Oi[--bi],Oi[bi]=null,ll=Oi[--bi],Oi[bi]=null;for(;n===Ks;)Ks=Vt[--Bt],Vt[Bt]=null,Vn=Vt[--Bt],Vt[Bt]=null,Dn=Vt[--Bt],Vt[Bt]=null}var kt=null,Lt=null,ye=!1,nn=null;function Ym(n,e){var t=Ut(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function $p(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,kt=n,Lt=ys(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,kt=n,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ks!==null?{id:Dn,overflow:Vn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ut(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,kt=n,Lt=null,!0):!1;default:return!1}}function eh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function th(n){if(ye){var e=Lt;if(e){var t=e;if(!$p(n,e)){if(eh(n))throw Error(P(418));e=ys(t.nextSibling);var s=kt;e&&$p(n,e)?Ym(s,t):(n.flags=n.flags&-4097|2,ye=!1,kt=n)}}else{if(eh(n))throw Error(P(418));n.flags=n.flags&-4097|2,ye=!1,kt=n}}}function Gp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kt=n}function ta(n){if(n!==kt)return!1;if(!ye)return Gp(n),ye=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Yc(n.type,n.memoizedProps)),e&&(e=Lt)){if(eh(n))throw Qm(),Error(P(418));for(;e;)Ym(n,e),e=ys(e.nextSibling)}if(Gp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(P(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Lt=ys(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Lt=null}}else Lt=kt?ys(n.stateNode.nextSibling):null;return!0}function Qm(){for(var n=Lt;n;)n=ys(n.nextSibling)}function or(){Lt=kt=null,ye=!1}function hd(n){nn===null?nn=[n]:nn.push(n)}var zv=Yn.ReactCurrentBatchConfig;function _r(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(P(309));var s=t.stateNode}if(!s)throw Error(P(147,n));var i=s,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(P(284));if(!t._owner)throw Error(P(290,n))}return n}function na(n,e){throw n=Object.prototype.toString.call(e),Error(P(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function qp(n){var e=n._init;return e(n._payload)}function Jm(n){function e(m,g){if(n){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function t(m,g){if(!n)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function s(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=ws(m,g),m.index=0,m.sibling=null,m}function r(m,g,x){return m.index=x,n?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,g,x,M){return g===null||g.tag!==6?(g=bu(x,m.mode,M),g.return=m,g):(g=i(g,x),g.return=m,g)}function l(m,g,x,M){var E=x.type;return E===Ri?c(m,g,x.props.children,M,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===os&&qp(E)===g.type)?(M=i(g,x.props),M.ref=_r(m,g,x),M.return=m,M):(M=Wa(x.type,x.key,x.props,null,m.mode,M),M.ref=_r(m,g,x),M.return=m,M)}function u(m,g,x,M){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Du(x,m.mode,M),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function c(m,g,x,M,E){return g===null||g.tag!==7?(g=Qs(x,m.mode,M,E),g.return=m,g):(g=i(g,x),g.return=m,g)}function d(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bu(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:return x=Wa(g.type,g.key,g.props,null,m.mode,x),x.ref=_r(m,null,g),x.return=m,x;case zi:return g=Du(g,m.mode,x),g.return=m,g;case os:var M=g._init;return d(m,M(g._payload),x)}if(Br(g)||wr(g))return g=Qs(g,m.mode,x,null),g.return=m,g;na(m,g)}return null}function h(m,g,x,M){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(m,g,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:return x.key===E?l(m,g,x,M):null;case zi:return x.key===E?u(m,g,x,M):null;case os:return E=x._init,h(m,g,E(x._payload),M)}if(Br(x)||wr(x))return E!==null?null:c(m,g,x,M,null);na(m,x)}return null}function p(m,g,x,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return m=m.get(x)||null,a(g,m,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $o:return m=m.get(M.key===null?x:M.key)||null,l(g,m,M,E);case zi:return m=m.get(M.key===null?x:M.key)||null,u(g,m,M,E);case os:var I=M._init;return p(m,g,x,I(M._payload),E)}if(Br(M)||wr(M))return m=m.get(x)||null,c(g,m,M,E,null);na(g,M)}return null}function f(m,g,x,M){for(var E=null,I=null,A=g,L=g=0,j=null;A!==null&&L<x.length;L++){A.index>L?(j=A,A=null):j=A.sibling;var H=h(m,A,x[L],M);if(H===null){A===null&&(A=j);break}n&&A&&H.alternate===null&&e(m,A),g=r(H,g,L),I===null?E=H:I.sibling=H,I=H,A=j}if(L===x.length)return t(m,A),ye&&Hs(m,L),E;if(A===null){for(;L<x.length;L++)A=d(m,x[L],M),A!==null&&(g=r(A,g,L),I===null?E=A:I.sibling=A,I=A);return ye&&Hs(m,L),E}for(A=s(m,A);L<x.length;L++)j=p(A,m,L,x[L],M),j!==null&&(n&&j.alternate!==null&&A.delete(j.key===null?L:j.key),g=r(j,g,L),I===null?E=j:I.sibling=j,I=j);return n&&A.forEach(function(Q){return e(m,Q)}),ye&&Hs(m,L),E}function y(m,g,x,M){var E=wr(x);if(typeof E!="function")throw Error(P(150));if(x=E.call(x),x==null)throw Error(P(151));for(var I=E=null,A=g,L=g=0,j=null,H=x.next();A!==null&&!H.done;L++,H=x.next()){A.index>L?(j=A,A=null):j=A.sibling;var Q=h(m,A,H.value,M);if(Q===null){A===null&&(A=j);break}n&&A&&Q.alternate===null&&e(m,A),g=r(Q,g,L),I===null?E=Q:I.sibling=Q,I=Q,A=j}if(H.done)return t(m,A),ye&&Hs(m,L),E;if(A===null){for(;!H.done;L++,H=x.next())H=d(m,H.value,M),H!==null&&(g=r(H,g,L),I===null?E=H:I.sibling=H,I=H);return ye&&Hs(m,L),E}for(A=s(m,A);!H.done;L++,H=x.next())H=p(A,m,L,H.value,M),H!==null&&(n&&H.alternate!==null&&A.delete(H.key===null?L:H.key),g=r(H,g,L),I===null?E=H:I.sibling=H,I=H);return n&&A.forEach(function(Ce){return e(m,Ce)}),ye&&Hs(m,L),E}function v(m,g,x,M){if(typeof x=="object"&&x!==null&&x.type===Ri&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $o:e:{for(var E=x.key,I=g;I!==null;){if(I.key===E){if(E=x.type,E===Ri){if(I.tag===7){t(m,I.sibling),g=i(I,x.props.children),g.return=m,m=g;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===os&&qp(E)===I.type){t(m,I.sibling),g=i(I,x.props),g.ref=_r(m,I,x),g.return=m,m=g;break e}t(m,I);break}else e(m,I);I=I.sibling}x.type===Ri?(g=Qs(x.props.children,m.mode,M,x.key),g.return=m,m=g):(M=Wa(x.type,x.key,x.props,null,m.mode,M),M.ref=_r(m,g,x),M.return=m,m=M)}return o(m);case zi:e:{for(I=x.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){t(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{t(m,g);break}else e(m,g);g=g.sibling}g=Du(x,m.mode,M),g.return=m,m=g}return o(m);case os:return I=x._init,v(m,g,I(x._payload),M)}if(Br(x))return f(m,g,x,M);if(wr(x))return y(m,g,x,M);na(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(t(m,g.sibling),g=i(g,x),g.return=m,m=g):(t(m,g),g=bu(x,m.mode,M),g.return=m,m=g),o(m)):t(m,g)}return v}var ar=Jm(!0),Km=Jm(!1),ul=Ls(null),cl=null,Di=null,dd=null;function pd(){dd=Di=cl=null}function fd(n){var e=ul.current;fe(ul),n._currentValue=e}function nh(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Zi(n,e){cl=n,dd=Di=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mt=!0),n.firstContext=null)}function $t(n){var e=n._currentValue;if(dd!==n)if(n={context:n,memoizedValue:e,next:null},Di===null){if(cl===null)throw Error(P(308));Di=n,cl.dependencies={lanes:0,firstContext:n}}else Di=Di.next=n;return e}var Xs=null;function md(n){Xs===null?Xs=[n]:Xs.push(n)}function eg(n,e,t,s){var i=e.interleaved;return i===null?(t.next=t,md(e)):(t.next=i.next,i.next=t),e.interleaved=t,qn(n,s)}function qn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var as=!1;function gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function xs(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,qn(n,t)}return i=s.interleaved,i===null?(e.next=e,md(s)):(e.next=i.next,i.next=e),s.interleaved=e,qn(n,t)}function Da(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,td(n,t)}}function Xp(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function hl(n,e,t,s){var i=n.updateQueue;as=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?r=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(r!==null){var d=i.baseState;o=0,c=u=l=null,a=r;do{var h=a.lane,p=a.eventTime;if((s&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=n,y=a;switch(h=e,p=t,y.tag){case 1:if(f=y.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=y.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=we({},d,h);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);ti|=o,n.lanes=o,n.memoizedState=d}}function Zp(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],i=s.callback;if(i!==null){if(s.callback=null,s=t,typeof i!="function")throw Error(P(191,i));i.call(s)}}}var Po={},Mn=Ls(Po),go=Ls(Po),yo=Ls(Po);function Zs(n){if(n===Po)throw Error(P(174));return n}function yd(n,e){switch(he(yo,e),he(go,n),he(Mn,Po),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oc(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Oc(e,n)}fe(Mn),he(Mn,e)}function lr(){fe(Mn),fe(go),fe(yo)}function ng(n){Zs(yo.current);var e=Zs(Mn.current),t=Oc(e,n.type);e!==t&&(he(go,n),he(Mn,t))}function xd(n){go.current===n&&(fe(Mn),fe(go))}var xe=Ls(0);function dl(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lu=[];function vd(){for(var n=0;n<Lu.length;n++)Lu[n]._workInProgressVersionPrimary=null;Lu.length=0}var Va=Yn.ReactCurrentDispatcher,ku=Yn.ReactCurrentBatchConfig,ei=0,Ne=null,ke=null,Ve=null,pl=!1,Yr=!1,xo=0,Rv=0;function Ze(){throw Error(P(321))}function Nd(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!cn(n[t],e[t]))return!1;return!0}function wd(n,e,t,s,i,r){if(ei=r,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Va.current=n===null||n.memoizedState===null?Fv:Pv,n=t(s,i),Yr){r=0;do{if(Yr=!1,xo=0,25<=r)throw Error(P(301));r+=1,Ve=ke=null,e.updateQueue=null,Va.current=Ov,n=t(s,i)}while(Yr)}if(Va.current=fl,e=ke!==null&&ke.next!==null,ei=0,Ve=ke=Ne=null,pl=!1,e)throw Error(P(300));return n}function Md(){var n=xo!==0;return xo=0,n}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ne.memoizedState=Ve=n:Ve=Ve.next=n,Ve}function Gt(){if(ke===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=ke.next;var e=Ve===null?Ne.memoizedState:Ve.next;if(e!==null)Ve=e,ke=n;else{if(n===null)throw Error(P(310));ke=n,n={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ve===null?Ne.memoizedState=Ve=n:Ve=Ve.next=n}return Ve}function vo(n,e){return typeof e=="function"?e(n):e}function Iu(n){var e=Gt(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=n;var s=ke,i=s.baseQueue,r=t.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,u=r;do{var c=u.lane;if((ei&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=s):l=l.next=d,Ne.lanes|=c,ti|=c}u=u.next}while(u!==null&&u!==r);l===null?o=s:l.next=a,cn(s,e.memoizedState)||(mt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){i=n;do r=i.lane,Ne.lanes|=r,ti|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Fu(n){var e=Gt(),t=e.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=n;var s=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do r=n(r,o.action),o=o.next;while(o!==i);cn(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,s]}function sg(){}function ig(n,e){var t=Ne,s=Gt(),i=e(),r=!cn(s.memoizedState,i);if(r&&(s.memoizedState=i,mt=!0),s=s.queue,Sd(ag.bind(null,t,s,n),[n]),s.getSnapshot!==e||r||Ve!==null&&Ve.memoizedState.tag&1){if(t.flags|=2048,No(9,og.bind(null,t,s,i,e),void 0,null),Ue===null)throw Error(P(349));ei&30||rg(t,e,i)}return i}function rg(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function og(n,e,t,s){e.value=t,e.getSnapshot=s,lg(e)&&ug(n)}function ag(n,e,t){return t(function(){lg(e)&&ug(n)})}function lg(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!cn(n,t)}catch{return!0}}function ug(n){var e=qn(n,1);e!==null&&an(e,n,1,-1)}function Yp(n){var e=pn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:n},e.queue=n,n=n.dispatch=Iv.bind(null,Ne,n),[e.memoizedState,n]}function No(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function cg(){return Gt().memoizedState}function Ba(n,e,t,s){var i=pn();Ne.flags|=n,i.memoizedState=No(1|e,t,void 0,s===void 0?null:s)}function Bl(n,e,t,s){var i=Gt();s=s===void 0?null:s;var r=void 0;if(ke!==null){var o=ke.memoizedState;if(r=o.destroy,s!==null&&Nd(s,o.deps)){i.memoizedState=No(e,t,r,s);return}}Ne.flags|=n,i.memoizedState=No(1|e,t,r,s)}function Qp(n,e){return Ba(8390656,8,n,e)}function Sd(n,e){return Bl(2048,8,n,e)}function hg(n,e){return Bl(4,2,n,e)}function dg(n,e){return Bl(4,4,n,e)}function pg(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function fg(n,e,t){return t=t!=null?t.concat([n]):null,Bl(4,4,pg.bind(null,e,n),t)}function Td(){}function mg(n,e){var t=Gt();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Nd(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function gg(n,e){var t=Gt();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Nd(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function yg(n,e,t){return ei&21?(cn(t,e)||(t=Mm(),Ne.lanes|=t,ti|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mt=!0),n.memoizedState=t)}function Lv(n,e){var t=oe;oe=t!==0&&4>t?t:4,n(!0);var s=ku.transition;ku.transition={};try{n(!1),e()}finally{oe=t,ku.transition=s}}function xg(){return Gt().memoizedState}function kv(n,e,t){var s=Ns(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},vg(n))Ng(e,t);else if(t=eg(n,e,t,s),t!==null){var i=ht();an(t,n,s,i),wg(t,e,s)}}function Iv(n,e,t){var s=Ns(n),i={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(vg(n))Ng(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,t);if(i.hasEagerState=!0,i.eagerState=a,cn(a,o)){var l=e.interleaved;l===null?(i.next=i,md(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=eg(n,e,i,s),t!==null&&(i=ht(),an(t,n,s,i),wg(t,e,s))}}function vg(n){var e=n.alternate;return n===Ne||e!==null&&e===Ne}function Ng(n,e){Yr=pl=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function wg(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,td(n,t)}}var fl={readContext:$t,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Fv={readContext:$t,useCallback:function(n,e){return pn().memoizedState=[n,e===void 0?null:e],n},useContext:$t,useEffect:Qp,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ba(4194308,4,pg.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ba(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ba(4,2,n,e)},useMemo:function(n,e){var t=pn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=pn();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=kv.bind(null,Ne,n),[s.memoizedState,n]},useRef:function(n){var e=pn();return n={current:n},e.memoizedState=n},useState:Yp,useDebugValue:Td,useDeferredValue:function(n){return pn().memoizedState=n},useTransition:function(){var n=Yp(!1),e=n[0];return n=Lv.bind(null,n[1]),pn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=Ne,i=pn();if(ye){if(t===void 0)throw Error(P(407));t=t()}else{if(t=e(),Ue===null)throw Error(P(349));ei&30||rg(s,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,Qp(ag.bind(null,s,r,n),[n]),s.flags|=2048,No(9,og.bind(null,s,r,t,e),void 0,null),t},useId:function(){var n=pn(),e=Ue.identifierPrefix;if(ye){var t=Vn,s=Dn;t=(s&~(1<<32-on(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=xo++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Rv++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Pv={readContext:$t,useCallback:mg,useContext:$t,useEffect:Sd,useImperativeHandle:fg,useInsertionEffect:hg,useLayoutEffect:dg,useMemo:gg,useReducer:Iu,useRef:cg,useState:function(){return Iu(vo)},useDebugValue:Td,useDeferredValue:function(n){var e=Gt();return yg(e,ke.memoizedState,n)},useTransition:function(){var n=Iu(vo)[0],e=Gt().memoizedState;return[n,e]},useMutableSource:sg,useSyncExternalStore:ig,useId:xg,unstable_isNewReconciler:!1},Ov={readContext:$t,useCallback:mg,useContext:$t,useEffect:Sd,useImperativeHandle:fg,useInsertionEffect:hg,useLayoutEffect:dg,useMemo:gg,useReducer:Fu,useRef:cg,useState:function(){return Fu(vo)},useDebugValue:Td,useDeferredValue:function(n){var e=Gt();return ke===null?e.memoizedState=n:yg(e,ke.memoizedState,n)},useTransition:function(){var n=Fu(vo)[0],e=Gt().memoizedState;return[n,e]},useMutableSource:sg,useSyncExternalStore:ig,useId:xg,unstable_isNewReconciler:!1};function en(n,e){if(n&&n.defaultProps){e=we({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function sh(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:we({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ul={isMounted:function(n){return(n=n._reactInternals)?ai(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=ht(),i=Ns(n),r=Hn(s,i);r.payload=e,t!=null&&(r.callback=t),e=xs(n,r,i),e!==null&&(an(e,n,i,s),Da(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=ht(),i=Ns(n),r=Hn(s,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=xs(n,r,i),e!==null&&(an(e,n,i,s),Da(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ht(),s=Ns(n),i=Hn(t,s);i.tag=2,e!=null&&(i.callback=e),e=xs(n,i,s),e!==null&&(an(e,n,s,t),Da(e,n,s))}};function Jp(n,e,t,s,i,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!ho(t,s)||!ho(i,r):!0}function Mg(n,e,t){var s=!1,i=Ts,r=e.contextType;return typeof r=="object"&&r!==null?r=$t(r):(i=xt(e)?Js:it.current,s=e.contextTypes,r=(s=s!=null)?rr(n,i):Ts),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ul,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function Kp(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Ul.enqueueReplaceState(e,e.state,null)}function ih(n,e,t,s){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},gd(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=$t(r):(r=xt(e)?Js:it.current,i.context=rr(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(sh(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ul.enqueueReplaceState(i,i.state,null),hl(n,t,i,s),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function ur(n,e){try{var t="",s=e;do t+=cx(s),s=s.return;while(s);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function Pu(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function rh(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var bv=typeof WeakMap=="function"?WeakMap:Map;function Sg(n,e,t){t=Hn(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){gl||(gl=!0,mh=s),rh(n,e)},t}function Tg(n,e,t){t=Hn(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;t.payload=function(){return s(i)},t.callback=function(){rh(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){rh(n,e),typeof s!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function e0(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new bv;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(i.add(t),n=Qv.bind(null,n,e,t),e.then(n,n))}function t0(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function n0(n,e,t,s,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Hn(-1,1),e.tag=2,xs(t,e,1))),t.lanes|=1),n)}var Dv=Yn.ReactCurrentOwner,mt=!1;function ut(n,e,t,s){e.child=n===null?Km(e,null,t,s):ar(e,n.child,t,s)}function s0(n,e,t,s,i){t=t.render;var r=e.ref;return Zi(e,i),s=wd(n,e,t,s,r,i),t=Md(),n!==null&&!mt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Xn(n,e,i)):(ye&&t&&ud(e),e.flags|=1,ut(n,e,s,i),e.child)}function i0(n,e,t,s,i){if(n===null){var r=t.type;return typeof r=="function"&&!kd(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,Cg(n,e,r,s,i)):(n=Wa(t.type,null,s,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:ho,t(o,s)&&n.ref===e.ref)return Xn(n,e,i)}return e.flags|=1,n=ws(r,s),n.ref=e.ref,n.return=e,e.child=n}function Cg(n,e,t,s,i){if(n!==null){var r=n.memoizedProps;if(ho(r,s)&&n.ref===e.ref)if(mt=!1,e.pendingProps=s=r,(n.lanes&i)!==0)n.flags&131072&&(mt=!0);else return e.lanes=n.lanes,Xn(n,e,i)}return oh(n,e,t,s,i)}function _g(n,e,t){var s=e.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Bi,zt),zt|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,he(Bi,zt),zt|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:t,he(Bi,zt),zt|=s}else r!==null?(s=r.baseLanes|t,e.memoizedState=null):s=t,he(Bi,zt),zt|=s;return ut(n,e,i,t),e.child}function Ag(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function oh(n,e,t,s,i){var r=xt(t)?Js:it.current;return r=rr(e,r),Zi(e,i),t=wd(n,e,t,s,r,i),s=Md(),n!==null&&!mt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Xn(n,e,i)):(ye&&s&&ud(e),e.flags|=1,ut(n,e,t,i),e.child)}function r0(n,e,t,s,i){if(xt(t)){var r=!0;ol(e)}else r=!1;if(Zi(e,i),e.stateNode===null)Ua(n,e),Mg(e,t,s),ih(e,t,s,i),s=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=xt(t)?Js:it.current,u=rr(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&Kp(e,o,s,u),as=!1;var h=e.memoizedState;o.state=h,hl(e,s,o,i),l=e.memoizedState,a!==s||h!==l||yt.current||as?(typeof c=="function"&&(sh(e,t,c,s),l=e.memoizedState),(a=as||Jp(e,t,a,s,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,tg(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:en(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=xt(t)?Js:it.current,l=rr(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Kp(e,o,s,l),as=!1,h=e.memoizedState,o.state=h,hl(e,s,o,i);var f=e.memoizedState;a!==d||h!==f||yt.current||as?(typeof p=="function"&&(sh(e,t,p,s),f=e.memoizedState),(u=as||Jp(e,t,u,s,h,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=f),o.props=s,o.state=f,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),s=!1)}return ah(n,e,t,s,r,i)}function ah(n,e,t,s,i,r){Ag(n,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Wp(e,t,!1),Xn(n,e,r);s=e.stateNode,Dv.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&o?(e.child=ar(e,n.child,null,r),e.child=ar(e,null,a,r)):ut(n,e,a,r),e.memoizedState=s.state,i&&Wp(e,t,!0),e.child}function Eg(n){var e=n.stateNode;e.pendingContext?Hp(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Hp(n,e.context,!1),yd(n,e.containerInfo)}function o0(n,e,t,s,i){return or(),hd(i),e.flags|=256,ut(n,e,t,s),e.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(n){return{baseLanes:n,cachePool:null,transitions:null}}function zg(n,e,t){var s=e.pendingProps,i=xe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),he(xe,i&1),n===null)return th(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,n=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Wl(o,s,0,null),n=Qs(n,s,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=uh(t),e.memoizedState=lh,n):Cd(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Vv(n,e,o,s,a,i,t);if(r){r=s.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=ws(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=ws(a,r):(r=Qs(r,o,t,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=n.child.memoizedState,o=o===null?uh(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=lh,s}return r=n.child,n=r.sibling,s=ws(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function Cd(n,e){return e=Wl({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function sa(n,e,t,s){return s!==null&&hd(s),ar(e,n.child,null,t),n=Cd(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Vv(n,e,t,s,i,r,o){if(t)return e.flags&256?(e.flags&=-257,s=Pu(Error(P(422))),sa(n,e,o,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Wl({mode:"visible",children:s.children},i,0,null),r=Qs(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&ar(e,n.child,null,o),e.child.memoizedState=uh(o),e.memoizedState=lh,r);if(!(e.mode&1))return sa(n,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(P(419)),s=Pu(r,s,void 0),sa(n,e,o,s)}if(a=(o&n.childLanes)!==0,mt||a){if(s=Ue,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,qn(n,i),an(s,n,i,-1))}return Ld(),s=Pu(Error(P(421))),sa(n,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Jv.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,Lt=ys(i.nextSibling),kt=e,ye=!0,nn=null,n!==null&&(Vt[Bt++]=Dn,Vt[Bt++]=Vn,Vt[Bt++]=Ks,Dn=n.id,Vn=n.overflow,Ks=e),e=Cd(e,s.children),e.flags|=4096,e)}function a0(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),nh(n.return,e,t)}function Ou(n,e,t,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=t,r.tailMode=i)}function Rg(n,e,t){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(ut(n,e,s.children,t),s=xe.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&a0(n,t,e);else if(n.tag===19)a0(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(he(xe,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&dl(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Ou(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&dl(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Ou(e,!0,t,null,r);break;case"together":Ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ua(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Xn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ti|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(P(153));if(e.child!==null){for(n=e.child,t=ws(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ws(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Bv(n,e,t){switch(e.tag){case 3:Eg(e),or();break;case 5:ng(e);break;case 1:xt(e.type)&&ol(e);break;case 4:yd(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;he(ul,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(he(xe,xe.current&1),e.flags|=128,null):t&e.child.childLanes?zg(n,e,t):(he(xe,xe.current&1),n=Xn(n,e,t),n!==null?n.sibling:null);he(xe,xe.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return Rg(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(xe,xe.current),s)break;return null;case 22:case 23:return e.lanes=0,_g(n,e,t)}return Xn(n,e,t)}var Lg,ch,kg,Ig;Lg=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ch=function(){};kg=function(n,e,t,s){var i=n.memoizedProps;if(i!==s){n=e.stateNode,Zs(Mn.current);var r=null;switch(t){case"input":i=kc(n,i),s=kc(n,s),r=[];break;case"select":i=we({},i,{value:void 0}),s=we({},s,{value:void 0}),r=[];break;case"textarea":i=Pc(n,i),s=Pc(n,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=il)}bc(t,s);var o;t=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(io.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var l=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(r||(r=[]),r.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(io.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",n),r||a===l||(r=[])):(r=r||[]).push(u,l))}t&&(r=r||[]).push("style",t);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};Ig=function(n,e,t,s){t!==s&&(e.flags|=4)};function Ar(n,e){if(!ye)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Ye(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function Uv(n,e,t){var s=e.pendingProps;switch(cd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return xt(e.type)&&rl(),Ye(e),null;case 3:return s=e.stateNode,lr(),fe(yt),fe(it),vd(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(ta(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(xh(nn),nn=null))),ch(n,e),Ye(e),null;case 5:xd(e);var i=Zs(yo.current);if(t=e.type,n!==null&&e.stateNode!=null)kg(n,e,t,s,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(P(166));return Ye(e),null}if(n=Zs(Mn.current),ta(e)){s=e.stateNode,t=e.type;var r=e.memoizedProps;switch(s[vn]=e,s[mo]=r,n=(e.mode&1)!==0,t){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(i=0;i<jr.length;i++)pe(jr[i],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":gp(s,r),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},pe("invalid",s);break;case"textarea":xp(s,r),pe("invalid",s)}bc(t,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&ea(s.textContent,a,n),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&ea(s.textContent,a,n),i=["children",""+a]):io.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",s)}switch(t){case"input":Go(s),yp(s,r,!0);break;case"textarea":Go(s),vp(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=il)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=am(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(t,{is:s.is}):(n=o.createElement(t),t==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,t),n[vn]=e,n[mo]=s,Lg(n,e,!1,!1),e.stateNode=n;e:{switch(o=Dc(t,s),t){case"dialog":pe("cancel",n),pe("close",n),i=s;break;case"iframe":case"object":case"embed":pe("load",n),i=s;break;case"video":case"audio":for(i=0;i<jr.length;i++)pe(jr[i],n);i=s;break;case"source":pe("error",n),i=s;break;case"img":case"image":case"link":pe("error",n),pe("load",n),i=s;break;case"details":pe("toggle",n),i=s;break;case"input":gp(n,s),i=kc(n,s),pe("invalid",n);break;case"option":i=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},i=we({},s,{value:void 0}),pe("invalid",n);break;case"textarea":xp(n,s),i=Pc(n,s),pe("invalid",n);break;default:i=s}bc(t,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?cm(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lm(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ro(n,l):typeof l=="number"&&ro(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(io.hasOwnProperty(r)?l!=null&&r==="onScroll"&&pe("scroll",n):l!=null&&Zh(n,r,l,o))}switch(t){case"input":Go(n),yp(n,s,!1);break;case"textarea":Go(n),vp(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Ss(s.value));break;case"select":n.multiple=!!s.multiple,r=s.value,r!=null?$i(n,!!s.multiple,r,!1):s.defaultValue!=null&&$i(n,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=il)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(n&&e.stateNode!=null)Ig(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(P(166));if(t=Zs(yo.current),Zs(Mn.current),ta(e)){if(s=e.stateNode,t=e.memoizedProps,s[vn]=e,(r=s.nodeValue!==t)&&(n=kt,n!==null))switch(n.tag){case 3:ea(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ea(s.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[vn]=e,e.stateNode=s}return Ye(e),null;case 13:if(fe(xe),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ye&&Lt!==null&&e.mode&1&&!(e.flags&128))Qm(),or(),e.flags|=98560,r=!1;else if(r=ta(e),s!==null&&s.dehydrated!==null){if(n===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[vn]=e}else or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),r=!1}else nn!==null&&(xh(nn),nn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||xe.current&1?Oe===0&&(Oe=3):Ld())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return lr(),ch(n,e),n===null&&po(e.stateNode.containerInfo),Ye(e),null;case 10:return fd(e.type._context),Ye(e),null;case 17:return xt(e.type)&&rl(),Ye(e),null;case 19:if(fe(xe),r=e.memoizedState,r===null)return Ye(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)Ar(r,!1);else{if(Oe!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=dl(n),o!==null){for(e.flags|=128,Ar(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)r=t,n=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return he(xe,xe.current&1|2),e.child}n=n.sibling}r.tail!==null&&_e()>cr&&(e.flags|=128,s=!0,Ar(r,!1),e.lanes=4194304)}else{if(!s)if(n=dl(o),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ar(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ye)return Ye(e),null}else 2*_e()-r.renderingStartTime>cr&&t!==1073741824&&(e.flags|=128,s=!0,Ar(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=_e(),e.sibling=null,t=xe.current,he(xe,s?t&1|2:t&1),e):(Ye(e),null);case 22:case 23:return Rd(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?zt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function jv(n,e){switch(cd(e),e.tag){case 1:return xt(e.type)&&rl(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return lr(),fe(yt),fe(it),vd(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return xd(e),null;case 13:if(fe(xe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(P(340));or()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return fe(xe),null;case 4:return lr(),null;case 10:return fd(e.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var ia=!1,Ke=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,U=null;function Vi(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){Me(n,e,s)}else t.current=null}function hh(n,e,t){try{t()}catch(s){Me(n,e,s)}}var l0=!1;function Wv(n,e){if(Xc=tl,n=Dm(),ld(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=n,h=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==r||s!==0&&d.nodeType!==3||(l=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++u===i&&(a=o),h===r&&++c===s&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Zc={focusedElem:n,selectionRange:t},tl=!1,U=e;U!==null;)if(e=U,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,U=n;else for(;U!==null;){e=U;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var y=f.memoizedProps,v=f.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:en(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(M){Me(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}return f=l0,l0=!1,f}function Qr(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&hh(e,t,r)}i=i.next}while(i!==s)}}function jl(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function dh(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Fg(n){var e=n.alternate;e!==null&&(n.alternate=null,Fg(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[vn],delete e[mo],delete e[Jc],delete e[_v],delete e[Av])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Pg(n){return n.tag===5||n.tag===3||n.tag===4}function u0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ph(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=il));else if(s!==4&&(n=n.child,n!==null))for(ph(n,e,t),n=n.sibling;n!==null;)ph(n,e,t),n=n.sibling}function fh(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(fh(n,e,t),n=n.sibling;n!==null;)fh(n,e,t),n=n.sibling}var He=null,tn=!1;function Kn(n,e,t){for(t=t.child;t!==null;)Og(n,e,t),t=t.sibling}function Og(n,e,t){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Fl,t)}catch{}switch(t.tag){case 5:Ke||Vi(t,e);case 6:var s=He,i=tn;He=null,Kn(n,e,t),He=s,tn=i,He!==null&&(tn?(n=He,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):He.removeChild(t.stateNode));break;case 18:He!==null&&(tn?(n=He,t=t.stateNode,n.nodeType===8?zu(n.parentNode,t):n.nodeType===1&&zu(n,t),uo(n)):zu(He,t.stateNode));break;case 4:s=He,i=tn,He=t.stateNode.containerInfo,tn=!0,Kn(n,e,t),He=s,tn=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&hh(t,e,o),i=i.next}while(i!==s)}Kn(n,e,t);break;case 1:if(!Ke&&(Vi(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(a){Me(t,e,a)}Kn(n,e,t);break;case 21:Kn(n,e,t);break;case 22:t.mode&1?(Ke=(s=Ke)||t.memoizedState!==null,Kn(n,e,t),Ke=s):Kn(n,e,t);break;default:Kn(n,e,t)}}function c0(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Hv),e.forEach(function(s){var i=Kv.bind(null,n,s);t.has(s)||(t.add(s),s.then(i,i))})}}function Xt(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];try{var r=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,tn=!1;break e;case 3:He=a.stateNode.containerInfo,tn=!0;break e;case 4:He=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(He===null)throw Error(P(160));Og(r,o,i),He=null,tn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Me(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bg(e,n),e=e.sibling}function bg(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xt(e,n),dn(n),s&4){try{Qr(3,n,n.return),jl(3,n)}catch(y){Me(n,n.return,y)}try{Qr(5,n,n.return)}catch(y){Me(n,n.return,y)}}break;case 1:Xt(e,n),dn(n),s&512&&t!==null&&Vi(t,t.return);break;case 5:if(Xt(e,n),dn(n),s&512&&t!==null&&Vi(t,t.return),n.flags&32){var i=n.stateNode;try{ro(i,"")}catch(y){Me(n,n.return,y)}}if(s&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&rm(i,r),Dc(a,o);var u=Dc(a,r);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?cm(i,d):c==="dangerouslySetInnerHTML"?lm(i,d):c==="children"?ro(i,d):Zh(i,c,d,u)}switch(a){case"input":Ic(i,r);break;case"textarea":om(i,r);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?$i(i,!!r.multiple,p,!1):h!==!!r.multiple&&(r.defaultValue!=null?$i(i,!!r.multiple,r.defaultValue,!0):$i(i,!!r.multiple,r.multiple?[]:"",!1))}i[mo]=r}catch(y){Me(n,n.return,y)}}break;case 6:if(Xt(e,n),dn(n),s&4){if(n.stateNode===null)throw Error(P(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(y){Me(n,n.return,y)}}break;case 3:if(Xt(e,n),dn(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{uo(e.containerInfo)}catch(y){Me(n,n.return,y)}break;case 4:Xt(e,n),dn(n);break;case 13:Xt(e,n),dn(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Ed=_e())),s&4&&c0(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Ke=(u=Ke)||c,Xt(e,n),Ke=u):Xt(e,n),dn(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(U=n,c=n.child;c!==null;){for(d=U=c;U!==null;){switch(h=U,p=h.child,h.tag){case 0:case 11:case 14:case 15:Qr(4,h,h.return);break;case 1:Vi(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){s=h,t=h.return;try{e=s,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(y){Me(s,t,y)}}break;case 5:Vi(h,h.return);break;case 22:if(h.memoizedState!==null){d0(d);continue}}p!==null?(p.return=h,U=p):d0(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=um("display",o))}catch(y){Me(n,n.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Me(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(e,n),dn(n),s&4&&c0(n);break;case 21:break;default:Xt(e,n),dn(n)}}function dn(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Pg(t)){var s=t;break e}t=t.return}throw Error(P(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ro(i,""),s.flags&=-33);var r=u0(n);fh(n,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=u0(n);ph(n,a,o);break;default:throw Error(P(161))}}catch(l){Me(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function $v(n,e,t){U=n,Dg(n)}function Dg(n,e,t){for(var s=(n.mode&1)!==0;U!==null;){var i=U,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||ia;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=ia;var u=Ke;if(ia=o,(Ke=l)&&!u)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?p0(i):l!==null?(l.return=o,U=l):p0(i);for(;r!==null;)U=r,Dg(r),r=r.sibling;U=i,ia=a,Ke=u}h0(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,U=r):h0(n)}}function h0(n){for(;U!==null;){var e=U;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||jl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ke)if(t===null)s.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:en(e.type,t.memoizedProps);s.componentDidUpdate(i,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Zp(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Zp(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&uo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ke||e.flags&512&&dh(e)}catch(h){Me(e,e.return,h)}}if(e===n){U=null;break}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}}function d0(n){for(;U!==null;){var e=U;if(e===n){U=null;break}var t=e.sibling;if(t!==null){t.return=e.return,U=t;break}U=e.return}}function p0(n){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jl(4,e)}catch(l){Me(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){Me(e,i,l)}}var r=e.return;try{dh(e)}catch(l){Me(e,r,l)}break;case 5:var o=e.return;try{dh(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===n){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var Gv=Math.ceil,ml=Yn.ReactCurrentDispatcher,_d=Yn.ReactCurrentOwner,Ht=Yn.ReactCurrentBatchConfig,J=0,Ue=null,ze=null,$e=0,zt=0,Bi=Ls(0),Oe=0,wo=null,ti=0,Hl=0,Ad=0,Jr=null,ft=null,Ed=0,cr=1/0,kn=null,gl=!1,mh=null,vs=null,ra=!1,ds=null,yl=0,Kr=0,gh=null,ja=-1,Ha=0;function ht(){return J&6?_e():ja!==-1?ja:ja=_e()}function Ns(n){return n.mode&1?J&2&&$e!==0?$e&-$e:zv.transition!==null?(Ha===0&&(Ha=Mm()),Ha):(n=oe,n!==0||(n=window.event,n=n===void 0?16:zm(n.type)),n):1}function an(n,e,t,s){if(50<Kr)throw Kr=0,gh=null,Error(P(185));ko(n,t,s),(!(J&2)||n!==Ue)&&(n===Ue&&(!(J&2)&&(Hl|=t),Oe===4&&us(n,$e)),vt(n,s),t===1&&J===0&&!(e.mode&1)&&(cr=_e()+500,Vl&&ks()))}function vt(n,e){var t=n.callbackNode;zx(n,e);var s=el(n,n===Ue?$e:0);if(s===0)t!==null&&Mp(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&Mp(t),e===1)n.tag===0?Ev(f0.bind(null,n)):Xm(f0.bind(null,n)),Tv(function(){!(J&6)&&ks()}),t=null;else{switch(Sm(s)){case 1:t=ed;break;case 4:t=Nm;break;case 16:t=Ka;break;case 536870912:t=wm;break;default:t=Ka}t=Gg(t,Vg.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Vg(n,e){if(ja=-1,Ha=0,J&6)throw Error(P(327));var t=n.callbackNode;if(Yi()&&n.callbackNode!==t)return null;var s=el(n,n===Ue?$e:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=xl(n,s);else{e=s;var i=J;J|=2;var r=Ug();(Ue!==n||$e!==e)&&(kn=null,cr=_e()+500,Ys(n,e));do try{Zv();break}catch(a){Bg(n,a)}while(!0);pd(),ml.current=r,J=i,ze!==null?e=0:(Ue=null,$e=0,e=Oe)}if(e!==0){if(e===2&&(i=Hc(n),i!==0&&(s=i,e=yh(n,i))),e===1)throw t=wo,Ys(n,0),us(n,s),vt(n,_e()),t;if(e===6)us(n,s);else{if(i=n.current.alternate,!(s&30)&&!qv(i)&&(e=xl(n,s),e===2&&(r=Hc(n),r!==0&&(s=r,e=yh(n,r))),e===1))throw t=wo,Ys(n,0),us(n,s),vt(n,_e()),t;switch(n.finishedWork=i,n.finishedLanes=s,e){case 0:case 1:throw Error(P(345));case 2:Ws(n,ft,kn);break;case 3:if(us(n,s),(s&130023424)===s&&(e=Ed+500-_e(),10<e)){if(el(n,0)!==0)break;if(i=n.suspendedLanes,(i&s)!==s){ht(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Qc(Ws.bind(null,n,ft,kn),e);break}Ws(n,ft,kn);break;case 4:if(us(n,s),(s&4194240)===s)break;for(e=n.eventTimes,i=-1;0<s;){var o=31-on(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=_e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gv(s/1960))-s,10<s){n.timeoutHandle=Qc(Ws.bind(null,n,ft,kn),s);break}Ws(n,ft,kn);break;case 5:Ws(n,ft,kn);break;default:throw Error(P(329))}}}return vt(n,_e()),n.callbackNode===t?Vg.bind(null,n):null}function yh(n,e){var t=Jr;return n.current.memoizedState.isDehydrated&&(Ys(n,e).flags|=256),n=xl(n,e),n!==2&&(e=ft,ft=t,e!==null&&xh(e)),n}function xh(n){ft===null?ft=n:ft.push.apply(ft,n)}function qv(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var i=t[s],r=i.getSnapshot;i=i.value;try{if(!cn(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(n,e){for(e&=~Ad,e&=~Hl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-on(e),s=1<<t;n[t]=-1,e&=~s}}function f0(n){if(J&6)throw Error(P(327));Yi();var e=el(n,0);if(!(e&1))return vt(n,_e()),null;var t=xl(n,e);if(n.tag!==0&&t===2){var s=Hc(n);s!==0&&(e=s,t=yh(n,s))}if(t===1)throw t=wo,Ys(n,0),us(n,e),vt(n,_e()),t;if(t===6)throw Error(P(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ws(n,ft,kn),vt(n,_e()),null}function zd(n,e){var t=J;J|=1;try{return n(e)}finally{J=t,J===0&&(cr=_e()+500,Vl&&ks())}}function ni(n){ds!==null&&ds.tag===0&&!(J&6)&&Yi();var e=J;J|=1;var t=Ht.transition,s=oe;try{if(Ht.transition=null,oe=1,n)return n()}finally{oe=s,Ht.transition=t,J=e,!(J&6)&&ks()}}function Rd(){zt=Bi.current,fe(Bi)}function Ys(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Sv(t)),ze!==null)for(t=ze.return;t!==null;){var s=t;switch(cd(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&rl();break;case 3:lr(),fe(yt),fe(it),vd();break;case 5:xd(s);break;case 4:lr();break;case 13:fe(xe);break;case 19:fe(xe);break;case 10:fd(s.type._context);break;case 22:case 23:Rd()}t=t.return}if(Ue=n,ze=n=ws(n.current,null),$e=zt=e,Oe=0,wo=null,Ad=Hl=ti=0,ft=Jr=null,Xs!==null){for(e=0;e<Xs.length;e++)if(t=Xs[e],s=t.interleaved,s!==null){t.interleaved=null;var i=s.next,r=t.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}t.pending=s}Xs=null}return n}function Bg(n,e){do{var t=ze;try{if(pd(),Va.current=fl,pl){for(var s=Ne.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}pl=!1}if(ei=0,Ve=ke=Ne=null,Yr=!1,xo=0,_d.current=null,t===null||t.return===null){Oe=1,wo=e,ze=null;break}e:{var r=n,o=t.return,a=t,l=e;if(e=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=t0(o);if(p!==null){p.flags&=-257,n0(p,o,a,r,e),p.mode&1&&e0(r,u,e),e=p,l=u;var f=e.updateQueue;if(f===null){var y=new Set;y.add(l),e.updateQueue=y}else f.add(l);break e}else{if(!(e&1)){e0(r,u,e),Ld();break e}l=Error(P(426))}}else if(ye&&a.mode&1){var v=t0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),n0(v,o,a,r,e),hd(ur(l,a));break e}}r=l=ur(l,a),Oe!==4&&(Oe=2),Jr===null?Jr=[r]:Jr.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var m=Sg(r,l,e);Xp(r,m);break e;case 1:a=l;var g=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vs===null||!vs.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var M=Tg(r,a,e);Xp(r,M);break e}}r=r.return}while(r!==null)}Hg(t)}catch(E){e=E,ze===t&&t!==null&&(ze=t=t.return);continue}break}while(!0)}function Ug(){var n=ml.current;return ml.current=fl,n===null?fl:n}function Ld(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(ti&268435455)&&!(Hl&268435455)||us(Ue,$e)}function xl(n,e){var t=J;J|=2;var s=Ug();(Ue!==n||$e!==e)&&(kn=null,Ys(n,e));do try{Xv();break}catch(i){Bg(n,i)}while(!0);if(pd(),J=t,ml.current=s,ze!==null)throw Error(P(261));return Ue=null,$e=0,Oe}function Xv(){for(;ze!==null;)jg(ze)}function Zv(){for(;ze!==null&&!Nx();)jg(ze)}function jg(n){var e=$g(n.alternate,n,zt);n.memoizedProps=n.pendingProps,e===null?Hg(n):ze=e,_d.current=null}function Hg(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=jv(t,e),t!==null){t.flags&=32767,ze=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Oe=6,ze=null;return}}else if(t=Uv(t,e,zt),t!==null){ze=t;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=n}while(e!==null);Oe===0&&(Oe=5)}function Ws(n,e,t){var s=oe,i=Ht.transition;try{Ht.transition=null,oe=1,Yv(n,e,t,s)}finally{Ht.transition=i,oe=s}return null}function Yv(n,e,t,s){do Yi();while(ds!==null);if(J&6)throw Error(P(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(P(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(Rx(n,r),n===Ue&&(ze=Ue=null,$e=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ra||(ra=!0,Gg(Ka,function(){return Yi(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Ht.transition,Ht.transition=null;var o=oe;oe=1;var a=J;J|=4,_d.current=null,Wv(n,t),bg(t,n),gv(Zc),tl=!!Xc,Zc=Xc=null,n.current=t,$v(t),wx(),J=a,oe=o,Ht.transition=r}else n.current=t;if(ra&&(ra=!1,ds=n,yl=i),r=n.pendingLanes,r===0&&(vs=null),Tx(t.stateNode),vt(n,_e()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],s(i.value,{componentStack:i.stack,digest:i.digest});if(gl)throw gl=!1,n=mh,mh=null,n;return yl&1&&n.tag!==0&&Yi(),r=n.pendingLanes,r&1?n===gh?Kr++:(Kr=0,gh=n):Kr=0,ks(),null}function Yi(){if(ds!==null){var n=Sm(yl),e=Ht.transition,t=oe;try{if(Ht.transition=null,oe=16>n?16:n,ds===null)var s=!1;else{if(n=ds,ds=null,yl=0,J&6)throw Error(P(331));var i=J;for(J|=4,U=n.current;U!==null;){var r=U,o=r.child;if(U.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:Qr(8,c,r)}var d=c.child;if(d!==null)d.return=c,U=d;else for(;U!==null;){c=U;var h=c.sibling,p=c.return;if(Fg(c),c===u){U=null;break}if(h!==null){h.return=p,U=h;break}U=p}}}var f=r.alternate;if(f!==null){var y=f.child;if(y!==null){f.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}U=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,U=o;else e:for(;U!==null;){if(r=U,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Qr(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,U=m;break e}U=r.return}}var g=n.current;for(U=g;U!==null;){o=U;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,U=x;else e:for(o=g;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jl(9,a)}}catch(E){Me(a,a.return,E)}if(a===o){U=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,U=M;break e}U=a.return}}if(J=i,ks(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Fl,n)}catch{}s=!0}return s}finally{oe=t,Ht.transition=e}}return!1}function m0(n,e,t){e=ur(t,e),e=Sg(n,e,1),n=xs(n,e,1),e=ht(),n!==null&&(ko(n,1,e),vt(n,e))}function Me(n,e,t){if(n.tag===3)m0(n,n,t);else for(;e!==null;){if(e.tag===3){m0(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vs===null||!vs.has(s))){n=ur(t,n),n=Tg(e,n,1),e=xs(e,n,1),n=ht(),e!==null&&(ko(e,1,n),vt(e,n));break}}e=e.return}}function Qv(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=ht(),n.pingedLanes|=n.suspendedLanes&t,Ue===n&&($e&t)===t&&(Oe===4||Oe===3&&($e&130023424)===$e&&500>_e()-Ed?Ys(n,0):Ad|=t),vt(n,e)}function Wg(n,e){e===0&&(n.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var t=ht();n=qn(n,e),n!==null&&(ko(n,e,t),vt(n,t))}function Jv(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Wg(n,t)}function Kv(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(P(314))}s!==null&&s.delete(e),Wg(n,t)}var $g;$g=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||yt.current)mt=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mt=!1,Bv(n,e,t);mt=!!(n.flags&131072)}else mt=!1,ye&&e.flags&1048576&&Zm(e,ll,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ua(n,e),n=e.pendingProps;var i=rr(e,it.current);Zi(e,t),i=wd(null,e,s,n,i,t);var r=Md();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(s)?(r=!0,ol(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gd(e),i.updater=Ul,e.stateNode=i,i._reactInternals=e,ih(e,s,n,t),e=ah(null,e,s,!0,r,t)):(e.tag=0,ye&&r&&ud(e),ut(null,e,i,t),e=e.child),e;case 16:s=e.elementType;e:{switch(Ua(n,e),n=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=tN(s),n=en(s,n),i){case 0:e=oh(null,e,s,n,t);break e;case 1:e=r0(null,e,s,n,t);break e;case 11:e=s0(null,e,s,n,t);break e;case 14:e=i0(null,e,s,en(s.type,n),t);break e}throw Error(P(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:en(s,i),oh(n,e,s,i,t);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:en(s,i),r0(n,e,s,i,t);case 3:e:{if(Eg(e),n===null)throw Error(P(387));s=e.pendingProps,r=e.memoizedState,i=r.element,tg(n,e),hl(e,s,null,t);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=ur(Error(P(423)),e),e=o0(n,e,s,t,i);break e}else if(s!==i){i=ur(Error(P(424)),e),e=o0(n,e,s,t,i);break e}else for(Lt=ys(e.stateNode.containerInfo.firstChild),kt=e,ye=!0,nn=null,t=Km(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(or(),s===i){e=Xn(n,e,t);break e}ut(n,e,s,t)}e=e.child}return e;case 5:return ng(e),n===null&&th(e),s=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,o=i.children,Yc(s,i)?o=null:r!==null&&Yc(s,r)&&(e.flags|=32),Ag(n,e),ut(n,e,o,t),e.child;case 6:return n===null&&th(e),null;case 13:return zg(n,e,t);case 4:return yd(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=ar(e,null,s,t):ut(n,e,s,t),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:en(s,i),s0(n,e,s,i,t);case 7:return ut(n,e,e.pendingProps,t),e.child;case 8:return ut(n,e,e.pendingProps.children,t),e.child;case 12:return ut(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,he(ul,s._currentValue),s._currentValue=o,r!==null)if(cn(r.value,o)){if(r.children===i.children&&!yt.current){e=Xn(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Hn(-1,t&-t),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),nh(r.return,t,e),a.lanes|=t;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(P(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),nh(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}ut(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Zi(e,t),i=$t(i),s=s(i),e.flags|=1,ut(n,e,s,t),e.child;case 14:return s=e.type,i=en(s,e.pendingProps),i=en(s.type,i),i0(n,e,s,i,t);case 15:return Cg(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:en(s,i),Ua(n,e),e.tag=1,xt(s)?(n=!0,ol(e)):n=!1,Zi(e,t),Mg(e,s,i),ih(e,s,i,t),ah(null,e,s,!0,n,t);case 19:return Rg(n,e,t);case 22:return _g(n,e,t)}throw Error(P(156,e.tag))};function Gg(n,e){return vm(n,e)}function eN(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(n,e,t,s){return new eN(n,e,t,s)}function kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tN(n){if(typeof n=="function")return kd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Qh)return 11;if(n===Jh)return 14}return 2}function ws(n,e){var t=n.alternate;return t===null?(t=Ut(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Wa(n,e,t,s,i,r){var o=2;if(s=n,typeof n=="function")kd(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ri:return Qs(t.children,i,r,e);case Yh:o=8,i|=8;break;case Ec:return n=Ut(12,t,e,i|2),n.elementType=Ec,n.lanes=r,n;case zc:return n=Ut(13,t,e,i),n.elementType=zc,n.lanes=r,n;case Rc:return n=Ut(19,t,e,i),n.elementType=Rc,n.lanes=r,n;case nm:return Wl(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case em:o=10;break e;case tm:o=9;break e;case Qh:o=11;break e;case Jh:o=14;break e;case os:o=16,s=null;break e}throw Error(P(130,n==null?n:typeof n,""))}return e=Ut(o,t,e,i),e.elementType=n,e.type=s,e.lanes=r,e}function Qs(n,e,t,s){return n=Ut(7,n,s,e),n.lanes=t,n}function Wl(n,e,t,s){return n=Ut(22,n,s,e),n.elementType=nm,n.lanes=t,n.stateNode={isHidden:!1},n}function bu(n,e,t){return n=Ut(6,n,null,e),n.lanes=t,n}function Du(n,e,t){return e=Ut(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function nN(n,e,t,s,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Id(n,e,t,s,i,r,o,a,l){return n=new nN(n,e,t,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Ut(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(r),n}function sN(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function qg(n){if(!n)return Ts;n=n._reactInternals;e:{if(ai(n)!==n||n.tag!==1)throw Error(P(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(n.tag===1){var t=n.type;if(xt(t))return qm(n,t,e)}return e}function Xg(n,e,t,s,i,r,o,a,l){return n=Id(t,s,!0,n,i,r,o,a,l),n.context=qg(null),t=n.current,s=ht(),i=Ns(t),r=Hn(s,i),r.callback=e??null,xs(t,r,i),n.current.lanes=i,ko(n,i,s),vt(n,s),n}function $l(n,e,t,s){var i=e.current,r=ht(),o=Ns(i);return t=qg(t),e.context===null?e.context=t:e.pendingContext=t,e=Hn(r,o),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=xs(i,e,o),n!==null&&(an(n,i,o,r),Da(n,i,o)),o}function vl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function g0(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Fd(n,e){g0(n,e),(n=n.alternate)&&g0(n,e)}function iN(){return null}var Zg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Pd(n){this._internalRoot=n}Gl.prototype.render=Pd.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(P(409));$l(n,e,null,null)};Gl.prototype.unmount=Pd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ni(function(){$l(null,n,null,null)}),e[Gn]=null}};function Gl(n){this._internalRoot=n}Gl.prototype.unstable_scheduleHydration=function(n){if(n){var e=_m();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ls.length&&e!==0&&e<ls[t].priority;t++);ls.splice(t,0,n),t===0&&Em(n)}};function Od(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ql(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function y0(){}function rN(n,e,t,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=vl(o);r.call(u)}}var o=Xg(e,s,n,0,null,!1,!1,"",y0);return n._reactRootContainer=o,n[Gn]=o.current,po(n.nodeType===8?n.parentNode:n),ni(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=vl(l);a.call(u)}}var l=Id(n,0,!1,null,null,!1,!1,"",y0);return n._reactRootContainer=l,n[Gn]=l.current,po(n.nodeType===8?n.parentNode:n),ni(function(){$l(e,l,t,s)}),l}function Xl(n,e,t,s,i){var r=t._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=vl(o);a.call(l)}}$l(e,o,n,i)}else o=rN(t,e,n,i,s);return vl(o)}Tm=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ur(e.pendingLanes);t!==0&&(td(e,t|1),vt(e,_e()),!(J&6)&&(cr=_e()+500,ks()))}break;case 13:ni(function(){var s=qn(n,1);if(s!==null){var i=ht();an(s,n,1,i)}}),Fd(n,1)}};nd=function(n){if(n.tag===13){var e=qn(n,134217728);if(e!==null){var t=ht();an(e,n,134217728,t)}Fd(n,134217728)}};Cm=function(n){if(n.tag===13){var e=Ns(n),t=qn(n,e);if(t!==null){var s=ht();an(t,n,e,s)}Fd(n,e)}};_m=function(){return oe};Am=function(n,e){var t=oe;try{return oe=n,e()}finally{oe=t}};Bc=function(n,e,t){switch(e){case"input":if(Ic(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var i=Dl(s);if(!i)throw Error(P(90));im(s),Ic(s,i)}}}break;case"textarea":om(n,t);break;case"select":e=t.value,e!=null&&$i(n,!!t.multiple,e,!1)}};pm=zd;fm=ni;var oN={usingClientEntryPoint:!1,Events:[Fo,Fi,Dl,hm,dm,zd]},Er={findFiberByHostInstance:qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aN={bundleType:Er.bundleType,version:Er.version,rendererPackageName:Er.rendererPackageName,rendererConfig:Er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ym(n),n===null?null:n.stateNode},findFiberByHostInstance:Er.findFiberByHostInstance||iN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{Fl=oa.inject(aN),wn=oa}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oN;Ot.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(e))throw Error(P(200));return sN(n,e,null,t)};Ot.createRoot=function(n,e){if(!Od(n))throw Error(P(299));var t=!1,s="",i=Zg;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Id(n,1,!1,null,null,t,!1,s,i),n[Gn]=e.current,po(n.nodeType===8?n.parentNode:n),new Pd(e)};Ot.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(P(188)):(n=Object.keys(n).join(","),Error(P(268,n)));return n=ym(e),n=n===null?null:n.stateNode,n};Ot.flushSync=function(n){return ni(n)};Ot.hydrate=function(n,e,t){if(!ql(e))throw Error(P(200));return Xl(null,n,e,!0,t)};Ot.hydrateRoot=function(n,e,t){if(!Od(n))throw Error(P(405));var s=t!=null&&t.hydratedSources||null,i=!1,r="",o=Zg;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Xg(e,null,n,1,t??null,i,!1,r,o),n[Gn]=e.current,po(n),s)for(n=0;n<s.length;n++)t=s[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Gl(e)};Ot.render=function(n,e,t){if(!ql(e))throw Error(P(200));return Xl(null,n,e,!1,t)};Ot.unmountComponentAtNode=function(n){if(!ql(n))throw Error(P(40));return n._reactRootContainer?(ni(function(){Xl(null,null,n,!1,function(){n._reactRootContainer=null,n[Gn]=null})}),!0):!1};Ot.unstable_batchedUpdates=zd;Ot.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!ql(t))throw Error(P(200));if(n==null||n._reactInternals===void 0)throw Error(P(38));return Xl(n,e,t,!1,s)};Ot.version="18.3.1-next-f1338f8080-20240426";function Yg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yg)}catch(n){console.error(n)}}Yg(),Yf.exports=Ot;var lN=Yf.exports,x0=lN;_c.createRoot=x0.createRoot,_c.hydrateRoot=x0.hydrateRoot;const v0={VERTEX:"vertex",FRAGMENT:"fragment"},K={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},Zl=["x","y","z","w"];/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qg="166",vh=0,Jg=1,Nh=1,N0=100,w0=204,M0=205,S0=3,bd=0,Mo=0,uN=1,cN=2,hN=3,dN=4,pN=6,fN=7,Kg=300,T0=1e3,Hr=1001,C0=1002,Cs=1003,e2=1006,t2=1008,mN=1009,gN=1013,n2=1014,s2=1015,yN=1016,xN=1020,vN=1023,Vu=1026,_0=1027,_s=0,NN=1,i2="",In="srgb",gr="srgb-linear",wN="display-p3",r2="display-p3-linear",wh="linear",A0="srgb",E0="rec709",z0="p3",mi=7680,R0=519,MN=513,Nl=35044,Wr=35048,Bn=2e3,So=2001;class li{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(t)===-1&&s[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const i=s.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e);e.target=null}}}const Qe=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let L0=1234567;const eo=Math.PI/180,To=180/Math.PI;function Wn(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Qe[n&255]+Qe[n>>8&255]+Qe[n>>16&255]+Qe[n>>24&255]+"-"+Qe[e&255]+Qe[e>>8&255]+"-"+Qe[e>>16&15|64]+Qe[e>>24&255]+"-"+Qe[t&63|128]+Qe[t>>8&255]+"-"+Qe[t>>16&255]+Qe[t>>24&255]+Qe[s&255]+Qe[s>>8&255]+Qe[s>>16&255]+Qe[s>>24&255]).toLowerCase()}function et(n,e,t){return Math.max(e,Math.min(t,n))}function Dd(n,e){return(n%e+e)%e}function SN(n,e,t,s,i){return s+(n-e)*(i-s)/(t-e)}function TN(n,e,t){return n!==e?(t-n)/(e-n):0}function to(n,e,t){return(1-t)*n+t*e}function CN(n,e,t,s){return to(n,e,1-Math.exp(-t*s))}function _N(n,e=1){return e-Math.abs(Dd(n,e*2)-e)}function AN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function EN(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function zN(n,e){return n+Math.floor(Math.random()*(e-n+1))}function RN(n,e){return n+Math.random()*(e-n)}function LN(n){return n*(.5-Math.random())}function kN(n){n!==void 0&&(L0=n);let e=L0+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function IN(n){return n*eo}function FN(n){return n*To}function PN(n){return(n&n-1)===0&&n!==0}function ON(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function bN(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function DN(n,e,t,s,i){const r=Math.cos,o=Math.sin,a=r(t/2),l=o(t/2),u=r((e+s)/2),c=o((e+s)/2),d=r((e-s)/2),h=o((e-s)/2),p=r((s-e)/2),f=o((s-e)/2);switch(i){case"XYX":n.set(a*c,l*d,l*h,a*u);break;case"YZY":n.set(l*h,a*c,l*d,a*u);break;case"ZXZ":n.set(l*d,l*h,a*c,a*u);break;case"XZX":n.set(a*c,l*f,l*p,a*u);break;case"YXY":n.set(l*p,a*c,l*f,a*u);break;case"ZYZ":n.set(l*f,l*p,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function sn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function re(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const o2={DEG2RAD:eo,RAD2DEG:To,generateUUID:Wn,clamp:et,euclideanModulo:Dd,mapLinear:SN,inverseLerp:TN,lerp:to,damp:CN,pingpong:_N,smoothstep:AN,smootherstep:EN,randInt:zN,randFloat:RN,randFloatSpread:LN,seededRandom:kN,degToRad:IN,radToDeg:FN,isPowerOfTwo:PN,ceilPowerOfTwo:ON,floorPowerOfTwo:bN,setQuaternionFromProperEuler:DN,normalize:re,denormalize:sn};class X{constructor(e=0,t=0){X.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,s=this.y,i=e.elements;return this.x=i[0]*t+i[3]*s+i[6],this.y=i[1]*t+i[4]*s+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(e)/t;return Math.acos(et(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,s=this.y-e.y;return t*t+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const s=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*s-o*i+e.x,this.y=r*i+o*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ce{constructor(e,t,s,i,r,o,a,l,u){ce.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,s,i,r,o,a,l,u)}set(e,t,s,i,r,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=l,c[6]=s,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],this}extractBasis(e,t,s){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,i=t.elements,r=this.elements,o=s[0],a=s[3],l=s[6],u=s[1],c=s[4],d=s[7],h=s[2],p=s[5],f=s[8],y=i[0],v=i[3],m=i[6],g=i[1],x=i[4],M=i[7],E=i[2],I=i[5],A=i[8];return r[0]=o*y+a*g+l*E,r[3]=o*v+a*x+l*I,r[6]=o*m+a*M+l*A,r[1]=u*y+c*g+d*E,r[4]=u*v+c*x+d*I,r[7]=u*m+c*M+d*A,r[2]=h*y+p*g+f*E,r[5]=h*v+p*x+f*I,r[8]=h*m+p*M+f*A,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-s*r*c+s*a*l+i*r*u-i*o*l}invert(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*o-a*u,h=a*l-c*r,p=u*r-o*l,f=t*d+s*h+i*p;if(f===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/f;return e[0]=d*y,e[1]=(i*u-c*s)*y,e[2]=(a*s-i*o)*y,e[3]=h*y,e[4]=(c*t-i*l)*y,e[5]=(i*r-a*t)*y,e[6]=p*y,e[7]=(s*l-u*t)*y,e[8]=(o*t-s*r)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,s,i,r,o,a){const l=Math.cos(r),u=Math.sin(r);return this.set(s*l,s*u,-s*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Bu.makeScale(e,t)),this}rotate(e){return this.premultiply(Bu.makeRotation(-e)),this}translate(e,t){return this.premultiply(Bu.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,s,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,s=e.elements;for(let i=0;i<9;i++)if(t[i]!==s[i])return!1;return!0}fromArray(e,t=0){for(let s=0;s<9;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Bu=new ce;function VN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function k0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const I0={};function a2(n){n in I0||(I0[n]=!0,console.warn(n))}const F0=new ce().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),P0=new ce().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),aa={[gr]:{transfer:wh,primaries:E0,toReference:n=>n,fromReference:n=>n},[In]:{transfer:A0,primaries:E0,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[r2]:{transfer:wh,primaries:z0,toReference:n=>n.applyMatrix3(P0),fromReference:n=>n.applyMatrix3(F0)},[wN]:{transfer:A0,primaries:z0,toReference:n=>n.convertSRGBToLinear().applyMatrix3(P0),fromReference:n=>n.applyMatrix3(F0).convertLinearToSRGB()}},BN=new Set([gr,r2]),Zt={enabled:!0,_workingColorSpace:gr,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!BN.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const s=aa[e].toReference,i=aa[t].fromReference;return i(s(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return aa[n].primaries},getTransfer:function(n){return n===i2?wh:aa[n].transfer}};function Qi(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Uu(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let gi;class UN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{gi===void 0&&(gi=k0("canvas")),gi.width=e.width,gi.height=e.height;const s=gi.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),t=gi}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=k0("canvas");t.width=e.width,t.height=e.height;const s=t.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const i=s.getImageData(0,0,e.width,e.height),r=i.data;for(let o=0;o<r.length;o++)r[o]=Qi(r[o]/255)*255;return s.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let s=0;s<t.length;s++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[s]=Math.floor(Qi(t[s]/255)*255):t[s]=Qi(t[s]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jN=0;class l2{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jN++}),this.uuid=Wn(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},i=this.data;if(i!==null){let r;if(Array.isArray(i)){r=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?r.push(ju(i[o].image)):r.push(ju(i[o]))}else r=ju(i);s.url=r}return t||(e.images[this.uuid]=s),s}}function ju(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?UN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let HN=0;class ln extends li{constructor(e=ln.DEFAULT_IMAGE,t=ln.DEFAULT_MAPPING,s=Hr,i=Hr,r=e2,o=t2,a=vN,l=mN,u=ln.DEFAULT_ANISOTROPY,c=i2){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:HN++}),this.uuid=Wn(),this.name="",this.source=new l2(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=s,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new X(0,0),this.repeat=new X(1,1),this.center=new X(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ce,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),t||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Kg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case T0:e.x=e.x-Math.floor(e.x);break;case Hr:e.x=e.x<0?0:1;break;case C0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case T0:e.y=e.y-Math.floor(e.y);break;case Hr:e.y=e.y<0?0:1;break;case C0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ln.DEFAULT_IMAGE=null;ln.DEFAULT_MAPPING=Kg;ln.DEFAULT_ANISOTROPY=1;class Fe{constructor(e=0,t=0,s=0,i=1){Fe.prototype.isVector4=!0,this.x=e,this.y=t,this.z=s,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,s,i){return this.x=e,this.y=t,this.z=s,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,s=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*s+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*s+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*s+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*s+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,s,i,r;const l=e.elements,u=l[0],c=l[4],d=l[8],h=l[1],p=l[5],f=l[9],y=l[2],v=l[6],m=l[10];if(Math.abs(c-h)<.01&&Math.abs(d-y)<.01&&Math.abs(f-v)<.01){if(Math.abs(c+h)<.1&&Math.abs(d+y)<.1&&Math.abs(f+v)<.1&&Math.abs(u+p+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(u+1)/2,M=(p+1)/2,E=(m+1)/2,I=(c+h)/4,A=(d+y)/4,L=(f+v)/4;return x>M&&x>E?x<.01?(s=0,i=.707106781,r=.707106781):(s=Math.sqrt(x),i=I/s,r=A/s):M>E?M<.01?(s=.707106781,i=0,r=.707106781):(i=Math.sqrt(M),s=I/i,r=L/i):E<.01?(s=.707106781,i=.707106781,r=0):(r=Math.sqrt(E),s=A/r,i=L/r),this.set(s,i,r,t),this}let g=Math.sqrt((v-f)*(v-f)+(d-y)*(d-y)+(h-c)*(h-c));return Math.abs(g)<.001&&(g=1),this.x=(v-f)/g,this.y=(d-y)/g,this.z=(h-c)/g,this.w=Math.acos((u+p+m-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this.z=e.z+(t.z-e.z)*s,this.w=e.w+(t.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class As extends li{constructor(e=1,t=1,s={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Fe(0,0,e,t),this.scissorTest=!1,this.viewport=new Fe(0,0,e,t);const i={width:e,height:t,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:e2,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const r=new ln(i,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);r.flipY=!1,r.generateMipmaps=s.generateMipmaps,r.internalFormat=s.internalFormat,this.textures=[];const o=s.count;for(let a=0;a<o;a++)this.textures[a]=r.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,s=1){if(this.width!==e||this.height!==t||this.depth!==s){this.width=e,this.height=t,this.depth=s;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=s;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let s=0,i=e.textures.length;s<i;s++)this.textures[s]=e.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new l2(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WN extends ln{constructor(e=null,t=1,s=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:s,depth:i},this.magFilter=Cs,this.minFilter=Cs,this.wrapR=Hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Oo{constructor(e=0,t=0,s=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=s,this._w=i}static slerpFlat(e,t,s,i,r,o,a){let l=s[i+0],u=s[i+1],c=s[i+2],d=s[i+3];const h=r[o+0],p=r[o+1],f=r[o+2],y=r[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d;return}if(a===1){e[t+0]=h,e[t+1]=p,e[t+2]=f,e[t+3]=y;return}if(d!==y||l!==h||u!==p||c!==f){let v=1-a;const m=l*h+u*p+c*f+d*y,g=m>=0?1:-1,x=1-m*m;if(x>Number.EPSILON){const E=Math.sqrt(x),I=Math.atan2(E,m*g);v=Math.sin(v*I)/E,a=Math.sin(a*I)/E}const M=a*g;if(l=l*v+h*M,u=u*v+p*M,c=c*v+f*M,d=d*v+y*M,v===1-a){const E=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=E,u*=E,c*=E,d*=E}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,s,i,r,o){const a=s[i],l=s[i+1],u=s[i+2],c=s[i+3],d=r[o],h=r[o+1],p=r[o+2],f=r[o+3];return e[t]=a*f+c*d+l*p-u*h,e[t+1]=l*f+c*h+u*d-a*p,e[t+2]=u*f+c*p+a*h-l*d,e[t+3]=c*f-a*d-l*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,s,i){return this._x=e,this._y=t,this._z=s,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const s=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(s/2),c=a(i/2),d=a(r/2),h=l(s/2),p=l(i/2),f=l(r/2);switch(o){case"XYZ":this._x=h*c*d+u*p*f,this._y=u*p*d-h*c*f,this._z=u*c*f+h*p*d,this._w=u*c*d-h*p*f;break;case"YXZ":this._x=h*c*d+u*p*f,this._y=u*p*d-h*c*f,this._z=u*c*f-h*p*d,this._w=u*c*d+h*p*f;break;case"ZXY":this._x=h*c*d-u*p*f,this._y=u*p*d+h*c*f,this._z=u*c*f+h*p*d,this._w=u*c*d-h*p*f;break;case"ZYX":this._x=h*c*d-u*p*f,this._y=u*p*d+h*c*f,this._z=u*c*f-h*p*d,this._w=u*c*d+h*p*f;break;case"YZX":this._x=h*c*d+u*p*f,this._y=u*p*d+h*c*f,this._z=u*c*f-h*p*d,this._w=u*c*d-h*p*f;break;case"XZY":this._x=h*c*d-u*p*f,this._y=u*p*d-h*c*f,this._z=u*c*f+h*p*d,this._w=u*c*d+h*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const s=t/2,i=Math.sin(s);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,s=t[0],i=t[4],r=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],d=t[10],h=s+a+d;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-l)*p,this._y=(r-u)*p,this._z=(o-i)*p}else if(s>a&&s>d){const p=2*Math.sqrt(1+s-a-d);this._w=(c-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(r+u)/p}else if(a>d){const p=2*Math.sqrt(1+a-s-d);this._w=(r-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+d-s-a);this._w=(o-i)/p,this._x=(r+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let s=e.dot(t)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(et(this.dot(e),-1,1)))}rotateTowards(e,t){const s=this.angleTo(e);if(s===0)return this;const i=Math.min(1,t/s);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const s=e._x,i=e._y,r=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=s*c+o*a+i*u-r*l,this._y=i*c+o*l+r*a-s*u,this._z=r*c+o*u+s*l-i*a,this._w=o*c-s*a-i*l-r*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const s=this._x,i=this._y,r=this._z,o=this._w;let a=o*e._w+s*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=s,this._y=i,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*s+t*this._x,this._y=p*i+t*this._y,this._z=p*r+t*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=o*d+this._w*h,this._x=s*d+this._x*h,this._y=i*d+this._y*h,this._z=r*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,s){return this.copy(e).slerp(t,s)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),s=Math.random(),i=Math.sqrt(1-s),r=Math.sqrt(s);return this.set(i*Math.sin(e),i*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class C{constructor(e=0,t=0,s=0){C.prototype.isVector3=!0,this.x=e,this.y=t,this.z=s}set(e,t,s){return s===void 0&&(s=this.z),this.x=e,this.y=t,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(O0.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(O0.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*s+r[6]*i,this.y=r[1]*t+r[4]*s+r[7]*i,this.z=r[2]*t+r[5]*s+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,s=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*s+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*s+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*s+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,s=this.y,i=this.z,r=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*s),c=2*(a*t-r*i),d=2*(r*s-o*t);return this.x=t+l*u+o*d-a*c,this.y=s+l*c+a*u-r*d,this.z=i+l*d+r*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,s=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*s+r[8]*i,this.y=r[1]*t+r[5]*s+r[9]*i,this.z=r[2]*t+r[6]*s+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(t,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,s){return this.x=e.x+(t.x-e.x)*s,this.y=e.y+(t.y-e.y)*s,this.z=e.z+(t.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const s=e.x,i=e.y,r=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-r*a,this.y=r*o-s*l,this.z=s*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const s=e.dot(this)/t;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return Hu.copy(this).projectOnVector(e),this.sub(Hu)}reflect(e){return this.sub(Hu.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const s=this.dot(e)/t;return Math.acos(et(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,s=this.y-e.y,i=this.z-e.z;return t*t+s*s+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,s){const i=Math.sin(t)*e;return this.x=i*Math.sin(s),this.y=Math.cos(t)*e,this.z=i*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,s){return this.x=e*Math.sin(t),this.y=s,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=s,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,s=Math.sqrt(1-t*t);return this.x=s*Math.cos(e),this.y=t,this.z=s*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Hu=new C,O0=new Oo;class bo{constructor(e=new C(1/0,1/0,1/0),t=new C(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,s=e.length;t<s;t+=3)this.expandByPoint(Yt.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,s=e.count;t<s;t++)this.expandByPoint(Yt.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,s=e.length;t<s;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const s=Yt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0){const r=s.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=r.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Yt):Yt.fromBufferAttribute(r,o),Yt.applyMatrix4(e.matrixWorld),this.expandByPoint(Yt);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),la.copy(e.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),la.copy(s.boundingBox)),la.applyMatrix4(e.matrixWorld),this.union(la)}const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Yt),Yt.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,s;return e.normal.x>0?(t=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),t<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zr),ua.subVectors(this.max,zr),yi.subVectors(e.a,zr),xi.subVectors(e.b,zr),vi.subVectors(e.c,zr),es.subVectors(xi,yi),ts.subVectors(vi,xi),bs.subVectors(yi,vi);let t=[0,-es.z,es.y,0,-ts.z,ts.y,0,-bs.z,bs.y,es.z,0,-es.x,ts.z,0,-ts.x,bs.z,0,-bs.x,-es.y,es.x,0,-ts.y,ts.x,0,-bs.y,bs.x,0];return!Wu(t,yi,xi,vi,ua)||(t=[1,0,0,0,1,0,0,0,1],!Wu(t,yi,xi,vi,ua))?!1:(ca.crossVectors(es,ts),t=[ca.x,ca.y,ca.z],Wu(t,yi,xi,vi,ua))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yt).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yt).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(An[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),An[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),An[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),An[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),An[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),An[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),An[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),An[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(An),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const An=[new C,new C,new C,new C,new C,new C,new C,new C],Yt=new C,la=new bo,yi=new C,xi=new C,vi=new C,es=new C,ts=new C,bs=new C,zr=new C,ua=new C,ca=new C,Ds=new C;function Wu(n,e,t,s,i){for(let r=0,o=n.length-3;r<=o;r+=3){Ds.fromArray(n,r);const a=i.x*Math.abs(Ds.x)+i.y*Math.abs(Ds.y)+i.z*Math.abs(Ds.z),l=e.dot(Ds),u=t.dot(Ds),c=s.dot(Ds);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const $N=new bo,Rr=new C,$u=new C;class Vd{constructor(e=new C,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const s=this.center;t!==void 0?s.copy(t):$N.setFromPoints(e).getCenter(s);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,s.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const s=this.center.distanceToSquared(e);return t.copy(e),s>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Rr.subVectors(e,this.center);const t=Rr.lengthSq();if(t>this.radius*this.radius){const s=Math.sqrt(t),i=(s-this.radius)*.5;this.center.addScaledVector(Rr,i/s),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):($u.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Rr.copy(e.center).add($u)),this.expandByPoint(Rr.copy(e.center).sub($u))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const En=new C,Gu=new C,ha=new C,ns=new C,qu=new C,da=new C,Xu=new C;class GN{constructor(e=new C,t=new C(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,En)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const s=t.dot(this.direction);return s<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=En.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(En.copy(this.origin).addScaledVector(this.direction,t),En.distanceToSquared(e))}distanceSqToSegment(e,t,s,i){Gu.copy(e).add(t).multiplyScalar(.5),ha.copy(t).sub(e).normalize(),ns.copy(this.origin).sub(Gu);const r=e.distanceTo(t)*.5,o=-this.direction.dot(ha),a=ns.dot(this.direction),l=-ns.dot(ha),u=ns.lengthSq(),c=Math.abs(1-o*o);let d,h,p,f;if(c>0)if(d=o*l-a,h=o*a-l,f=r*c,d>=0)if(h>=-f)if(h<=f){const y=1/c;d*=y,h*=y,p=d*(d+o*h+2*a)+h*(o*d+h+2*l)+u}else h=r,d=Math.max(0,-(o*h+a)),p=-d*d+h*(h+2*l)+u;else h=-r,d=Math.max(0,-(o*h+a)),p=-d*d+h*(h+2*l)+u;else h<=-f?(d=Math.max(0,-(-o*r+a)),h=d>0?-r:Math.min(Math.max(-r,-l),r),p=-d*d+h*(h+2*l)+u):h<=f?(d=0,h=Math.min(Math.max(-r,-l),r),p=h*(h+2*l)+u):(d=Math.max(0,-(o*r+a)),h=d>0?r:Math.min(Math.max(-r,-l),r),p=-d*d+h*(h+2*l)+u);else h=o>0?-r:r,d=Math.max(0,-(o*h+a)),p=-d*d+h*(h+2*l)+u;return s&&s.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(Gu).addScaledVector(ha,h),p}intersectSphere(e,t){En.subVectors(e.center,this.origin);const s=En.dot(this.direction),i=En.dot(En)-s*s,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=s-o,l=s+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/t;return s>=0?s:null}intersectPlane(e,t){const s=this.distanceToPlane(e);return s===null?null:this.at(s,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let s,i,r,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,h=this.origin;return u>=0?(s=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(s=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),s>o||r>i||((r>s||isNaN(s))&&(s=r),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),s>l||a>i)||((a>s||s!==s)&&(s=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(s>=0?s:i,t)}intersectsBox(e){return this.intersectBox(e,En)!==null}intersectTriangle(e,t,s,i,r){qu.subVectors(t,e),da.subVectors(s,e),Xu.crossVectors(qu,da);let o=this.direction.dot(Xu),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ns.subVectors(this.origin,e);const l=a*this.direction.dot(da.crossVectors(ns,da));if(l<0)return null;const u=a*this.direction.dot(qu.cross(ns));if(u<0||l+u>o)return null;const c=-a*ns.dot(Xu);return c<0?null:this.at(c/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Te{constructor(e,t,s,i,r,o,a,l,u,c,d,h,p,f,y,v){Te.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,s,i,r,o,a,l,u,c,d,h,p,f,y,v)}set(e,t,s,i,r,o,a,l,u,c,d,h,p,f,y,v){const m=this.elements;return m[0]=e,m[4]=t,m[8]=s,m[12]=i,m[1]=r,m[5]=o,m[9]=a,m[13]=l,m[2]=u,m[6]=c,m[10]=d,m[14]=h,m[3]=p,m[7]=f,m[11]=y,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Te().fromArray(this.elements)}copy(e){const t=this.elements,s=e.elements;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],this}copyPosition(e){const t=this.elements,s=e.elements;return t[12]=s[12],t[13]=s[13],t[14]=s[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,s){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,t,s){return this.set(e.x,t.x,s.x,0,e.y,t.y,s.y,0,e.z,t.z,s.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,s=e.elements,i=1/Ni.setFromMatrixColumn(e,0).length(),r=1/Ni.setFromMatrixColumn(e,1).length(),o=1/Ni.setFromMatrixColumn(e,2).length();return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=0,t[4]=s[4]*r,t[5]=s[5]*r,t[6]=s[6]*r,t[7]=0,t[8]=s[8]*o,t[9]=s[9]*o,t[10]=s[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,s=e.x,i=e.y,r=e.z,o=Math.cos(s),a=Math.sin(s),l=Math.cos(i),u=Math.sin(i),c=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const h=o*c,p=o*d,f=a*c,y=a*d;t[0]=l*c,t[4]=-l*d,t[8]=u,t[1]=p+f*u,t[5]=h-y*u,t[9]=-a*l,t[2]=y-h*u,t[6]=f+p*u,t[10]=o*l}else if(e.order==="YXZ"){const h=l*c,p=l*d,f=u*c,y=u*d;t[0]=h+y*a,t[4]=f*a-p,t[8]=o*u,t[1]=o*d,t[5]=o*c,t[9]=-a,t[2]=p*a-f,t[6]=y+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*c,p=l*d,f=u*c,y=u*d;t[0]=h-y*a,t[4]=-o*d,t[8]=f+p*a,t[1]=p+f*a,t[5]=o*c,t[9]=y-h*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*c,p=o*d,f=a*c,y=a*d;t[0]=l*c,t[4]=f*u-p,t[8]=h*u+y,t[1]=l*d,t[5]=y*u+h,t[9]=p*u-f,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*u,f=a*l,y=a*u;t[0]=l*c,t[4]=y-h*d,t[8]=f*d+p,t[1]=d,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=p*d+f,t[10]=h-y*d}else if(e.order==="XZY"){const h=o*l,p=o*u,f=a*l,y=a*u;t[0]=l*c,t[4]=-d,t[8]=u*c,t[1]=h*d+y,t[5]=o*c,t[9]=p*d-f,t[2]=f*d-p,t[6]=a*c,t[10]=y*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(qN,e,XN)}lookAt(e,t,s){const i=this.elements;return Ct.subVectors(e,t),Ct.lengthSq()===0&&(Ct.z=1),Ct.normalize(),ss.crossVectors(s,Ct),ss.lengthSq()===0&&(Math.abs(s.z)===1?Ct.x+=1e-4:Ct.z+=1e-4,Ct.normalize(),ss.crossVectors(s,Ct)),ss.normalize(),pa.crossVectors(Ct,ss),i[0]=ss.x,i[4]=pa.x,i[8]=Ct.x,i[1]=ss.y,i[5]=pa.y,i[9]=Ct.y,i[2]=ss.z,i[6]=pa.z,i[10]=Ct.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const s=e.elements,i=t.elements,r=this.elements,o=s[0],a=s[4],l=s[8],u=s[12],c=s[1],d=s[5],h=s[9],p=s[13],f=s[2],y=s[6],v=s[10],m=s[14],g=s[3],x=s[7],M=s[11],E=s[15],I=i[0],A=i[4],L=i[8],j=i[12],H=i[1],Q=i[5],Ce=i[9],de=i[13],qt=i[2],pi=i[6],Qn=i[10],Jn=i[14],V=i[3],G=i[7],Z=i[11],ue=i[15];return r[0]=o*I+a*H+l*qt+u*V,r[4]=o*A+a*Q+l*pi+u*G,r[8]=o*L+a*Ce+l*Qn+u*Z,r[12]=o*j+a*de+l*Jn+u*ue,r[1]=c*I+d*H+h*qt+p*V,r[5]=c*A+d*Q+h*pi+p*G,r[9]=c*L+d*Ce+h*Qn+p*Z,r[13]=c*j+d*de+h*Jn+p*ue,r[2]=f*I+y*H+v*qt+m*V,r[6]=f*A+y*Q+v*pi+m*G,r[10]=f*L+y*Ce+v*Qn+m*Z,r[14]=f*j+y*de+v*Jn+m*ue,r[3]=g*I+x*H+M*qt+E*V,r[7]=g*A+x*Q+M*pi+E*G,r[11]=g*L+x*Ce+M*Qn+E*Z,r[15]=g*j+x*de+M*Jn+E*ue,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],s=e[4],i=e[8],r=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],h=e[10],p=e[14],f=e[3],y=e[7],v=e[11],m=e[15];return f*(+r*l*d-i*u*d-r*a*h+s*u*h+i*a*p-s*l*p)+y*(+t*l*p-t*u*h+r*o*h-i*o*p+i*u*c-r*l*c)+v*(+t*u*d-t*a*p-r*o*d+s*o*p+r*a*c-s*u*c)+m*(-i*a*c-t*l*d+t*a*h+i*o*d-s*o*h+s*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,s){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=s),this}invert(){const e=this.elements,t=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],p=e[11],f=e[12],y=e[13],v=e[14],m=e[15],g=d*v*u-y*h*u+y*l*p-a*v*p-d*l*m+a*h*m,x=f*h*u-c*v*u-f*l*p+o*v*p+c*l*m-o*h*m,M=c*y*u-f*d*u+f*a*p-o*y*p-c*a*m+o*d*m,E=f*d*l-c*y*l-f*a*h+o*y*h+c*a*v-o*d*v,I=t*g+s*x+i*M+r*E;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/I;return e[0]=g*A,e[1]=(y*h*r-d*v*r-y*i*p+s*v*p+d*i*m-s*h*m)*A,e[2]=(a*v*r-y*l*r+y*i*u-s*v*u-a*i*m+s*l*m)*A,e[3]=(d*l*r-a*h*r-d*i*u+s*h*u+a*i*p-s*l*p)*A,e[4]=x*A,e[5]=(c*v*r-f*h*r+f*i*p-t*v*p-c*i*m+t*h*m)*A,e[6]=(f*l*r-o*v*r-f*i*u+t*v*u+o*i*m-t*l*m)*A,e[7]=(o*h*r-c*l*r+c*i*u-t*h*u-o*i*p+t*l*p)*A,e[8]=M*A,e[9]=(f*d*r-c*y*r-f*s*p+t*y*p+c*s*m-t*d*m)*A,e[10]=(o*y*r-f*a*r+f*s*u-t*y*u-o*s*m+t*a*m)*A,e[11]=(c*a*r-o*d*r-c*s*u+t*d*u+o*s*p-t*a*p)*A,e[12]=E*A,e[13]=(c*y*i-f*d*i+f*s*h-t*y*h-c*s*v+t*d*v)*A,e[14]=(f*a*i-o*y*i-f*s*l+t*y*l+o*s*v-t*a*v)*A,e[15]=(o*d*i-c*a*i+c*s*l-t*d*l-o*s*h+t*a*h)*A,this}scale(e){const t=this.elements,s=e.x,i=e.y,r=e.z;return t[0]*=s,t[4]*=i,t[8]*=r,t[1]*=s,t[5]*=i,t[9]*=r,t[2]*=s,t[6]*=i,t[10]*=r,t[3]*=s,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,s,i))}makeTranslation(e,t,s){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,s,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,t,-s,0,0,s,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,0,s,0,0,1,0,0,-s,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,0,s,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const s=Math.cos(t),i=Math.sin(t),r=1-s,o=e.x,a=e.y,l=e.z,u=r*o,c=r*a;return this.set(u*o+s,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+s,c*l-i*o,0,u*l-i*a,c*l+i*o,r*l*l+s,0,0,0,0,1),this}makeScale(e,t,s){return this.set(e,0,0,0,0,t,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,t,s,i,r,o){return this.set(1,s,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,s){const i=this.elements,r=t._x,o=t._y,a=t._z,l=t._w,u=r+r,c=o+o,d=a+a,h=r*u,p=r*c,f=r*d,y=o*c,v=o*d,m=a*d,g=l*u,x=l*c,M=l*d,E=s.x,I=s.y,A=s.z;return i[0]=(1-(y+m))*E,i[1]=(p+M)*E,i[2]=(f-x)*E,i[3]=0,i[4]=(p-M)*I,i[5]=(1-(h+m))*I,i[6]=(v+g)*I,i[7]=0,i[8]=(f+x)*A,i[9]=(v-g)*A,i[10]=(1-(h+y))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,s){const i=this.elements;let r=Ni.set(i[0],i[1],i[2]).length();const o=Ni.set(i[4],i[5],i[6]).length(),a=Ni.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Qt.copy(this);const u=1/r,c=1/o,d=1/a;return Qt.elements[0]*=u,Qt.elements[1]*=u,Qt.elements[2]*=u,Qt.elements[4]*=c,Qt.elements[5]*=c,Qt.elements[6]*=c,Qt.elements[8]*=d,Qt.elements[9]*=d,Qt.elements[10]*=d,t.setFromRotationMatrix(Qt),s.x=r,s.y=o,s.z=a,this}makePerspective(e,t,s,i,r,o,a=Bn){const l=this.elements,u=2*r/(t-e),c=2*r/(s-i),d=(t+e)/(t-e),h=(s+i)/(s-i);let p,f;if(a===Bn)p=-(o+r)/(o-r),f=-2*o*r/(o-r);else if(a===So)p=-o/(o-r),f=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=f,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,s,i,r,o,a=Bn){const l=this.elements,u=1/(t-e),c=1/(s-i),d=1/(o-r),h=(t+e)*u,p=(s+i)*c;let f,y;if(a===Bn)f=(o+r)*d,y=-2*d;else if(a===So)f=r*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=y,l[14]=-f,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,s=e.elements;for(let i=0;i<16;i++)if(t[i]!==s[i])return!1;return!0}fromArray(e,t=0){for(let s=0;s<16;s++)this.elements[s]=e[s+t];return this}toArray(e=[],t=0){const s=this.elements;return e[t]=s[0],e[t+1]=s[1],e[t+2]=s[2],e[t+3]=s[3],e[t+4]=s[4],e[t+5]=s[5],e[t+6]=s[6],e[t+7]=s[7],e[t+8]=s[8],e[t+9]=s[9],e[t+10]=s[10],e[t+11]=s[11],e[t+12]=s[12],e[t+13]=s[13],e[t+14]=s[14],e[t+15]=s[15],e}}const Ni=new C,Qt=new Te,qN=new C(0,0,0),XN=new C(1,1,1),ss=new C,pa=new C,Ct=new C,b0=new Te,D0=new Oo;class Is{constructor(e=0,t=0,s=0,i=Is.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=s,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,s,i=this._order){return this._x=e,this._y=t,this._z=s,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,s=!0){const i=e.elements,r=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(et(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-et(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(et(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-et(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(et(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-et(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,s){return b0.makeRotationFromQuaternion(e),this.setFromRotationMatrix(b0,t,s)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return D0.setFromEuler(this),this.setFromQuaternion(D0,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Is.DEFAULT_ORDER="XYZ";class ZN{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let YN=0;const V0=new C,wi=new Oo,zn=new Te,fa=new C,Lr=new C,QN=new C,JN=new Oo,B0=new C(1,0,0),U0=new C(0,1,0),j0=new C(0,0,1),H0={type:"added"},KN={type:"removed"},Mi={type:"childadded",child:null},Zu={type:"childremoved",child:null};class st extends li{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YN++}),this.uuid=Wn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=st.DEFAULT_UP.clone();const e=new C,t=new Is,s=new Oo,i=new C(1,1,1);function r(){s.setFromEuler(t,!1)}function o(){t.setFromQuaternion(s,void 0,!1)}t._onChange(r),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Te},normalMatrix:{value:new ce}}),this.matrix=new Te,this.matrixWorld=new Te,this.matrixAutoUpdate=st.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=st.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ZN,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return wi.setFromAxisAngle(e,t),this.quaternion.multiply(wi),this}rotateOnWorldAxis(e,t){return wi.setFromAxisAngle(e,t),this.quaternion.premultiply(wi),this}rotateX(e){return this.rotateOnAxis(B0,e)}rotateY(e){return this.rotateOnAxis(U0,e)}rotateZ(e){return this.rotateOnAxis(j0,e)}translateOnAxis(e,t){return V0.copy(e).applyQuaternion(this.quaternion),this.position.add(V0.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(B0,e)}translateY(e){return this.translateOnAxis(U0,e)}translateZ(e){return this.translateOnAxis(j0,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(zn.copy(this.matrixWorld).invert())}lookAt(e,t,s){e.isVector3?fa.copy(e):fa.set(e,t,s);const i=this.parent;this.updateWorldMatrix(!0,!1),Lr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zn.lookAt(Lr,fa,this.up):zn.lookAt(fa,Lr,this.up),this.quaternion.setFromRotationMatrix(zn),i&&(zn.extractRotation(i.matrixWorld),wi.setFromRotationMatrix(zn),this.quaternion.premultiply(wi.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(H0),Mi.child=e,this.dispatchEvent(Mi),Mi.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(KN),Zu.child=e,this.dispatchEvent(Zu),Zu.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),zn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zn.multiply(e.parent.matrixWorld)),e.applyMatrix4(zn),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(H0),Mi.child=e,this.dispatchEvent(Mi),Mi.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let s=0,i=this.children.length;s<i;s++){const o=this.children[s].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,s=[]){this[e]===t&&s.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(e,t,s);return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lr,e,QN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Lr,JN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let s=0,i=t.length;s<i;s++)t[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let s=0,i=t.length;s<i;s++)t[s].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let s=0,i=t.length;s<i;s++)t[s].updateMatrixWorld(e)}updateWorldMatrix(e,t){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",s={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function r(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];r(e.shapes,d)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(r(e.materials,this.material[l]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(r(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),d=o(e.shapes),h=o(e.skeletons),p=o(e.animations),f=o(e.nodes);a.length>0&&(s.geometries=a),l.length>0&&(s.materials=l),u.length>0&&(s.textures=u),c.length>0&&(s.images=c),d.length>0&&(s.shapes=d),h.length>0&&(s.skeletons=h),p.length>0&&(s.animations=p),f.length>0&&(s.nodes=f)}return s.object=i,s;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let s=0;s<e.children.length;s++){const i=e.children[s];this.add(i.clone())}return this}}st.DEFAULT_UP=new C(0,1,0);st.DEFAULT_MATRIX_AUTO_UPDATE=!0;st.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jt=new C,Rn=new C,Yu=new C,Ln=new C,Si=new C,Ti=new C,W0=new C,Qu=new C,Ju=new C,Ku=new C;class Nn{constructor(e=new C,t=new C,s=new C){this.a=e,this.b=t,this.c=s}static getNormal(e,t,s,i){i.subVectors(s,t),Jt.subVectors(e,t),i.cross(Jt);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,s,i,r){Jt.subVectors(i,t),Rn.subVectors(s,t),Yu.subVectors(e,t);const o=Jt.dot(Jt),a=Jt.dot(Rn),l=Jt.dot(Yu),u=Rn.dot(Rn),c=Rn.dot(Yu),d=o*u-a*a;if(d===0)return r.set(0,0,0),null;const h=1/d,p=(u*l-a*c)*h,f=(o*c-a*l)*h;return r.set(1-p-f,f,p)}static containsPoint(e,t,s,i){return this.getBarycoord(e,t,s,i,Ln)===null?!1:Ln.x>=0&&Ln.y>=0&&Ln.x+Ln.y<=1}static getInterpolation(e,t,s,i,r,o,a,l){return this.getBarycoord(e,t,s,i,Ln)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(r,Ln.x),l.addScaledVector(o,Ln.y),l.addScaledVector(a,Ln.z),l)}static isFrontFacing(e,t,s,i){return Jt.subVectors(s,t),Rn.subVectors(e,t),Jt.cross(Rn).dot(i)<0}set(e,t,s){return this.a.copy(e),this.b.copy(t),this.c.copy(s),this}setFromPointsAndIndices(e,t,s,i){return this.a.copy(e[t]),this.b.copy(e[s]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,s,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jt.subVectors(this.c,this.b),Rn.subVectors(this.a,this.b),Jt.cross(Rn).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Nn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Nn.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,s,i,r){return Nn.getInterpolation(e,this.a,this.b,this.c,t,s,i,r)}containsPoint(e){return Nn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Nn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const s=this.a,i=this.b,r=this.c;let o,a;Si.subVectors(i,s),Ti.subVectors(r,s),Qu.subVectors(e,s);const l=Si.dot(Qu),u=Ti.dot(Qu);if(l<=0&&u<=0)return t.copy(s);Ju.subVectors(e,i);const c=Si.dot(Ju),d=Ti.dot(Ju);if(c>=0&&d<=c)return t.copy(i);const h=l*d-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(s).addScaledVector(Si,o);Ku.subVectors(e,r);const p=Si.dot(Ku),f=Ti.dot(Ku);if(f>=0&&p<=f)return t.copy(r);const y=p*u-l*f;if(y<=0&&u>=0&&f<=0)return a=u/(u-f),t.copy(s).addScaledVector(Ti,a);const v=c*f-p*d;if(v<=0&&d-c>=0&&p-f>=0)return W0.subVectors(r,i),a=(d-c)/(d-c+(p-f)),t.copy(i).addScaledVector(W0,a);const m=1/(v+y+h);return o=y*m,a=h*m,t.copy(s).addScaledVector(Si,o).addScaledVector(Ti,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const u2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},is={h:0,s:0,l:0},ma={h:0,s:0,l:0};function ec(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ie{constructor(e,t,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,s)}set(e,t,s){if(t===void 0&&s===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,s);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=In){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Zt.toWorkingColorSpace(this,t),this}setRGB(e,t,s,i=Zt.workingColorSpace){return this.r=e,this.g=t,this.b=s,Zt.toWorkingColorSpace(this,i),this}setHSL(e,t,s,i=Zt.workingColorSpace){if(e=Dd(e,1),t=et(t,0,1),s=et(s,0,1),t===0)this.r=this.g=this.b=s;else{const r=s<=.5?s*(1+t):s+t-s*t,o=2*s-r;this.r=ec(o,r,e+1/3),this.g=ec(o,r,e),this.b=ec(o,r,e-1/3)}return Zt.toWorkingColorSpace(this,i),this}setStyle(e,t=In){function s(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return s(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=In){const s=u2[e.toLowerCase()];return s!==void 0?this.setHex(s,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qi(e.r),this.g=Qi(e.g),this.b=Qi(e.b),this}copyLinearToSRGB(e){return this.r=Uu(e.r),this.g=Uu(e.g),this.b=Uu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=In){return Zt.fromWorkingColorSpace(Je.copy(this),e),Math.round(et(Je.r*255,0,255))*65536+Math.round(et(Je.g*255,0,255))*256+Math.round(et(Je.b*255,0,255))}getHexString(e=In){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Zt.workingColorSpace){Zt.fromWorkingColorSpace(Je.copy(this),t);const s=Je.r,i=Je.g,r=Je.b,o=Math.max(s,i,r),a=Math.min(s,i,r);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=c<=.5?d/(o+a):d/(2-o-a),o){case s:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-s)/d+2;break;case r:l=(s-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Zt.workingColorSpace){return Zt.fromWorkingColorSpace(Je.copy(this),t),e.r=Je.r,e.g=Je.g,e.b=Je.b,e}getStyle(e=In){Zt.fromWorkingColorSpace(Je.copy(this),e);const t=Je.r,s=Je.g,i=Je.b;return e!==In?`color(${e} ${t.toFixed(3)} ${s.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(s*255)},${Math.round(i*255)})`}offsetHSL(e,t,s){return this.getHSL(is),this.setHSL(is.h+e,is.s+t,is.l+s)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,s){return this.r=e.r+(t.r-e.r)*s,this.g=e.g+(t.g-e.g)*s,this.b=e.b+(t.b-e.b)*s,this}lerpHSL(e,t){this.getHSL(is),e.getHSL(ma);const s=to(is.h,ma.h,t),i=to(is.s,ma.s,t),r=to(is.l,ma.l,t);return this.setHSL(s,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,s=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*s+r[6]*i,this.g=r[1]*t+r[4]*s+r[7]*i,this.b=r[2]*t+r[5]*s+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Je=new ie;ie.NAMES=u2;let ew=0;class Pt extends li{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ew++}),this.uuid=Wn(),this.name="",this.type="Material",this.blending=Nh,this.side=vh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=w0,this.blendDst=M0,this.blendEquation=N0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ie(0,0,0),this.blendAlpha=0,this.depthFunc=S0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=R0,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mi,this.stencilZFail=mi,this.stencilZPass=mi,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const s=e[t];if(s===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(s):i&&i.isVector3&&s&&s.isVector3?i.copy(s):this[t]=s}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==Nh&&(s.blending=this.blending),this.side!==vh&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==w0&&(s.blendSrc=this.blendSrc),this.blendDst!==M0&&(s.blendDst=this.blendDst),this.blendEquation!==N0&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==S0&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==R0&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mi&&(s.stencilFail=this.stencilFail),this.stencilZFail!==mi&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==mi&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function i(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(t){const r=i(e.textures),o=i(e.images);r.length>0&&(s.textures=r),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let s=null;if(t!==null){const i=t.length;s=new Array(i);for(let r=0;r!==i;++r)s[r]=t[r].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class c2 extends Pt{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=bd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ee=new C,ga=new X;class Ms{constructor(e,t,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=s,this.usage=Nl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=s2,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return a2("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,s){e*=this.itemSize,s*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[s+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,s=this.count;t<s;t++)ga.fromBufferAttribute(this,t),ga.applyMatrix3(e),this.setXY(t,ga.x,ga.y);else if(this.itemSize===3)for(let t=0,s=this.count;t<s;t++)Ee.fromBufferAttribute(this,t),Ee.applyMatrix3(e),this.setXYZ(t,Ee.x,Ee.y,Ee.z);return this}applyMatrix4(e){for(let t=0,s=this.count;t<s;t++)Ee.fromBufferAttribute(this,t),Ee.applyMatrix4(e),this.setXYZ(t,Ee.x,Ee.y,Ee.z);return this}applyNormalMatrix(e){for(let t=0,s=this.count;t<s;t++)Ee.fromBufferAttribute(this,t),Ee.applyNormalMatrix(e),this.setXYZ(t,Ee.x,Ee.y,Ee.z);return this}transformDirection(e){for(let t=0,s=this.count;t<s;t++)Ee.fromBufferAttribute(this,t),Ee.transformDirection(e),this.setXYZ(t,Ee.x,Ee.y,Ee.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let s=this.array[e*this.itemSize+t];return this.normalized&&(s=sn(s,this.array)),s}setComponent(e,t,s){return this.normalized&&(s=re(s,this.array)),this.array[e*this.itemSize+t]=s,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=sn(t,this.array)),t}setX(e,t){return this.normalized&&(t=re(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=sn(t,this.array)),t}setY(e,t){return this.normalized&&(t=re(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=sn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=re(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=sn(t,this.array)),t}setW(e,t){return this.normalized&&(t=re(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,s){return e*=this.itemSize,this.normalized&&(t=re(t,this.array),s=re(s,this.array)),this.array[e+0]=t,this.array[e+1]=s,this}setXYZ(e,t,s,i){return e*=this.itemSize,this.normalized&&(t=re(t,this.array),s=re(s,this.array),i=re(i,this.array)),this.array[e+0]=t,this.array[e+1]=s,this.array[e+2]=i,this}setXYZW(e,t,s,i,r){return e*=this.itemSize,this.normalized&&(t=re(t,this.array),s=re(s,this.array),i=re(i,this.array),r=re(r,this.array)),this.array[e+0]=t,this.array[e+1]=s,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Nl&&(e.usage=this.usage),e}}class tw extends Ms{constructor(e,t,s){super(new Uint16Array(e),t,s)}}class nw extends Ms{constructor(e,t,s){super(new Uint32Array(e),t,s)}}class Mh extends Ms{constructor(e,t,s){super(new Float32Array(e),t,s)}}let sw=0;const Dt=new Te,tc=new st,Ci=new C,_t=new bo,kr=new bo,De=new C;class Yl extends li{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sw++}),this.uuid=Wn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(VN(e)?nw:tw)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,s=0){this.groups.push({start:e,count:t,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const r=new ce().getNormalMatrix(e);s.applyNormalMatrix(r),s.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dt.makeRotationFromQuaternion(e),this.applyMatrix4(Dt),this}rotateX(e){return Dt.makeRotationX(e),this.applyMatrix4(Dt),this}rotateY(e){return Dt.makeRotationY(e),this.applyMatrix4(Dt),this}rotateZ(e){return Dt.makeRotationZ(e),this.applyMatrix4(Dt),this}translate(e,t,s){return Dt.makeTranslation(e,t,s),this.applyMatrix4(Dt),this}scale(e,t,s){return Dt.makeScale(e,t,s),this.applyMatrix4(Dt),this}lookAt(e){return tc.lookAt(e),tc.updateMatrix(),this.applyMatrix4(tc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ci).negate(),this.translate(Ci.x,Ci.y,Ci.z),this}setFromPoints(e){const t=[];for(let s=0,i=e.length;s<i;s++){const r=e[s];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Mh(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new C(-1/0,-1/0,-1/0),new C(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let s=0,i=t.length;s<i;s++){const r=t[s];_t.setFromBufferAttribute(r),this.morphTargetsRelative?(De.addVectors(this.boundingBox.min,_t.min),this.boundingBox.expandByPoint(De),De.addVectors(this.boundingBox.max,_t.max),this.boundingBox.expandByPoint(De)):(this.boundingBox.expandByPoint(_t.min),this.boundingBox.expandByPoint(_t.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new C,1/0);return}if(e){const s=this.boundingSphere.center;if(_t.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const a=t[r];kr.setFromBufferAttribute(a),this.morphTargetsRelative?(De.addVectors(_t.min,kr.min),_t.expandByPoint(De),De.addVectors(_t.max,kr.max),_t.expandByPoint(De)):(_t.expandByPoint(kr.min),_t.expandByPoint(kr.max))}_t.getCenter(s);let i=0;for(let r=0,o=e.count;r<o;r++)De.fromBufferAttribute(e,r),i=Math.max(i,s.distanceToSquared(De));if(t)for(let r=0,o=t.length;r<o;r++){const a=t[r],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)De.fromBufferAttribute(a,u),l&&(Ci.fromBufferAttribute(e,u),De.add(Ci)),i=Math.max(i,s.distanceToSquared(De))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=t.position,i=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ms(new Float32Array(4*s.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<s.count;L++)a[L]=new C,l[L]=new C;const u=new C,c=new C,d=new C,h=new X,p=new X,f=new X,y=new C,v=new C;function m(L,j,H){u.fromBufferAttribute(s,L),c.fromBufferAttribute(s,j),d.fromBufferAttribute(s,H),h.fromBufferAttribute(r,L),p.fromBufferAttribute(r,j),f.fromBufferAttribute(r,H),c.sub(u),d.sub(u),p.sub(h),f.sub(h);const Q=1/(p.x*f.y-f.x*p.y);isFinite(Q)&&(y.copy(c).multiplyScalar(f.y).addScaledVector(d,-p.y).multiplyScalar(Q),v.copy(d).multiplyScalar(p.x).addScaledVector(c,-f.x).multiplyScalar(Q),a[L].add(y),a[j].add(y),a[H].add(y),l[L].add(v),l[j].add(v),l[H].add(v))}let g=this.groups;g.length===0&&(g=[{start:0,count:e.count}]);for(let L=0,j=g.length;L<j;++L){const H=g[L],Q=H.start,Ce=H.count;for(let de=Q,qt=Q+Ce;de<qt;de+=3)m(e.getX(de+0),e.getX(de+1),e.getX(de+2))}const x=new C,M=new C,E=new C,I=new C;function A(L){E.fromBufferAttribute(i,L),I.copy(E);const j=a[L];x.copy(j),x.sub(E.multiplyScalar(E.dot(j))).normalize(),M.crossVectors(I,j);const Q=M.dot(l[L])<0?-1:1;o.setXYZW(L,x.x,x.y,x.z,Q)}for(let L=0,j=g.length;L<j;++L){const H=g[L],Q=H.start,Ce=H.count;for(let de=Q,qt=Q+Ce;de<qt;de+=3)A(e.getX(de+0)),A(e.getX(de+1)),A(e.getX(de+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Ms(new Float32Array(t.count*3),3),this.setAttribute("normal",s);else for(let h=0,p=s.count;h<p;h++)s.setXYZ(h,0,0,0);const i=new C,r=new C,o=new C,a=new C,l=new C,u=new C,c=new C,d=new C;if(e)for(let h=0,p=e.count;h<p;h+=3){const f=e.getX(h+0),y=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(t,f),r.fromBufferAttribute(t,y),o.fromBufferAttribute(t,v),c.subVectors(o,r),d.subVectors(i,r),c.cross(d),a.fromBufferAttribute(s,f),l.fromBufferAttribute(s,y),u.fromBufferAttribute(s,v),a.add(c),l.add(c),u.add(c),s.setXYZ(f,a.x,a.y,a.z),s.setXYZ(y,l.x,l.y,l.z),s.setXYZ(v,u.x,u.y,u.z)}else for(let h=0,p=t.count;h<p;h+=3)i.fromBufferAttribute(t,h+0),r.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,r),d.subVectors(i,r),c.cross(d),s.setXYZ(h+0,c.x,c.y,c.z),s.setXYZ(h+1,c.x,c.y,c.z),s.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,s=e.count;t<s;t++)De.fromBufferAttribute(e,t),De.normalize(),e.setXYZ(t,De.x,De.y,De.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,h=new u.constructor(l.length*c);let p=0,f=0;for(let y=0,v=l.length;y<v;y++){a.isInterleavedBufferAttribute?p=l[y]*a.data.stride+a.offset:p=l[y]*c;for(let m=0;m<c;m++)h[f++]=u[p++]}return new Ms(h,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Yl,s=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,s);t.setAttribute(a,u)}const r=this.morphAttributes;for(const a in r){const l=[],u=r[a];for(let c=0,d=u.length;c<d;c++){const h=u[c],p=e(h,s);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const s=this.attributes;for(const l in s){const u=s[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let r=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,h=u.length;d<h;d++){const p=u[d];c.push(p.toJSON(e.data))}c.length>0&&(i[l]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const r=e.morphAttributes;for(const u in r){const c=[],d=r[u];for(let h=0,p=d.length;h<p;h++)c.push(d[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const $0=new Te,Vs=new GN,ya=new Vd,G0=new C,_i=new C,Ai=new C,Ei=new C,nc=new C,xa=new C,va=new X,Na=new X,wa=new X,q0=new C,X0=new C,Z0=new C,Ma=new C,Sa=new C;class iw extends st{constructor(e=new Yl,t=new c2){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,s=Object.keys(t);if(s.length>0){const i=t[s[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,t){const s=this.geometry,i=s.attributes.position,r=s.morphAttributes.position,o=s.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(r&&a){xa.set(0,0,0);for(let l=0,u=r.length;l<u;l++){const c=a[l],d=r[l];c!==0&&(nc.fromBufferAttribute(d,e),o?xa.addScaledVector(nc,c):xa.addScaledVector(nc.sub(t),c))}t.add(xa)}return t}raycast(e,t){const s=this.geometry,i=this.material,r=this.matrixWorld;i!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),ya.copy(s.boundingSphere),ya.applyMatrix4(r),Vs.copy(e.ray).recast(e.near),!(ya.containsPoint(Vs.origin)===!1&&(Vs.intersectSphere(ya,G0)===null||Vs.origin.distanceToSquared(G0)>(e.far-e.near)**2))&&($0.copy(r).invert(),Vs.copy(e.ray).applyMatrix4($0),!(s.boundingBox!==null&&Vs.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(e,t,Vs)))}_computeIntersections(e,t,s){let i;const r=this.geometry,o=this.material,a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv1,d=r.attributes.normal,h=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(o))for(let f=0,y=h.length;f<y;f++){const v=h[f],m=o[v.materialIndex],g=Math.max(v.start,p.start),x=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let M=g,E=x;M<E;M+=3){const I=a.getX(M),A=a.getX(M+1),L=a.getX(M+2);i=Ta(this,m,e,s,u,c,d,I,A,L),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const f=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let v=f,m=y;v<m;v+=3){const g=a.getX(v),x=a.getX(v+1),M=a.getX(v+2);i=Ta(this,o,e,s,u,c,d,g,x,M),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let f=0,y=h.length;f<y;f++){const v=h[f],m=o[v.materialIndex],g=Math.max(v.start,p.start),x=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let M=g,E=x;M<E;M+=3){const I=M,A=M+1,L=M+2;i=Ta(this,m,e,s,u,c,d,I,A,L),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const f=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let v=f,m=y;v<m;v+=3){const g=v,x=v+1,M=v+2;i=Ta(this,o,e,s,u,c,d,g,x,M),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}}}function rw(n,e,t,s,i,r,o,a){let l;if(e.side===Jg?l=s.intersectTriangle(o,r,i,!0,a):l=s.intersectTriangle(i,r,o,e.side===vh,a),l===null)return null;Sa.copy(a),Sa.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Sa);return u<t.near||u>t.far?null:{distance:u,point:Sa.clone(),object:n}}function Ta(n,e,t,s,i,r,o,a,l,u){n.getVertexPosition(a,_i),n.getVertexPosition(l,Ai),n.getVertexPosition(u,Ei);const c=rw(n,e,t,s,_i,Ai,Ei,Ma);if(c){i&&(va.fromBufferAttribute(i,a),Na.fromBufferAttribute(i,l),wa.fromBufferAttribute(i,u),c.uv=Nn.getInterpolation(Ma,_i,Ai,Ei,va,Na,wa,new X)),r&&(va.fromBufferAttribute(r,a),Na.fromBufferAttribute(r,l),wa.fromBufferAttribute(r,u),c.uv1=Nn.getInterpolation(Ma,_i,Ai,Ei,va,Na,wa,new X)),o&&(q0.fromBufferAttribute(o,a),X0.fromBufferAttribute(o,l),Z0.fromBufferAttribute(o,u),c.normal=Nn.getInterpolation(Ma,_i,Ai,Ei,q0,X0,Z0,new C),c.normal.dot(s.direction)>0&&c.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new C,materialIndex:0};Nn.getNormal(_i,Ai,Ei,d.normal),c.face=d}return c}class h2 extends st{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Te,this.projectionMatrix=new Te,this.projectionMatrixInverse=new Te,this.coordinateSystem=Bn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const rs=new C,Y0=new X,Q0=new X;class d2 extends h2{constructor(e=50,t=1,s=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=To*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(eo*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return To*2*Math.atan(Math.tan(eo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,s){rs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(rs.x,rs.y).multiplyScalar(-e/rs.z),rs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(rs.x,rs.y).multiplyScalar(-e/rs.z)}getViewSize(e,t){return this.getViewBounds(e,Y0,Q0),t.subVectors(Q0,Y0)}setViewOffset(e,t,s,i,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(eo*.5*this.fov)/this.zoom,s=2*t,i=this.aspect*s,r=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;r+=o.offsetX*i/l,t-=o.offsetY*s/u,i*=o.width/l,s*=o.height/u}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-s,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const sc=new C,ow=new C,aw=new ce;class $s{constructor(e=new C(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,s,i){return this.normal.set(e,t,s),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,s){const i=sc.subVectors(s,t).cross(ow.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const s=e.delta(sc),i=this.normal.dot(s);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(s,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return t<0&&s>0||s<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const s=t||aw.getNormalMatrix(e),i=this.coplanarPoint(sc).applyMatrix4(e),r=this.normal.applyMatrix3(s).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Bs=new Vd,Ca=new C;class lw{constructor(e=new $s,t=new $s,s=new $s,i=new $s,r=new $s,o=new $s){this.planes=[e,t,s,i,r,o]}set(e,t,s,i,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(s),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){const t=this.planes;for(let s=0;s<6;s++)t[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e,t=Bn){const s=this.planes,i=e.elements,r=i[0],o=i[1],a=i[2],l=i[3],u=i[4],c=i[5],d=i[6],h=i[7],p=i[8],f=i[9],y=i[10],v=i[11],m=i[12],g=i[13],x=i[14],M=i[15];if(s[0].setComponents(l-r,h-u,v-p,M-m).normalize(),s[1].setComponents(l+r,h+u,v+p,M+m).normalize(),s[2].setComponents(l+o,h+c,v+f,M+g).normalize(),s[3].setComponents(l-o,h-c,v-f,M-g).normalize(),s[4].setComponents(l-a,h-d,v-y,M-x).normalize(),t===Bn)s[5].setComponents(l+a,h+d,v+y,M+x).normalize();else if(t===So)s[5].setComponents(a,d,y,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Bs.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Bs.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Bs)}intersectsSprite(e){return Bs.center.set(0,0,0),Bs.radius=.7071067811865476,Bs.applyMatrix4(e.matrixWorld),this.intersectsSphere(Bs)}intersectsSphere(e){const t=this.planes,s=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(s)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let s=0;s<6;s++){const i=t[s];if(Ca.x=i.normal.x>0?e.max.x:e.min.x,Ca.y=i.normal.y>0?e.max.y:e.min.y,Ca.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ca)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let s=0;s<6;s++)if(t[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _a={common:{diffuse:{value:new ie(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ce},alphaMap:{value:null},alphaMapTransform:{value:new ce},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ce}},envmap:{envMap:{value:null},envMapRotation:{value:new ce},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ce}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ce}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ce},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ce},normalScale:{value:new X(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ce},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ce}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ce}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ce}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ce},alphaTest:{value:0},uvTransform:{value:new ce}},sprite:{diffuse:{value:new ie(16777215)},opacity:{value:1},center:{value:new X(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ce},alphaMap:{value:null},alphaMapTransform:{value:new ce},alphaTest:{value:0}}};class p2 extends h2{constructor(e=-1,t=1,s=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=s,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,s,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=s,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=s-e,o=s+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=u*this.view.offsetX,o=r+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Bd extends ln{constructor(e,t,s,i,r,o,a,l,u,c=Vu){if(c!==Vu&&c!==_0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&c===Vu&&(s=n2),s===void 0&&c===_0&&(s=xN),super(null,i,r,o,a,l,c,s,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Cs,this.minFilter=l!==void 0?l:Cs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class f2{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Nl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Wn()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return a2("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,s){e*=this.stride,s*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[s+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Wn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(t,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Wn()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const at=new C;class Ud{constructor(e,t,s,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=s,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,s=this.data.count;t<s;t++)at.fromBufferAttribute(this,t),at.applyMatrix4(e),this.setXYZ(t,at.x,at.y,at.z);return this}applyNormalMatrix(e){for(let t=0,s=this.count;t<s;t++)at.fromBufferAttribute(this,t),at.applyNormalMatrix(e),this.setXYZ(t,at.x,at.y,at.z);return this}transformDirection(e){for(let t=0,s=this.count;t<s;t++)at.fromBufferAttribute(this,t),at.transformDirection(e),this.setXYZ(t,at.x,at.y,at.z);return this}getComponent(e,t){let s=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(s=sn(s,this.array)),s}setComponent(e,t,s){return this.normalized&&(s=re(s,this.array)),this.data.array[e*this.data.stride+this.offset+t]=s,this}setX(e,t){return this.normalized&&(t=re(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=re(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=re(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=re(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=sn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=sn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=sn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=sn(t,this.array)),t}setXY(e,t,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=re(t,this.array),s=re(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=s,this}setXYZ(e,t,s,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=re(t,this.array),s=re(s,this.array),i=re(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=s,this.data.array[e+2]=i,this}setXYZW(e,t,s,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=re(t,this.array),s=re(s,this.array),i=re(i,this.array),r=re(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=s,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Ms(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ud(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let s=0;s<this.count;s++){const i=s*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class uw extends Pt{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}class m2 extends Ms{constructor(e,t,s,i=1){super(e,t,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}class g2 extends Pt{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ie(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}class y2 extends Pt{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}class x2 extends ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Cs,this.minFilter=Cs,this.generateMipmaps=!1,this.needsUpdate=!0}}class cw extends Pt{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ie(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class v2 extends Pt{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_s,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hw extends v2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new X(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return et(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ie(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class dw extends Pt{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ie(16777215),this.specular=new ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_s,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=bd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pw extends Pt{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_s,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fw extends Pt{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_s,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class mw extends Pt{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_s,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=bd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gw extends Pt{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_s,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class N2 extends g2{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}class yr extends st{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ie(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class yw extends yr{constructor(e,t,s){super(e,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(st.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ie(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const ic=new Te,J0=new C,K0=new C;class jd{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new X(512,512),this.map=null,this.mapPass=null,this.matrix=new Te,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lw,this._frameExtents=new X(1,1),this._viewportCount=1,this._viewports=[new Fe(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,s=this.matrix;J0.setFromMatrixPosition(e.matrixWorld),t.position.copy(J0),K0.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(K0),t.updateMatrixWorld(),ic.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ic),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(ic)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class xw extends jd{constructor(){super(new d2(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,s=To*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(s!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=s,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class w2 extends yr{constructor(e,t,s=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(st.DEFAULT_UP),this.updateMatrix(),this.target=new st,this.distance=s,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new xw}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ef=new Te,Ir=new C,rc=new C;class vw extends jd{constructor(){super(new d2(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new X(4,2),this._viewportCount=6,this._viewports=[new Fe(2,1,1,1),new Fe(0,1,1,1),new Fe(3,1,1,1),new Fe(1,1,1,1),new Fe(3,0,1,1),new Fe(1,0,1,1)],this._cubeDirections=[new C(1,0,0),new C(-1,0,0),new C(0,0,1),new C(0,0,-1),new C(0,1,0),new C(0,-1,0)],this._cubeUps=[new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,1,0),new C(0,0,1),new C(0,0,-1)]}updateMatrices(e,t=0){const s=this.camera,i=this.matrix,r=e.distance||s.far;r!==s.far&&(s.far=r,s.updateProjectionMatrix()),Ir.setFromMatrixPosition(e.matrixWorld),s.position.copy(Ir),rc.copy(s.position),rc.add(this._cubeDirections[t]),s.up.copy(this._cubeUps[t]),s.lookAt(rc),s.updateMatrixWorld(),i.makeTranslation(-Ir.x,-Ir.y,-Ir.z),ef.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ef)}}class Nw extends yr{constructor(e,t,s=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=i,this.shadow=new vw}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ww extends jd{constructor(){super(new p2(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Mw extends yr{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(st.DEFAULT_UP),this.updateMatrix(),this.target=new st,this.shadow=new ww}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Sw extends yr{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Tw extends yr{constructor(e,t,s=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=s,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Cw extends f2{constructor(e,t,s=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qg);function M2(n,e=!1){let t="{";n.isNode===!0&&(t+=n.id);for(const{property:s,childNode:i}of wl(n))t+=","+s.slice(0,-4)+":"+i.getCacheKey(e);return t+="}",t}function*wl(n,e=!1){for(const t in n){if(t.startsWith("_")===!0)continue;const s=n[t];if(Array.isArray(s)===!0)for(let i=0;i<s.length;i++){const r=s[i];r&&(r.isNode===!0||e&&typeof r.toJSON=="function")&&(yield{property:t,index:i,childNode:r})}else if(s&&s.isNode===!0)yield{property:t,childNode:s};else if(typeof s=="object")for(const i in s){const r=s[i];r&&(r.isNode===!0||e&&typeof r.toJSON=="function")&&(yield{property:t,index:i,childNode:r})}}}function ps(n){if(n==null)return null;const e=typeof n;return n.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function S2(n,...e){const t=n?n.slice(-4):void 0;return e.length===1&&(t==="vec2"?e=[e[0],e[0]]:t==="vec3"?e=[e[0],e[0],e[0]]:t==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),n==="color"?new ie(...e):t==="vec2"?new X(...e):t==="vec3"?new C(...e):t==="vec4"?new Fe(...e):t==="mat3"?new ce(...e):t==="mat4"?new Te(...e):n==="bool"?e[0]||!1:n==="float"||n==="int"||n==="uint"?e[0]||0:n==="string"?e[0]||"":n==="ArrayBuffer"?C2(e[0]):null}function T2(n){let e="";const t=new Uint8Array(n);for(let s=0;s<t.length;s++)e+=String.fromCharCode(t[s]);return btoa(e)}function C2(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0)).buffer}const tf=new Map;let _w=0;class W extends li{constructor(e=null){super(),this.nodeType=e,this.updateType=K.NONE,this.updateBeforeType=K.NONE,this.updateAfterType=K.NONE,this.uuid=o2.generateUUID(),this.version=0,this._cacheKey=null,this._cacheKeyVersion=0,this.global=!1,this.isNode=!0,Object.defineProperty(this,"id",{value:_w++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,t){return this.updateType=t,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,K.FRAME)}onRenderUpdate(e){return this.onUpdate(e,K.RENDER)}onObjectUpdate(e){return this.onUpdate(e,K.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of wl(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const t of this.getChildren())t.traverse(e)}getCacheKey(e=!1){return e=e||this.version!==this._cacheKeyVersion,(e===!0||this._cacheKey===null)&&(this._cacheKey=M2(this,e),this._cacheKeyVersion=this.version),this._cacheKey}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const t=this.getNodeType(e);return e.getElementType(t)}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode?t.outputNode.getNodeType(e):this.nodeType}getShared(e){const t=this.getHash(e);return e.getNodeFromHash(t)||this}setup(e){const t=e.getNodeProperties(this);let s=0;for(const i of this.getChildren())t["node"+s++]=i;return null}construct(e){return console.warn("THREE.Node: construct() is deprecated. Use setup() instead."),this.setup(e)}increaseUsage(e){const t=e.getDataFromNode(this);return t.usageCount=t.usageCount===void 0?1:t.usageCount+1,t.usageCount}analyze(e){if(this.increaseUsage(e)===1){const s=e.getNodeProperties(this);for(const i of Object.values(s))i&&i.isNode===!0&&i.build(e)}}generate(e,t){const{outputNode:s}=e.getNodeProperties(this);if(s&&s.isNode===!0)return s.build(e,t)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,t=null){const s=this.getShared(e);if(this!==s)return s.build(e,t);e.addNode(this),e.addChain(this);let i=null;const r=e.getBuildStage();if(r==="setup"){this.updateReference(e);const o=e.getNodeProperties(this);if(o.initialized!==!0){const a=e.stack.nodes.length;o.initialized=!0,o.outputNode=this.setup(e),o.outputNode!==null&&e.stack.nodes.length!==a&&(o.outputNode=e.stack);for(const l of Object.values(o))l&&l.isNode===!0&&l.build(e)}}else if(r==="analyze")this.analyze(e);else if(r==="generate")if(this.generate.length===1){const a=this.getNodeType(e),l=e.getDataFromNode(this);i=l.snippet,i===void 0&&(i=this.generate(e)||"",l.snippet=i),i=e.format(i,a,t)}else i=this.generate(e,t)||"";return e.removeChain(this),i}getSerializeChildren(){return wl(this)}serialize(e){const t=this.getSerializeChildren(),s={};for(const{property:i,index:r,childNode:o}of t)r!==void 0?(s[i]===void 0&&(s[i]=Number.isInteger(r)?[]:{}),s[i][r]=o.toJSON(e.meta).uuid):s[i]=o.toJSON(e.meta).uuid;Object.keys(s).length>0&&(e.inputNodes=s)}deserialize(e){if(e.inputNodes!==void 0){const t=e.meta.nodes;for(const s in e.inputNodes)if(Array.isArray(e.inputNodes[s])){const i=[];for(const r of e.inputNodes[s])i.push(t[r]);this[s]=i}else if(typeof e.inputNodes[s]=="object"){const i={};for(const r in e.inputNodes[s]){const o=e.inputNodes[s][r];i[r]=t[o]}this[s]=i}else{const i=e.inputNodes[s];this[s]=t[i]}}}toJSON(e){const{uuid:t,type:s}=this,i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});let r=e.nodes[t];r===void 0&&(r={uuid:t,type:s,meta:e,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},i!==!0&&(e.nodes[r.uuid]=r),this.serialize(r),delete r.meta);function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}if(i){const a=o(e.textures),l=o(e.images),u=o(e.nodes);a.length>0&&(r.textures=a),l.length>0&&(r.images=l),u.length>0&&(r.nodes=u)}return r}}function k(n,e){if(typeof e!="function"||!n)throw new Error(`Node class ${n} is not a class`);if(tf.has(n)){console.warn(`Redefinition of node class ${n}`);return}tf.set(n,e),e.type=n}class te extends W{constructor(e){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,t){if(e.getBuildStage()==="generate"){const i=e.getVectorType(this.getNodeType(e,t)),r=e.getDataFromNode(this);if(r.propertyName!==void 0)return e.format(r.propertyName,i,t);if(i!=="void"&&t!=="void"&&this.hasDependencies(e)){const o=super.build(e,i),a=e.getVarFromNode(this,null,i),l=e.getPropertyName(a);return e.addLineFlowCode(`${l} = ${o}`),r.snippet=o,r.propertyName=l,e.format(r.propertyName,i,t)}}return super.build(e,t)}}k("TempNode",te);class xr extends W{constructor(e,t){super(),this.node=e,this.indexNode=t,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const t=this.node.build(e),s=this.indexNode.build(e,"uint");return`${t}[ ${s} ]`}}k("ArrayElementNode",xr);class Hd extends W{constructor(e,t){super(),this.node=e,this.convertTo=t}getNodeType(e){const t=this.node.getNodeType(e);let s=null;for(const i of this.convertTo.split("|"))(s===null||e.getTypeLength(t)===e.getTypeLength(i))&&(s=i);return s}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,t){const s=this.node,i=this.getNodeType(e),r=s.build(e,i);return e.format(r,i,t)}}k("ConvertNode",Hd);class _2 extends te{constructor(e=[],t=null){super(t),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((t,s)=>t+e.getTypeLength(s.getNodeType(e)),0))}generate(e,t){const s=this.getNodeType(e),i=this.nodes,r=e.getComponentType(s),o=[];for(const l of i){let u=l.build(e);const c=e.getComponentType(l.getNodeType(e));c!==r&&(u=e.format(u,c,r)),o.push(u)}const a=`${e.getType(s)}( ${o.join(", ")} )`;return e.format(a,s,t)}}k("JoinNode",_2);const Aw=Zl.join("");class Sh extends W{constructor(e,t="x"){super(),this.node=e,this.components=t,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const t of this.components)e=Math.max(Zl.indexOf(t)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,t){const s=this.node,i=e.getTypeLength(s.getNodeType(e));let r=null;if(i>1){let o=null;this.getVectorLength()>=i&&(o=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const l=s.build(e,o);this.components.length===i&&this.components===Aw.slice(0,this.components.length)?r=e.format(l,o,t):r=e.format(`${l}.${this.components}`,this.getNodeType(e),t)}else r=s.build(e,t);return r}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}k("SplitNode",Sh);class A2 extends te{constructor(e,t,s){super(),this.sourceNode=e,this.components=t,this.targetNode=s}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:t,components:s,targetNode:i}=this,r=this.getNodeType(e),o=e.getTypeFromLength(s.length),a=i.build(e,o),l=t.build(e,r),u=e.getTypeLength(r),c=[];for(let d=0;d<u;d++){const h=Zl[d];h===s[0]?(c.push(a),d+=s.length-1):c.push(l+"."+h)}return`${e.getType(r)}( ${c.join(", ")} )`}}k("SetNode",A2);class Ql extends W{constructor(e,t=null){super(t),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?ps(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=ps(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=T2(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?S2(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}k("InputNode",Ql);class _n extends Ql{constructor(e,t=null){super(e,t),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,t){const s=this.getNodeType(e);return e.format(this.generateConst(e),s,t)}}k("ConstNode",_n);let hr=null;const Ui=new Map;function w(n,e){if(Ui.has(n)){console.warn(`Redefinition of node element ${n}`);return}if(typeof e!="function")throw new Error(`Node element ${n} is not a function`);Ui.set(n,e)}const nf=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),E2={setup(n,e){const t=e.shift();return n(eu(t),...e)},get(n,e,t){if(typeof e=="string"&&n[e]===void 0){if(n.isStackNode!==!0&&e==="assign")return(...s)=>(hr.assign(t,...s),t);if(Ui.has(e)){const s=Ui.get(e);return n.isStackNode?(...i)=>t.add(s(...i)):(...i)=>s(t,...i)}else{if(e==="self")return n;if(e.endsWith("Assign")&&Ui.has(e.slice(0,e.length-6))){const s=Ui.get(e.slice(0,e.length-6));return n.isStackNode?(...i)=>t.assign(i[0],s(...i)):(...i)=>t.assign(s(t,...i))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=nf(e),O(new Sh(t,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=nf(e.slice(3).toLowerCase()),e=e.split("").sort().join(""),s=>O(new A2(n,e,s));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),O(new Sh(n,e));if(/^\d+$/.test(e)===!0)return O(new xr(t,new _n(Number(e),"uint")))}}}return Reflect.get(n,e,t)},set(n,e,t,s){return typeof e=="string"&&n[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(s[e].assign(t),!0):Reflect.set(n,e,t,s)}},oc=new WeakMap,sf=new WeakMap,Ew=function(n,e=null){const t=ps(n);if(t==="node"){let s=oc.get(n);return s===void 0&&(s=new Proxy(n,E2),oc.set(n,s),oc.set(s,s)),s}else{if(e===null&&(t==="float"||t==="boolean")||t&&t!=="shader"&&t!=="string")return O(Th(n,e));if(t==="shader")return b(n)}return n},zw=function(n,e=null){for(const t in n)n[t]=O(n[t],e);return n},Rw=function(n,e=null){const t=n.length;for(let s=0;s<t;s++)n[s]=O(n[s],e);return n},Lw=function(n,e=null,t=null,s=null){const i=r=>O(s!==null?Object.assign(r,s):r);return e===null?(...r)=>i(new n(...Ji(r))):t!==null?(t=O(t),(...r)=>i(new n(e,...Ji(r),t))):(...r)=>i(new n(e,...Ji(r)))},kw=function(n,...e){return O(new n(...Ji(e)))};class Iw extends W{constructor(e,t){super(),this.shaderNode=e,this.inputNodes=t}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode===null&&(t.outputNode=this.setupOutput(e)),t.outputNode.getNodeType(e)}call(e){const{shaderNode:t,inputNodes:s}=this;if(t.layout){let o=sf.get(e.constructor);o===void 0&&(o=new WeakMap,sf.set(e.constructor,o));let a=o.get(t);return a===void 0&&(a=O(e.buildFunctionNode(t)),o.set(t,a)),e.currentFunctionNode!==null&&e.currentFunctionNode.includes.push(a),O(a.call(s))}const i=t.jsFunc,r=s!==null?i(s,e.stack,e):i(e.stack,e);return O(r)}setup(e){const{outputNode:t}=e.getNodeProperties(this);return t||this.setupOutput(e)}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}generate(e,t){const{outputNode:s}=e.getNodeProperties(this);return s===null?this.call(e).build(e,t):super.generate(e,t)}}class Fw extends W{constructor(e){super(),this.jsFunc=e,this.layout=null,this.global=!0}get isArrayInput(){return/^\((\s+)?\[/.test(this.jsFunc.toString())}setLayout(e){return this.layout=e,this}call(e=null){return eu(e),O(new Iw(this,e))}setup(){return this.call()}}const Pw=[!1,!0],Ow=[0,1,2,3],bw=[-1,-2],z2=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],Wd=new Map;for(const n of Pw)Wd.set(n,new _n(n));const $d=new Map;for(const n of Ow)$d.set(n,new _n(n,"uint"));const Gd=new Map([...$d].map(n=>new _n(n.value,"int")));for(const n of bw)Gd.set(n,new _n(n,"int"));const Jl=new Map([...Gd].map(n=>new _n(n.value)));for(const n of z2)Jl.set(n,new _n(n));for(const n of z2)Jl.set(-n,new _n(-n));const Kl={bool:Wd,uint:$d,ints:Gd,float:Jl},rf=new Map([...Wd,...Jl]),Th=(n,e)=>rf.has(n)?rf.get(n):n.isNode===!0?n:new _n(n,e),Dw=n=>{try{return n.getNodeType()}catch{return}},ae=function(n,e=null){return(...t)=>{if((t.length===0||!["bool","float","int","uint"].includes(n)&&t.every(i=>typeof i!="object"))&&(t=[S2(n,...t)]),t.length===1&&e!==null&&e.has(t[0]))return O(e.get(t[0]));if(t.length===1){const i=Th(t[0],n);return Dw(i)===n?O(i):O(new Hd(i,n))}const s=t.map(i=>Th(i));return O(new _2(s,n))}},of=n=>n&&n.value,Vw=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function no(n){return new Proxy(new Fw(n),E2)}const O=(n,e=null)=>Ew(n,e),eu=(n,e=null)=>new zw(n,e),Ji=(n,e=null)=>new Rw(n,e),S=(...n)=>new Lw(...n),D=(...n)=>new kw(...n),b=n=>{const e=new no(n),t=(...s)=>{let i;return eu(s),s[0]&&s[0].isNode?i=[...s]:i=s[0],e.call(i)};return t.shaderNode=e,t.setLayout=s=>(e.setLayout(s),t),t};k("ShaderNode",no);w("toGlobal",n=>(n.global=!0,n));const af=n=>{hr=n},Bw=()=>hr,Ae=(...n)=>hr.if(...n);function Uw(n){return hr&&hr.add(n),n}w("append",Uw);const jw=new ae("color"),R=new ae("float",Kl.float),Ie=new ae("int",Kl.ints),Hw=new ae("uint",Kl.uint),Ww=new ae("bool",Kl.bool),F=new ae("vec2"),cs=new ae("ivec2"),$w=new ae("uvec2"),Gw=new ae("bvec2"),T=new ae("vec3"),qw=new ae("ivec3"),Xw=new ae("uvec3"),Zw=new ae("bvec3"),B=new ae("vec4"),Yw=new ae("ivec4"),Qw=new ae("uvec4"),Jw=new ae("bvec4"),qd=new ae("mat2"),Kw=new ae("imat2"),e3=new ae("umat2"),t3=new ae("bmat2"),rt=new ae("mat3"),n3=new ae("imat3"),s3=new ae("umat3"),i3=new ae("bmat3"),Ki=new ae("mat4"),r3=new ae("imat4"),o3=new ae("umat4"),a3=new ae("bmat4");w("toColor",jw);w("toFloat",R);w("toInt",Ie);w("toUint",Hw);w("toBool",Ww);w("toVec2",F);w("toIvec2",cs);w("toUvec2",$w);w("toBvec2",Gw);w("toVec3",T);w("toIvec3",qw);w("toUvec3",Xw);w("toBvec3",Zw);w("toVec4",B);w("toIvec4",Yw);w("toUvec4",Qw);w("toBvec4",Jw);w("toMat2",qd);w("toImat2",Kw);w("toUmat2",e3);w("toBmat2",t3);w("toMat3",rt);w("toImat3",n3);w("toUmat3",s3);w("toBmat3",i3);w("toMat4",Ki);w("toImat4",r3);w("toUmat4",o3);w("toBmat4",a3);const l3=S(xr),u3=(n,e)=>O(new Hd(O(n),e));w("element",l3);w("convert",u3);class R2 extends te{constructor(e,t){super(),this.targetNode=e,this.sourceNode=t}hasDependencies(){return!1}getNodeType(e,t){return t!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:t}=this;if(e.isAvailable("swizzleAssign")===!1&&t.isSplitNode&&t.components.length>1){const s=e.getTypeLength(t.node.getNodeType(e));return Zl.join("").slice(0,s)!==t.components}return!1}generate(e,t){const{targetNode:s,sourceNode:i}=this,r=this.needsSplitAssign(e),o=s.getNodeType(e),a=s.context({assign:!0}).build(e),l=i.build(e,o),u=i.getNodeType(e),c=e.getDataFromNode(this);let d;if(c.initialized===!0)t!=="void"&&(d=a);else if(r){const h=e.getVarFromNode(this,null,o),p=e.getPropertyName(h);e.addLineFlowCode(`${p} = ${l}`);const f=s.node.context({assign:!0}).build(e);for(let y=0;y<s.components.length;y++){const v=s.components[y];e.addLineFlowCode(`${f}.${v} = ${p}[ ${y} ]`)}t!=="void"&&(d=a)}else d=`${a} = ${l}`,(t==="void"||u==="void")&&(e.addLineFlowCode(d),t!=="void"&&(d=a));return c.initialized=!0,e.format(d,o,t)}}const c3=S(R2);k("AssignNode",R2);w("assign",c3);class L2 extends W{constructor(e,t=null){super(),this.node=e,this.name=t,this.isVaryingNode=!0}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const t=e.getNodeProperties(this);let s=t.varying;if(s===void 0){const i=this.name,r=this.getNodeType(e);t.varying=s=e.getVaryingFromNode(this,i,r),t.node=this.node}return s.needsInterpolation||(s.needsInterpolation=e.shaderStage==="fragment"),s}setup(e){this.setupVarying(e)}analyze(e){return this.setupVarying(e),this.node.analyze(e)}generate(e){const t=e.getNodeProperties(this),s=this.setupVarying(e);if(t.propertyName===void 0){const i=this.getNodeType(e),r=e.getPropertyName(s,v0.VERTEX);e.flowNodeFromShaderStage(v0.VERTEX,this.node,i,r),t.propertyName=r}return e.getPropertyName(s)}}const Re=S(L2);w("varying",Re);k("VaryingNode",L2);class Xd extends W{constructor(e,t=null,s=null){super(t),this.defaultNode=s,this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let t=super.getNodeType(e);if(t===null){const s=this.getAttributeName(e);if(e.hasGeometryAttribute(s)){const i=e.geometry.getAttribute(s);t=e.getTypeFromAttribute(i)}else t="float"}return t}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const t=this.getAttributeName(e),s=this.getNodeType(e);if(e.hasGeometryAttribute(t)===!0){const r=e.geometry.getAttribute(t),o=e.getTypeFromAttribute(r),a=e.getAttribute(t,o);return e.shaderStage==="vertex"?e.format(a.name,o,s):Re(this).build(e,s)}else{console.warn(`AttributeNode: Vertex attribute "${t}" not found on geometry.`);const{defaultNode:r}=this;return r!==null?r.build(e,s):e.generateConst(s)}}}const tt=(n,e,t)=>O(new Xd(n,e,O(t)));k("AttributeNode",Xd);class k2 extends W{constructor(e,t){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=t}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const t=this.callNode.build(e,"void");return t!==""&&e.addLineFlowCode(t),this.outputNode.build(e)}}const I2=S(k2);w("bypass",I2);k("BypassNode",k2);class F2 extends W{constructor(e,t=!0){super(),this.node=e,this.parent=t,this.isCacheNode=!0}getNodeType(e){return this.node.getNodeType(e)}build(e,...t){const s=e.getCache(),i=e.getCacheFromNode(this,parent);e.setCache(i);const r=this.node.build(e,...t);return e.setCache(s),r}}const $a=(n,...e)=>O(new F2(O(n),...e));w("cache",$a);k("CacheNode",F2);class Zd extends W{constructor(e,t={}){super(),this.isContextNode=!0,this.node=e,this.context=t}getNodeType(e){return this.node.getNodeType(e)}analyze(e){this.node.build(e)}setup(e){const t=e.getContext();e.setContext({...e.context,...this.context});const s=this.node.build(e);return e.setContext(t),s}generate(e,t){const s=e.getContext();e.setContext({...e.context,...this.context});const i=this.node.build(e,t);return e.setContext(s),i}}const so=S(Zd),h3=(n,e)=>so(n,{label:e});w("context",so);w("label",h3);k("ContextNode",Zd);class Nt extends W{constructor(e){super("uint"),this.scope=e,this.isInstanceIndexNode=!0}generate(e){const t=this.getNodeType(e),s=this.scope;let i;if(s===Nt.VERTEX)i=e.getVertexIndex();else if(s===Nt.INSTANCE)i=e.getInstanceIndex();else if(s===Nt.DRAW)i=e.getDrawIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+s);let r;return e.shaderStage==="vertex"||e.shaderStage==="compute"?r=i:r=Re(this).build(e,t),r}}Nt.VERTEX="vertex";Nt.INSTANCE="instance";Nt.DRAW="draw";const d3=D(Nt,Nt.VERTEX),Yd=D(Nt,Nt.INSTANCE),p3=D(Nt,Nt.DRAW);k("IndexNode",Nt);class tu{start(){}finish(){}direct(){}directRectArea(){}indirectDiffuse(){}indirectSpecular(){}ambientOcclusion(){}}class P2 extends W{constructor(e,t=null){super(),this.node=e,this.name=t,this.global=!0,this.isVarNode=!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:t,name:s}=this,i=e.getVarFromNode(this,s,e.getVectorType(this.getNodeType(e))),r=e.getPropertyName(i),o=t.build(e,i.type);return e.addLineFlowCode(`${r} = ${o}`),r}}const Ml=S(P2);w("temp",Ml);w("toVar",(...n)=>Ml(...n).append());k("VarNode",P2);class ne extends W{constructor(e,t=null,s=!1){super(e),this.name=t,this.varying=s,this.isPropertyNode=!0}getHash(e){return this.name||super.getHash(e)}isGlobal(){return!0}generate(e){let t;return this.varying===!0?(t=e.getVaryingFromNode(this,this.name),t.needsInterpolation=!0):t=e.getVarFromNode(this,this.name),e.getPropertyName(t)}}const ve=(n,e)=>O(new ne(n,e)),fn=(n,e)=>O(new ne(n,e,!0)),le=D(ne,"vec4","DiffuseColor"),On=D(ne,"float","Roughness"),Sl=D(ne,"float","Metalness"),Ch=D(ne,"float","Clearcoat"),Tl=D(ne,"float","ClearcoatRoughness"),ji=D(ne,"vec3","Sheen"),Qd=D(ne,"float","SheenRoughness"),Jd=D(ne,"float","Iridescence"),O2=D(ne,"float","IridescenceIOR"),b2=D(ne,"float","IridescenceThickness"),_h=D(ne,"float","AlphaT"),Gs=D(ne,"float","Anisotropy"),Ga=D(ne,"vec3","AnisotropyT"),er=D(ne,"vec3","AnisotropyB"),Et=D(ne,"color","SpecularColor"),Cl=D(ne,"float","SpecularF90"),Ah=D(ne,"float","Shininess"),f3=D(ne,"vec4","Output"),tr=D(ne,"float","dashSize"),_l=D(ne,"float","gapSize");D(ne,"float","pointWidth");const qa=D(ne,"float","IOR"),Eh=D(ne,"float","Transmission"),D2=D(ne,"float","Thickness"),V2=D(ne,"float","AttenuationDistance"),B2=D(ne,"color","AttenuationColor"),U2=D(ne,"float","Dispersion");k("PropertyNode",ne);class m3 extends ne{constructor(e,t=null){super(e,t),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}k("ParameterNode",m3);class Kd extends W{constructor(e="",t=[],s=""){super("code"),this.isCodeNode=!0,this.code=e,this.language=s,this.includes=t}isGlobal(){return!0}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const t=this.getIncludes(e);for(const i of t)i.build(e);const s=e.getCodeFromNode(this,this.getNodeType(e));return s.code=this.code,s.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}S(Kd);k("CodeNode",Kd);class g3 extends Kd{constructor(e="",t=[],s=""){super(e,t,s),this.keywords={}}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const t=e.getDataFromNode(this);let s=t.nodeFunction;return s===void 0&&(s=e.parser.parseFunction(this.code),t.nodeFunction=s),s}generate(e,t){super.generate(e);const s=this.getNodeFunction(e),i=s.name,r=s.type,o=e.getCodeFromNode(this,r);i!==""&&(o.name=i);const a=e.getPropertyName(o);let l=this.getNodeFunction(e).getCode(a);const u=this.keywords,c=Object.keys(u);if(c.length>0)for(const d of c){const h=new RegExp(`\\b${d}\\b`,"g"),p=u[d].build(e,"property");l=l.replace(h,p)}return o.code=l+`
`,t==="property"?a:e.format(`${a}()`,r,t)}}k("FunctionNode",g3);class ep extends W{constructor(e,t=!1){super("string"),this.name=e,this.version=0,this.shared=t,this.isUniformGroup=!0}set needsUpdate(e){e===!0&&this.version++}}const y3=n=>new ep(n),tp=n=>new ep(n,!0);tp("frame");tp("render");const x3=y3("object");k("UniformGroupNode",ep);class ui extends Ql{constructor(e,t=null){super(e,t),this.isUniformNode=!0,this.name="",this.groupNode=x3}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,t){const s=this.getSelf();return e=e.bind(s),super.onUpdate(i=>{const r=e(i,s);r!==void 0&&(this.value=r)},t)}generate(e,t){const s=this.getNodeType(e),i=this.getUniformHash(e);let r=e.getNodeFromHash(i);r===void 0&&(e.setHashNode(this,i),r=this);const o=r.getInputType(e),a=e.getUniformFromNode(r,o,e.shaderStage,this.name||e.context.label),l=e.getPropertyName(a);return e.context.label!==void 0&&delete e.context.label,e.format(l,s,t)}}const $=(n,e)=>{const t=Vw(e||n),s=n&&n.isNode===!0?n.node&&n.node.value||n.value:n;return O(new ui(s,t))};k("UniformNode",ui);const Tt=n=>tt("uv"+(n>0?n:""),"vec2");class j2 extends W{constructor(e,t=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=t}generate(e,t){const s=this.textureNode.build(e,"property"),i=this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${s}, ${i} )`,this.getNodeType(e),t)}}const Al=S(j2);w("textureSize",Al);k("TextureSizeNode",j2);class me extends te{constructor(e,t,s,...i){if(super(),i.length>0){let r=new me(e,t,s);for(let o=0;o<i.length-1;o++)r=new me(e,r,i[o]);t=r,s=i[i.length-1]}this.op=e,this.aNode=t,this.bNode=s}getNodeType(e,t){const s=this.op,i=this.aNode,r=this.bNode,o=i.getNodeType(e),a=typeof r<"u"?r.getNodeType(e):null;if(o==="void"||a==="void")return"void";if(s==="%")return o;if(s==="~"||s==="&"||s==="|"||s==="^"||s===">>"||s==="<<")return e.getIntegerType(o);if(s==="!"||s==="=="||s==="&&"||s==="||"||s==="^^")return"bool";if(s==="<"||s===">"||s==="<="||s===">="){const l=t?e.getTypeLength(t):Math.max(e.getTypeLength(o),e.getTypeLength(a));return l>1?`bvec${l}`:"bool"}else return o==="float"&&e.isMatrix(a)?a:e.isMatrix(o)&&e.isVector(a)?e.getVectorFromMatrix(o):e.isVector(o)&&e.isMatrix(a)?e.getVectorFromMatrix(a):e.getTypeLength(a)>e.getTypeLength(o)?a:o}generate(e,t){const s=this.op,i=this.aNode,r=this.bNode,o=this.getNodeType(e,t);let a=null,l=null;o!=="void"?(a=i.getNodeType(e),l=typeof r<"u"?r.getNodeType(e):null,s==="<"||s===">"||s==="<="||s===">="||s==="=="?e.isVector(a)?l=a:a=l="float":s===">>"||s==="<<"?(a=o,l=e.changeComponentType(l,"uint")):e.isMatrix(a)&&e.isVector(l)?l=e.getVectorFromMatrix(a):e.isVector(a)&&e.isMatrix(l)?a=e.getVectorFromMatrix(l):a=l=o):a=l=o;const u=i.build(e,a),c=typeof r<"u"?r.build(e,l):null,d=e.getTypeLength(t),h=e.getFunctionOperator(s);if(t!=="void")return s==="<"&&d>1?e.format(`${e.getMethod("lessThan")}( ${u}, ${c} )`,o,t):s==="<="&&d>1?e.format(`${e.getMethod("lessThanEqual")}( ${u}, ${c} )`,o,t):s===">"&&d>1?e.format(`${e.getMethod("greaterThan")}( ${u}, ${c} )`,o,t):s===">="&&d>1?e.format(`${e.getMethod("greaterThanEqual")}( ${u}, ${c} )`,o,t):s==="!"||s==="~"?e.format(`(${s}${u})`,a,t):h?e.format(`${h}( ${u}, ${c} )`,o,t):e.format(`( ${u} ${s} ${c} )`,o,t);if(a!=="void")return h?e.format(`${h}( ${u}, ${c} )`,o,t):e.format(`${u} ${s} ${c}`,o,t)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const Mt=S(me,"+"),Sn=S(me,"-"),se=S(me,"*"),Zn=S(me,"/"),v3=S(me,"%"),N3=S(me,"=="),w3=S(me,"!="),M3=S(me,"<"),S3=S(me,">"),T3=S(me,"<="),C3=S(me,">="),_3=S(me,"&&"),A3=S(me,"||"),E3=S(me,"!"),z3=S(me,"^^"),R3=S(me,"&"),L3=S(me,"~"),k3=S(me,"|"),I3=S(me,"^"),F3=S(me,"<<"),P3=S(me,">>");w("add",Mt);w("sub",Sn);w("mul",se);w("div",Zn);w("remainder",v3);w("equal",N3);w("notEqual",w3);w("lessThan",M3);w("greaterThan",S3);w("lessThanEqual",T3);w("greaterThanEqual",C3);w("and",_3);w("or",A3);w("not",E3);w("xor",z3);w("bitAnd",R3);w("bitNot",L3);w("bitOr",k3);w("bitXor",I3);w("shiftLeft",F3);w("shiftRight",P3);k("OperatorNode",me);class N extends te{constructor(e,t,s=null,i=null){super(),this.method=e,this.aNode=t,this.bNode=s,this.cNode=i}getInputType(e){const t=this.aNode.getNodeType(e),s=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,r=e.isMatrix(t)?0:e.getTypeLength(t),o=e.isMatrix(s)?0:e.getTypeLength(s),a=e.isMatrix(i)?0:e.getTypeLength(i);return r>o&&r>a?t:o>a?s:a>r?i:t}getNodeType(e){const t=this.method;return t===N.LENGTH||t===N.DISTANCE||t===N.DOT?"float":t===N.CROSS?"vec3":t===N.ALL?"bool":t===N.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):t===N.MOD?this.aNode.getNodeType(e):this.getInputType(e)}generate(e,t){const s=this.method,i=this.getNodeType(e),r=this.getInputType(e),o=this.aNode,a=this.bNode,l=this.cNode,u=e.renderer.isWebGLRenderer===!0;if(s===N.TRANSFORM_DIRECTION){let c=o,d=a;e.isMatrix(c.getNodeType(e))?d=B(T(d),0):c=B(T(c),0);const h=se(c,d).xyz;return Co(h).build(e,t)}else{if(s===N.NEGATE)return e.format("( - "+o.build(e,r)+" )",i,t);if(s===N.ONE_MINUS)return Sn(1,o).build(e,t);if(s===N.RECIPROCAL)return Zn(1,o).build(e,t);if(s===N.DIFFERENCE)return gn(Sn(o,a)).build(e,t);{const c=[];return s===N.CROSS||s===N.MOD?c.push(o.build(e,i),a.build(e,i)):s===N.STEP?c.push(o.build(e,e.getTypeLength(o.getNodeType(e))===1?"float":r),a.build(e,r)):u&&(s===N.MIN||s===N.MAX)||s===N.MOD?c.push(o.build(e,r),a.build(e,e.getTypeLength(a.getNodeType(e))===1?"float":r)):s===N.REFRACT?c.push(o.build(e,r),a.build(e,r),l.build(e,"float")):s===N.MIX?c.push(o.build(e,r),a.build(e,r),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":r)):(c.push(o.build(e,r)),a!==null&&c.push(a.build(e,r)),l!==null&&c.push(l.build(e,r))),e.format(`${e.getMethod(s,i)}( ${c.join(", ")} )`,i,t)}}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}N.ALL="all";N.ANY="any";N.EQUALS="equals";N.RADIANS="radians";N.DEGREES="degrees";N.EXP="exp";N.EXP2="exp2";N.LOG="log";N.LOG2="log2";N.SQRT="sqrt";N.INVERSE_SQRT="inversesqrt";N.FLOOR="floor";N.CEIL="ceil";N.NORMALIZE="normalize";N.FRACT="fract";N.SIN="sin";N.COS="cos";N.TAN="tan";N.ASIN="asin";N.ACOS="acos";N.ATAN="atan";N.ABS="abs";N.SIGN="sign";N.LENGTH="length";N.NEGATE="negate";N.ONE_MINUS="oneMinus";N.DFDX="dFdx";N.DFDY="dFdy";N.ROUND="round";N.RECIPROCAL="reciprocal";N.TRUNC="trunc";N.FWIDTH="fwidth";N.BITCAST="bitcast";N.TRANSPOSE="transpose";N.ATAN2="atan2";N.MIN="min";N.MAX="max";N.MOD="mod";N.STEP="step";N.REFLECT="reflect";N.DISTANCE="distance";N.DIFFERENCE="difference";N.DOT="dot";N.CROSS="cross";N.POW="pow";N.TRANSFORM_DIRECTION="transformDirection";N.MIX="mix";N.CLAMP="clamp";N.REFRACT="refract";N.SMOOTHSTEP="smoothstep";N.FACEFORWARD="faceforward";const H2=R(1e-6);R(1e6);const lf=R(Math.PI);R(Math.PI*2);const W2=S(N,N.ALL),O3=S(N,N.ANY),b3=S(N,N.EQUALS),D3=S(N,N.RADIANS),V3=S(N,N.DEGREES),$2=S(N,N.EXP),zh=S(N,N.EXP2),G2=S(N,N.LOG),nu=S(N,N.LOG2),B3=S(N,N.SQRT),U3=S(N,N.INVERSE_SQRT),su=S(N,N.FLOOR),q2=S(N,N.CEIL),Co=S(N,N.NORMALIZE),iu=S(N,N.FRACT),Rt=S(N,N.SIN),mn=S(N,N.COS),j3=S(N,N.TAN),H3=S(N,N.ASIN),W3=S(N,N.ACOS),$3=S(N,N.ATAN),gn=S(N,N.ABS),np=S(N,N.SIGN),nr=S(N,N.LENGTH),G3=S(N,N.NEGATE),q3=S(N,N.ONE_MINUS),X3=S(N,N.DFDX),Z3=S(N,N.DFDY),Y3=S(N,N.ROUND),Q3=S(N,N.RECIPROCAL),J3=S(N,N.TRUNC),K3=S(N,N.FWIDTH);S(N,N.BITCAST);const eM=S(N,N.TRANSPOSE),tM=S(N,N.ATAN2),bn=S(N,N.MIN),ct=S(N,N.MAX),nM=S(N,N.MOD),sM=S(N,N.STEP),iM=S(N,N.REFLECT),rM=S(N,N.DISTANCE),oM=S(N,N.DIFFERENCE),ru=S(N,N.DOT),X2=S(N,N.CROSS),Un=S(N,N.POW),Z2=S(N,N.POW,2),aM=S(N,N.POW,3),lM=S(N,N.POW,4),uM=S(N,N.TRANSFORM_DIRECTION),cM=n=>se(np(n),Un(gn(n),1/3)),hM=n=>ru(n,n),Le=S(N,N.MIX),si=(n,e=0,t=1)=>O(new N(N.CLAMP,O(n),O(e),O(t))),dM=n=>si(n),Y2=S(N,N.REFRACT),Tn=S(N,N.SMOOTHSTEP),pM=S(N,N.FACEFORWARD),fM=(n,e,t)=>Le(e,t,n),mM=(n,e,t)=>Tn(e,t,n);w("all",W2);w("any",O3);w("equals",b3);w("radians",D3);w("degrees",V3);w("exp",$2);w("exp2",zh);w("log",G2);w("log2",nu);w("sqrt",B3);w("inverseSqrt",U3);w("floor",su);w("ceil",q2);w("normalize",Co);w("fract",iu);w("sin",Rt);w("cos",mn);w("tan",j3);w("asin",H3);w("acos",W3);w("atan",$3);w("abs",gn);w("sign",np);w("length",nr);w("lengthSq",hM);w("negate",G3);w("oneMinus",q3);w("dFdx",X3);w("dFdy",Z3);w("round",Y3);w("reciprocal",Q3);w("trunc",J3);w("fwidth",K3);w("atan2",tM);w("min",bn);w("max",ct);w("mod",nM);w("step",sM);w("reflect",iM);w("distance",rM);w("dot",ru);w("cross",X2);w("pow",Un);w("pow2",Z2);w("pow3",aM);w("pow4",lM);w("transformDirection",uM);w("mix",fM);w("clamp",si);w("refract",Y2);w("smoothstep",mM);w("faceForward",pM);w("difference",oM);w("saturate",dM);w("cbrt",cM);w("transpose",eM);k("MathNode",N);const gM=b(n=>{const{value:e}=n,{rgb:t}=e,s=t.mul(.9478672986).add(.0521327014).pow(2.4),i=t.mul(.0773993808),r=t.lessThanEqual(.04045),o=Le(s,i,r);return B(o,e.a)}),yM=b(n=>{const{value:e}=n,{rgb:t}=e,s=t.pow(.41666).mul(1.055).sub(.055),i=t.mul(12.92),r=t.lessThanEqual(.0031308),o=Le(s,i,r);return B(o,e.a)}),uf=n=>{let e=null;return n===gr?e="Linear":n===In&&(e="sRGB"),e},Q2=(n,e)=>uf(n)+"To"+uf(e);class St extends te{constructor(e,t){super("vec4"),this.method=e,this.node=t}setup(){const{method:e,node:t}=this;return e===St.LINEAR_TO_LINEAR?t:xM[e]({value:t})}}St.LINEAR_TO_LINEAR="LinearToLinear";St.LINEAR_TO_sRGB="LinearTosRGB";St.sRGB_TO_LINEAR="sRGBToLinear";const xM={[St.LINEAR_TO_sRGB]:yM,[St.sRGB_TO_LINEAR]:gM},vM=(n,e)=>O(new St(Q2(gr,e),O(n))),J2=(n,e)=>O(new St(Q2(e,gr),O(n))),NM=S(St,St.LINEAR_TO_sRGB),wM=S(St,St.sRGB_TO_LINEAR);w("linearTosRGB",NM);w("sRGBToLinear",wM);w("linearToColorSpace",vM);w("colorSpaceToLinear",J2);k("ColorSpaceNode",St);class K2 extends W{constructor(e="",t="void"){super(t),this.snippet=e}generate(e,t){const s=this.getNodeType(e),i=this.snippet;if(s==="void")e.addLineFlowCode(i);else return e.format(`( ${i} )`,s,t)}}const ou=S(K2);k("ExpressionNode",K2);class e1 extends ui{constructor(e){super(0),this.textureNode=e,this.updateType=K.FRAME}get texture(){return this.textureNode.value}update(){const e=this.texture,t=e.images,s=t&&t.length>0?t[0]&&t[0].image||t[0]:e.image;if(s&&s.width!==void 0){const{width:i,height:r}=s;this.value=Math.log2(Math.max(i,r))}}}const MM=S(e1);k("MaxMipLevelNode",e1);class ci extends ui{constructor(e,t=null,s=null){super(e),this.isTextureNode=!0,this.uvNode=t,this.levelNode=s,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=K.NONE,this.referenceNode=null,this._value=e,this.setUpdateMatrix(t===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===n2?"uvec4":this.value.type===gN?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return Tt(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){const t=this.value;return $(t.matrix).mul(T(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?K.FRAME:K.NONE,this}setupUV(e,t){const s=this.value;return e.isFlipY()&&(s.isRenderTargetTexture===!0||s.isFramebufferTexture===!0||s.isDepthTexture===!0)&&(t=t.setY(t.y.oneMinus())),t}setup(e){const t=e.getNodeProperties(this);let s=this.uvNode;(s===null||e.context.forceUVContext===!0)&&e.context.getUV&&(s=e.context.getUV(this)),s||(s=this.getDefaultUV()),this.updateMatrix===!0&&(s=this.getTransformedUV(s)),s=this.setupUV(e,s);let i=this.levelNode;i===null&&e.context.getTextureLevel&&(i=e.context.getTextureLevel(this)),t.uvNode=s,t.levelNode=i,t.compareNode=this.compareNode,t.gradNode=this.gradNode,t.depthNode=this.depthNode}generateUV(e,t){return t.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,t,s,i,r,o,a){const l=this.value;let u;return i?u=e.generateTextureLevel(l,t,s,i,r):a?u=e.generateTextureGrad(l,t,s,a,r):o?u=e.generateTextureCompare(l,t,s,o,r):this.sampler===!1?u=e.generateTextureLoad(l,t,s,r):u=e.generateTexture(l,t,s,r),u}generate(e,t){const s=e.getNodeProperties(this),i=this.value;if(!i||i.isTexture!==!0)throw new Error("TextureNode: Need a three.js texture.");const r=super.generate(e,"property");if(t==="sampler")return r+"_sampler";if(e.isReference(t))return r;{const o=e.getDataFromNode(this);let a=o.propertyName;if(a===void 0){const{uvNode:c,levelNode:d,compareNode:h,depthNode:p,gradNode:f}=s,y=this.generateUV(e,c),v=d?d.build(e,"float"):null,m=p?p.build(e,"int"):null,g=h?h.build(e,"float"):null,x=f?[f[0].build(e,"vec2"),f[1].build(e,"vec2")]:null,M=e.getVarFromNode(this);a=e.getPropertyName(M);const E=this.generateSnippet(e,r,y,v,m,g,x);e.addLineFlowCode(`${a} = ${E}`),o.snippet=E,o.propertyName=a}let l=a;const u=this.getNodeType(e);return e.needsColorSpaceToLinear(i)&&(l=J2(ou(l,u),i.colorSpace).setup(e).build(e,u)),e.format(l,u,t)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){const t=this.clone();return t.uvNode=e,t.referenceNode=this,O(t)}blur(e){const t=this.clone();return t.levelNode=e.mul(MM(t)),t.referenceNode=this,O(t)}level(e){const t=this.clone();return t.levelNode=e,t.referenceNode=this,t}size(e){return Al(this,e)}compare(e){const t=this.clone();return t.compareNode=O(e),t.referenceNode=this,O(t)}grad(e,t){const s=this.clone();return s.gradNode=[O(e),O(t)],s.referenceNode=this,O(s)}depth(e){const t=this.clone();return t.depthNode=O(e),t.referenceNode=this,O(t)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value]}update(){const e=this.value;e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e}}const We=S(ci),Fn=(...n)=>We(...n).setSampler(!1);w("texture",We);k("TextureNode",ci);class au extends ui{constructor(e,t,s=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferCount=s}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const sp=(n,e,t)=>O(new au(n,e,t));k("BufferNode",au);class SM extends xr{constructor(e,t){super(e,t),this.isArrayBufferElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const t=super.generate(e),s=this.getNodeType();return e.format(t,"vec4",s)}}class t1 extends au{constructor(e,t=null){super(null,"vec4"),this.array=e,this.elementType=t,this._elementType=null,this._elementLength=0,this.updateType=K.RENDER,this.isArrayBufferNode=!0}getElementType(){return this.elementType||this._elementType}getElementLength(){return this._elementLength}update(){const{array:e,value:t}=this,s=this.getElementLength(),i=this.getElementType();if(s===1)for(let r=0;r<e.length;r++){const o=r*4;t[o]=e[r]}else if(i==="color")for(let r=0;r<e.length;r++){const o=r*4,a=e[r];t[o]=a.r,t[o+1]=a.g,t[o+2]=a.b||0}else for(let r=0;r<e.length;r++){const o=r*4,a=e[r];t[o]=a.x,t[o+1]=a.y,t[o+2]=a.z||0,t[o+3]=a.w||0}}setup(e){const t=this.array.length;this._elementType=this.elementType===null?ps(this.array[0]):this.elementType,this._elementLength=e.getTypeLength(this._elementType);let s=Float32Array;return this._elementType.charAt(0)==="i"?s=Int32Array:this._elementType.charAt(0)==="u"&&(s=Uint32Array),this.value=new s(t*4),this.bufferCount=t,this.bufferType=e.changeComponentType("vec4",e.getComponentType(this._elementType)),super.setup(e)}element(e){return O(new SM(this,O(e)))}}const Rh=(n,e)=>O(new t1(n,e));k("UniformsNode",t1);class TM extends xr{constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),s=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(t,s,i)}}class vr extends W{constructor(e,t,s=null,i=null){super(),this.property=e,this.uniformType=t,this.object=s,this.count=i,this.properties=e.split("."),this.reference=null,this.node=null,this.updateType=K.OBJECT}element(e){return O(new TM(this,O(e)))}setNodeType(e){let t=null;this.count!==null?t=sp(null,e,this.count):Array.isArray(this.getValueFromReference())?t=Rh(null,e):e==="texture"?t=We(null):t=$(null,e),this.node=t}getNodeType(e){return this.node===null&&this.updateValue(),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let s=e[t[0]];for(let i=1;i<t.length;i++)s=s[t[i]];return s}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const Wt=(n,e,t)=>O(new vr(n,e,t)),CM=(n,e,t,s)=>O(new vr(n,e,s,t));k("ReferenceNode",vr);class n1 extends vr{constructor(e,t,s=null){super(e,t,s),this.material=s}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const jn=(n,e,t)=>O(new n1(n,e,t));k("MaterialReferenceNode",n1);const hi=tp("camera").onRenderUpdate(()=>{hi.needsUpdate=!0}),Fr=$("float").label("cameraNear").setGroup(hi).onRenderUpdate(({camera:n})=>n.near),Pr=$("float").label("cameraFar").setGroup(hi).onRenderUpdate(({camera:n})=>n.far),_M=$("float").label("cameraLogDepth").setGroup(hi).onRenderUpdate(({camera:n})=>2/(Math.log(n.far+1)/Math.LN2)),yn=$("mat4").label("cameraProjectionMatrix").setGroup(hi).onRenderUpdate(({camera:n})=>n.projectionMatrix),Nr=$("mat4").label("cameraViewMatrix").setGroup(hi).onRenderUpdate(({camera:n})=>n.matrixWorldInverse),s1=$(new C).label("cameraPosition").setGroup(hi).onRenderUpdate(({camera:n},e)=>e.value.setFromMatrixPosition(n.matrixWorld));class q extends W{constructor(e=q.VIEW_MATRIX,t=null){super(),this.scope=e,this.object3d=t,this.updateType=K.OBJECT,this._uniformNode=new ui(null)}getNodeType(){const e=this.scope;if(e===q.WORLD_MATRIX||e===q.VIEW_MATRIX)return"mat4";if(e===q.NORMAL_MATRIX)return"mat3";if(e===q.POSITION||e===q.VIEW_POSITION||e===q.DIRECTION||e===q.SCALE)return"vec3"}update(e){const t=this.object3d,s=this._uniformNode,i=this.scope;if(i===q.VIEW_MATRIX)s.value=t.modelViewMatrix;else if(i===q.NORMAL_MATRIX)s.value=t.normalMatrix;else if(i===q.WORLD_MATRIX)s.value=t.matrixWorld;else if(i===q.POSITION)s.value=s.value||new C,s.value.setFromMatrixPosition(t.matrixWorld);else if(i===q.SCALE)s.value=s.value||new C,s.value.setFromMatrixScale(t.matrixWorld);else if(i===q.DIRECTION)s.value=s.value||new C,t.getWorldDirection(s.value);else if(i===q.VIEW_POSITION){const r=e.camera;s.value=s.value||new C,s.value.setFromMatrixPosition(t.matrixWorld),s.value.applyMatrix4(r.matrixWorldInverse)}}generate(e){const t=this.scope;return t===q.WORLD_MATRIX||t===q.VIEW_MATRIX?this._uniformNode.nodeType="mat4":t===q.NORMAL_MATRIX?this._uniformNode.nodeType="mat3":(t===q.POSITION||t===q.VIEW_POSITION||t===q.DIRECTION||t===q.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}q.VIEW_MATRIX="viewMatrix";q.NORMAL_MATRIX="normalMatrix";q.WORLD_MATRIX="worldMatrix";q.POSITION="position";q.SCALE="scale";q.VIEW_POSITION="viewPosition";q.DIRECTION="direction";S(q,q.DIRECTION);S(q,q.VIEW_MATRIX);S(q,q.NORMAL_MATRIX);S(q,q.WORLD_MATRIX);const Lh=S(q,q.POSITION);S(q,q.SCALE);const ip=S(q,q.VIEW_POSITION);k("Object3DNode",q);class Xe extends q{constructor(e=Xe.VIEW_MATRIX){super(e)}update(e){this.object3d=e.object,super.update(e)}}D(Xe,Xe.DIRECTION);const ii=D(Xe,Xe.VIEW_MATRIX).label("modelViewMatrix").temp("ModelViewMatrix"),i1=D(Xe,Xe.NORMAL_MATRIX),_o=D(Xe,Xe.WORLD_MATRIX);D(Xe,Xe.POSITION);D(Xe,Xe.SCALE);D(Xe,Xe.VIEW_POSITION);const AM=$(new Te).onObjectUpdate(({object:n},e)=>e.value.copy(n.matrixWorld).invert());k("ModelNode",Xe);const El=tt("normal","vec3",T(0,1,0)),hn=El.toVar("normalLocal"),Es=Re(i1.mul(hn),"v_normalView").normalize().toVar("normalView"),EM=Re(Es.transformDirection(Nr),"v_normalWorld").normalize().toVar("transformedNormalWorld"),Se=ve("vec3","transformedNormalView"),r1=Se.transformDirection(Nr).normalize().toVar("transformedNormalWorld"),Hi=ve("vec3","transformedClearcoatNormalView"),cf=new Map;class z extends W{constructor(e){super(),this.scope=e}getCache(e,t){let s=cf.get(e);return s===void 0&&(s=jn(e,t),cf.set(e,s)),s}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const t=e.context.material,s=this.scope;let i=null;if(s===z.COLOR){const r=this.getColor(s);t.map&&t.map.isTexture===!0?i=r.mul(this.getTexture("map")):i=r}else if(s===z.OPACITY){const r=this.getFloat(s);t.alphaMap&&t.alphaMap.isTexture===!0?i=r.mul(this.getTexture("alpha")):i=r}else if(s===z.SPECULAR_STRENGTH)t.specularMap&&t.specularMap.isTexture===!0?i=this.getTexture("specular").r:i=R(1);else if(s===z.SPECULAR_INTENSITY){const r=this.getFloat(s);t.specularMap?i=r.mul(this.getTexture(s).a):i=r}else if(s===z.SPECULAR_COLOR){const r=this.getColor(s);t.specularColorMap&&t.specularColorMap.isTexture===!0?i=r.mul(this.getTexture(s).rgb):i=r}else if(s===z.ROUGHNESS){const r=this.getFloat(s);t.roughnessMap&&t.roughnessMap.isTexture===!0?i=r.mul(this.getTexture(s).g):i=r}else if(s===z.METALNESS){const r=this.getFloat(s);t.metalnessMap&&t.metalnessMap.isTexture===!0?i=r.mul(this.getTexture(s).b):i=r}else if(s===z.EMISSIVE){const r=this.getColor(s);t.emissiveMap&&t.emissiveMap.isTexture===!0?i=r.mul(this.getTexture(s)):i=r}else if(s===z.NORMAL)t.normalMap?i=this.getTexture("normal").normalMap(this.getCache("normalScale","vec2")):t.bumpMap?i=this.getTexture("bump").r.bumpMap(this.getFloat("bumpScale")):i=Es;else if(s===z.CLEARCOAT){const r=this.getFloat(s);t.clearcoatMap&&t.clearcoatMap.isTexture===!0?i=r.mul(this.getTexture(s).r):i=r}else if(s===z.CLEARCOAT_ROUGHNESS){const r=this.getFloat(s);t.clearcoatRoughnessMap&&t.clearcoatRoughnessMap.isTexture===!0?i=r.mul(this.getTexture(s).r):i=r}else if(s===z.CLEARCOAT_NORMAL)t.clearcoatNormalMap?i=this.getTexture(s).normalMap(this.getCache(s+"Scale","vec2")):i=Es;else if(s===z.SHEEN){const r=this.getColor("sheenColor").mul(this.getFloat("sheen"));t.sheenColorMap&&t.sheenColorMap.isTexture===!0?i=r.mul(this.getTexture("sheenColor").rgb):i=r}else if(s===z.SHEEN_ROUGHNESS){const r=this.getFloat(s);t.sheenRoughnessMap&&t.sheenRoughnessMap.isTexture===!0?i=r.mul(this.getTexture(s).a):i=r,i=i.clamp(.07,1)}else if(s===z.ANISOTROPY)if(t.anisotropyMap&&t.anisotropyMap.isTexture===!0){const r=this.getTexture(s);i=qd(Or.x,Or.y,Or.y.negate(),Or.x).mul(r.rg.mul(2).sub(F(1)).normalize().mul(r.b))}else i=Or;else if(s===z.IRIDESCENCE_THICKNESS){const r=Wt("1","float",t.iridescenceThicknessRange);if(t.iridescenceThicknessMap){const o=Wt("0","float",t.iridescenceThicknessRange);i=r.sub(o).mul(this.getTexture(s).g).add(o)}else i=r}else if(s===z.TRANSMISSION){const r=this.getFloat(s);t.transmissionMap?i=r.mul(this.getTexture(s).r):i=r}else if(s===z.THICKNESS){const r=this.getFloat(s);t.thicknessMap?i=r.mul(this.getTexture(s).g):i=r}else if(s===z.IOR)i=this.getFloat(s);else{const r=this.getNodeType(e);i=this.getCache(s,r)}return i}}z.ALPHA_TEST="alphaTest";z.COLOR="color";z.OPACITY="opacity";z.SHININESS="shininess";z.SPECULAR="specular";z.SPECULAR_STRENGTH="specularStrength";z.SPECULAR_INTENSITY="specularIntensity";z.SPECULAR_COLOR="specularColor";z.REFLECTIVITY="reflectivity";z.ROUGHNESS="roughness";z.METALNESS="metalness";z.NORMAL="normal";z.CLEARCOAT="clearcoat";z.CLEARCOAT_ROUGHNESS="clearcoatRoughness";z.CLEARCOAT_NORMAL="clearcoatNormal";z.EMISSIVE="emissive";z.ROTATION="rotation";z.SHEEN="sheen";z.SHEEN_ROUGHNESS="sheenRoughness";z.ANISOTROPY="anisotropy";z.IRIDESCENCE="iridescence";z.IRIDESCENCE_IOR="iridescenceIOR";z.IRIDESCENCE_THICKNESS="iridescenceThickness";z.IOR="ior";z.TRANSMISSION="transmission";z.THICKNESS="thickness";z.ATTENUATION_DISTANCE="attenuationDistance";z.ATTENUATION_COLOR="attenuationColor";z.LINE_SCALE="scale";z.LINE_DASH_SIZE="dashSize";z.LINE_GAP_SIZE="gapSize";z.LINE_WIDTH="linewidth";z.LINE_DASH_OFFSET="dashOffset";z.POINT_WIDTH="pointWidth";z.DISPERSION="dispersion";const zM=D(z,z.ALPHA_TEST),Ao=D(z,z.COLOR),RM=D(z,z.SHININESS),LM=D(z,z.EMISSIVE),o1=D(z,z.OPACITY),kM=D(z,z.SPECULAR),hf=D(z,z.SPECULAR_INTENSITY),IM=D(z,z.SPECULAR_COLOR),FM=D(z,z.SPECULAR_STRENGTH);D(z,z.REFLECTIVITY);const PM=D(z,z.ROUGHNESS),OM=D(z,z.METALNESS),bM=D(z,z.NORMAL),DM=D(z,z.CLEARCOAT),VM=D(z,z.CLEARCOAT_ROUGHNESS),BM=D(z,z.CLEARCOAT_NORMAL),UM=D(z,z.ROTATION),jM=D(z,z.SHEEN),HM=D(z,z.SHEEN_ROUGHNESS),WM=D(z,z.ANISOTROPY),$M=D(z,z.IRIDESCENCE),GM=D(z,z.IRIDESCENCE_IOR),qM=D(z,z.IRIDESCENCE_THICKNESS),XM=D(z,z.TRANSMISSION),ZM=D(z,z.THICKNESS),YM=D(z,z.IOR),QM=D(z,z.ATTENUATION_DISTANCE),JM=D(z,z.ATTENUATION_COLOR),kh=D(z,z.LINE_SCALE),a1=D(z,z.LINE_DASH_SIZE),l1=D(z,z.LINE_GAP_SIZE),ac=D(z,z.LINE_WIDTH),df=D(z,z.LINE_DASH_OFFSET),KM=D(z,z.POINT_WIDTH),e4=D(z,z.DISPERSION),Or=$(new X).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))});k("MaterialNode",z);const lt=tt("position","vec3"),Ge=lt.toVar("positionLocal"),Ih=Re(_o.mul(Ge).xyz,"v_positionWorld"),t4=Re(Ge.transformDirection(_o),"v_positionWorldDirection").normalize().toVar("positionWorldDirection"),nt=Re(ii.mul(Ge).xyz,"v_positionView"),ge=Re(nt.negate(),"v_positionViewDirection").normalize().toVar("positionViewDirection");class u1 extends te{constructor(e=null){super("vec4"),this.positionNode=e}setup(e){if(e.shaderStage==="fragment")return Re(e.context.mvp);const t=this.positionNode||Ge;return yn.mul(ii).mul(t)}}const pf=S(u1);k("ModelViewProjectionNode",u1);class c1 extends Ql{constructor(e,t=null,s=0,i=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferStride=s,this.bufferOffset=i,this.usage=Nl,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const t=this.getNodeType(e),s=this.value,i=e.getTypeLength(t),r=this.bufferStride||i,o=this.bufferOffset,a=s.isInterleavedBuffer===!0?s:new f2(s,r),l=new Ud(a,i,o);a.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const t=this.getNodeType(e),s=e.getBufferAttributeFromNode(this,t),i=e.getPropertyName(s);let r=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=i,r=i):r=Re(this).build(e,t),r}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const lu=(n,e,t,s)=>O(new c1(n,e,t,s)),n4=(n,e,t,s)=>lu(n,e,t,s).setUsage(Wr),Fh=(n,e,t,s)=>lu(n,e,t,s).setInstanced(!0),ff=(n,e,t,s)=>n4(n,e,t,s).setInstanced(!0);w("toAttribute",n=>lu(n.value));k("BufferAttributeNode",c1);class h1 extends W{constructor(e){super("void"),this.instanceMesh=e,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=K.FRAME,this.buffer=null,this.bufferColor=null}setup(){let e=this.instanceMatrixNode;const t=this.instanceMesh;if(e===null){const l=t.instanceMatrix,u=new Cw(l.array,16,1);this.buffer=u;const c=l.usage===Wr?ff:Fh,d=[c(u,"vec4",16,0),c(u,"vec4",16,4),c(u,"vec4",16,8),c(u,"vec4",16,12)];e=Ki(...d),this.instanceMatrixNode=e}const s=t.instanceColor;if(s&&this.instanceColorNode===null){const l=new m2(s.array,3),u=s.usage===Wr?ff:Fh;this.bufferColor=l,this.instanceColorNode=T(u(l,"vec3",3,0))}const i=e.mul(Ge).xyz,r=rt(e[0].xyz,e[1].xyz,e[2].xyz),o=hn.div(T(r[0].dot(r[0]),r[1].dot(r[1]),r[2].dot(r[2]))),a=r.mul(o).xyz;Ge.assign(i),hn.assign(a),this.instanceColorNode!==null&&fn("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMesh.instanceMatrix.usage!==Wr&&this.instanceMesh.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMesh.instanceMatrix.version),this.instanceMesh.instanceColor&&this.instanceMesh.instanceColor.usage!==Wr&&this.instanceMesh.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceMesh.instanceColor.version)}}const s4=S(h1);k("InstanceNode",h1);const d1=b((n,e)=>(e.geometry.hasAttribute("tangent")===!1&&e.geometry.computeTangents(),tt("tangent","vec4")))(),rp=d1.xyz.toVar("tangentLocal"),p1=Re(ii.mul(B(rp,0)).xyz,"v_tangentView").normalize().toVar("tangentView");class f1 extends W{constructor(e){super("void"),this.batchMesh=e,this.instanceColorNode=null,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=Yd:this.batchingIdNode=p3);const t=b(([h])=>{const p=Al(Fn(this.batchMesh._indirectTexture),0),f=Ie(h).remainder(Ie(p)),y=Ie(h).div(Ie(p));return Fn(this.batchMesh._indirectTexture,cs(f,y),null,"uvec4").x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]}),s=this.batchMesh._matricesTexture,i=Al(Fn(s),0),r=R(t(Ie(this.batchingIdNode))).mul(4).toVar(),o=Ie(r.mod(i)),a=Ie(r).div(Ie(i)),l=Ki(Fn(s,cs(o,a)),Fn(s,cs(o.add(1),a)),Fn(s,cs(o.add(2),a)),Fn(s,cs(o.add(3),a))),u=rt(l[0].xyz,l[1].xyz,l[2].xyz);Ge.assign(l.mul(Ge));const c=hn.div(T(u[0].dot(u[0]),u[1].dot(u[1]),u[2].dot(u[2]))),d=u.mul(c).xyz;hn.assign(d),e.hasGeometryAttribute("tangent")&&rp.mulAssign(u)}}const i4=S(f1);k("batch",f1);class m1 extends W{constructor(e,t=!1){super("void"),this.skinnedMesh=e,this.useReference=t,this.updateType=K.OBJECT,this.skinIndexNode=tt("skinIndex","uvec4"),this.skinWeightNode=tt("skinWeight","vec4");let s,i,r;t?(s=Wt("bindMatrix","mat4"),i=Wt("bindMatrixInverse","mat4"),r=CM("skeleton.boneMatrices","mat4",e.skeleton.bones.length)):(s=$(e.bindMatrix,"mat4"),i=$(e.bindMatrixInverse,"mat4"),r=sp(e.skeleton.boneMatrices,"mat4",e.skeleton.bones.length)),this.bindMatrixNode=s,this.bindMatrixInverseNode=i,this.boneMatricesNode=r}setup(e){const{skinIndexNode:t,skinWeightNode:s,bindMatrixNode:i,bindMatrixInverseNode:r,boneMatricesNode:o}=this,a=o.element(t.x),l=o.element(t.y),u=o.element(t.z),c=o.element(t.w),d=i.mul(Ge),h=Mt(a.mul(s.x).mul(d),l.mul(s.y).mul(d),u.mul(s.z).mul(d),c.mul(s.w).mul(d)),p=r.mul(h).xyz;let f=Mt(s.x.mul(a),s.y.mul(l),s.z.mul(u),s.w.mul(c));f=r.mul(f).mul(i);const y=f.transformDirection(hn).xyz;Ge.assign(p),hn.assign(y),e.hasGeometryAttribute("tangent")&&rp.assign(y)}generate(e,t){if(t!=="void")return Ge.build(e,t)}update(e){(this.useReference?e.object:this.skinnedMesh).skeleton.update()}}const r4=n=>O(new m1(n,!0));k("SkinningNode",m1);class g1 extends W{constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const t=e.getNodeProperties(this);if(t.stackNode!==void 0)return t;const s={};for(let r=0,o=this.params.length-1;r<o;r++){const a=this.params[r],l=a.isNode!==!0&&a.name||this.getVarName(r),u=a.isNode!==!0&&a.type||"int";s[l]=ou(l,u)}const i=e.addStack();return t.returnsNode=this.params[this.params.length-1](s,i,e),t.stackNode=i,e.removeStack(),t}getNodeType(e){const{returnsNode:t}=this.getProperties(e);return t?t.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const t=this.getProperties(e),s=this.params,i=t.stackNode;for(let a=0,l=s.length-1;a<l;a++){const u=s[a];let c=null,d=null,h=null,p=null,f=null,y=null;u.isNode?(p="int",h=this.getVarName(a),c="0",d=u.build(e,p),f="<"):(p=u.type||"int",h=u.name||this.getVarName(a),c=u.start,d=u.end,f=u.condition,y=u.update,typeof c=="number"?c=c.toString():c&&c.isNode&&(c=c.build(e,p)),typeof d=="number"?d=d.toString():d&&d.isNode&&(d=d.build(e,p)),c!==void 0&&d===void 0?(c=c+" - 1",d="0",f=">="):d!==void 0&&c===void 0&&(c="0",f="<"),f===void 0&&(Number(c)>Number(d)?f=">=":f="<"));const v={start:c,end:d,condition:f},m=v.start,g=v.end;let x="",M="",E="";y||(p==="int"||p==="uint"?f.includes("<")?y="++":y="--":f.includes("<")?y="+= 1.":y="-= 1."),x+=e.getVar(p,h)+" = "+m,M+=h+" "+f+" "+g,E+=h+" "+y;const I=`for ( ${x}; ${M}; ${E} )`;e.addFlowCode((a===0?`
`:"")+e.tab+I+` {

`).addFlowTab()}const r=i.build(e,"void"),o=t.returnsNode?t.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+r);for(let a=0,l=this.params.length-1;a<l;a++)e.addFlowCode((a===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),o}}const rn=(...n)=>O(new g1(Ji(n,"int"))).append(),y1=()=>ou("break").append();w("loop",(n,...e)=>I2(n,rn(...e)));k("LoopNode",g1);const lc=new WeakMap,At=new Fe,mf=b(({bufferMap:n,influence:e,stride:t,width:s,depth:i,offset:r})=>{const o=Ie(d3).mul(t).add(r),a=o.div(s),l=o.sub(a.mul(s));return Fn(n,cs(l,a)).depth(i).mul(e)});function o4(n){const e=n.morphAttributes.position!==void 0,t=n.morphAttributes.normal!==void 0,s=n.morphAttributes.color!==void 0,i=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,r=i!==void 0?i.length:0;let o=lc.get(n);if(o===void 0||o.count!==r){let g=function(){v.dispose(),lc.delete(n),n.removeEventListener("dispose",g)};var a=g;o!==void 0&&o.texture.dispose();const l=n.morphAttributes.position||[],u=n.morphAttributes.normal||[],c=n.morphAttributes.color||[];let d=0;e===!0&&(d=1),t===!0&&(d=2),s===!0&&(d=3);let h=n.attributes.position.count*d,p=1;const f=4096;h>f&&(p=Math.ceil(h/f),h=f);const y=new Float32Array(h*p*4*r),v=new WN(y,h,p,r);v.type=s2,v.needsUpdate=!0;const m=d*4;for(let x=0;x<r;x++){const M=l[x],E=u[x],I=c[x],A=h*p*4*x;for(let L=0;L<M.count;L++){const j=L*m;e===!0&&(At.fromBufferAttribute(M,L),y[A+j+0]=At.x,y[A+j+1]=At.y,y[A+j+2]=At.z,y[A+j+3]=0),t===!0&&(At.fromBufferAttribute(E,L),y[A+j+4]=At.x,y[A+j+5]=At.y,y[A+j+6]=At.z,y[A+j+7]=0),s===!0&&(At.fromBufferAttribute(I,L),y[A+j+8]=At.x,y[A+j+9]=At.y,y[A+j+10]=At.z,y[A+j+11]=I.itemSize===4?At.w:1)}}o={count:r,texture:v,stride:d,size:new X(h,p)},lc.set(n,o),n.addEventListener("dispose",g)}return o}class x1 extends W{constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=$(1),this.updateType=K.OBJECT}setup(e){const{geometry:t}=e,s=t.morphAttributes.position!==void 0,i=t.morphAttributes.normal!==void 0,r=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,o=r!==void 0?r.length:0,{texture:a,stride:l,size:u}=o4(t);s===!0&&Ge.mulAssign(this.morphBaseInfluence),i===!0&&hn.mulAssign(this.morphBaseInfluence);const c=Ie(u.width);rn(o,({i:d})=>{const h=R(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?h.assign(Fn(this.mesh.morphTexture,cs(Ie(d).add(1),Ie(Yd))).r):h.assign(Wt("morphTargetInfluences","float").element(d).toVar()),s===!0&&Ge.addAssign(mf({bufferMap:a,influence:h,stride:l,width:c,depth:d,offset:Ie(0)})),i===!0&&hn.addAssign(mf({bufferMap:a,influence:h,stride:l,width:c,depth:d,offset:Ie(1)}))})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((t,s)=>t+s,0)}}const a4=S(x1);k("MorphNode",x1);const l4=ge.negate().reflect(Se),u4=l4.transformDirection(Nr).toVar("reflectVector");class v1 extends ci{constructor(e,t=null,s=null){super(e,t,s),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){return u4}setUpdateMatrix(){}setupUV(e,t){const s=this.value;return e.renderer.coordinateSystem===So||!s.isRenderTargetTexture?T(t.x.negate(),t.yz):t}generateUV(e,t){return t.build(e,"vec3")}}const N1=S(v1);w("cubeTexture",N1);k("CubeTextureNode",v1);class Do extends W{constructor(){super("vec3")}generate(){console.warn("Abstract function.")}}k("LightingNode",Do);let br=null;class Fs extends Do{constructor(e=null){super(),this.updateType=K.FRAME,this.light=e,this.rtt=null,this.shadowNode=null,this.shadowMaskNode=null,this.color=new ie,this._defaultColorNode=$(this.color),this.colorNode=this._defaultColorNode,this.isAnalyticLightNode=!0}getCacheKey(){return super.getCacheKey()+"-"+(this.light.id+"-"+(this.light.castShadow?"1":"0"))}getHash(){return this.light.uuid}setupShadow(e){const{object:t}=e;if(t.receiveShadow===!1)return;let s=this.shadowNode;if(s===null){br===null&&(br=e.createNodeMaterial(),br.fragmentNode=B(0,0,0,1),br.isShadowNodeMaterial=!0);const i=this.light.shadow,r=e.createRenderTarget(i.mapSize.width,i.mapSize.height),o=new Bd;o.minFilter=Cs,o.magFilter=Cs,o.image.width=i.mapSize.width,o.image.height=i.mapSize.height,o.compareFunction=MN,r.depthTexture=o,i.camera.updateProjectionMatrix();const a=Wt("intensity","float",i),l=Wt("bias","float",i),u=Wt("normalBias","float",i),c=t.material.shadowPositionNode||Ih;let d=$(i.matrix).mul(c.add(EM.mul(u)));d=d.xyz.div(d.w);const h=d.x.greaterThanEqual(0).and(d.x.lessThanEqual(1)).and(d.y.greaterThanEqual(0)).and(d.y.lessThanEqual(1)).and(d.z.lessThanEqual(1));let p=d.z.add(l);e.renderer.coordinateSystem===So&&(p=p.mul(2).sub(1)),d=T(d.x,d.y.oneMinus(),p),s=((m,g,x)=>We(m,g).compare(x))(o,d.xy,d.z);const y=We(r.texture,d),v=h.mix(1,s.mix(y.a.mix(1,y),1));this.rtt=r,this.colorNode=this.colorNode.mul(Le(1,v,a)),this.shadowNode=s,this.shadowMaskNode=v,this.updateBeforeType=K.RENDER}}setup(e){this.light.castShadow?this.setupShadow(e):this.shadowNode!==null&&this.disposeShadow()}updateShadow(e){const{rtt:t,light:s}=this,{renderer:i,scene:r,camera:o}=e,a=r.overrideMaterial;r.overrideMaterial=br,t.setSize(s.shadow.mapSize.width,s.shadow.mapSize.height),s.shadow.updateMatrices(s),s.shadow.camera.layers.mask=o.layers.mask;const l=i.toneMapping,u=i.getRenderTarget(),c=i.getRenderObjectFunction();i.setRenderObjectFunction((d,...h)=>{d.castShadow===!0&&i.renderObject(d,...h)}),i.setRenderTarget(t),i.toneMapping=Mo,i.render(r,s.shadow.camera),i.setRenderTarget(u),i.setRenderObjectFunction(c),i.toneMapping=l,r.overrideMaterial=a}disposeShadow(){this.rtt.dispose(),this.shadowNode=null,this.shadowMaskNode=null,this.rtt=null,this.colorNode=this._defaultColorNode}updateBefore(e){const{light:t}=this;t.castShadow&&this.updateShadow(e)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}k("AnalyticLightNode",Fs);const zl=new WeakMap,c4=n=>n.sort((e,t)=>e.id-t.id);class h4 extends W{constructor(e=[]){super("vec3"),this.totalDiffuseNode=T().temp("totalDiffuse"),this.totalSpecularNode=T().temp("totalSpecular"),this.outgoingLightNode=T().temp("outgoingLight"),this.lightNodes=e,this._hash=null}get hasLight(){return this.lightNodes.length>0}getHash(){if(this._hash===null){const e=[];for(const t of this.lightNodes)e.push(t.getHash());this._hash="lights-"+e.join(",")}return this._hash}analyze(e){const t=e.getDataFromNode(this);for(const s of t.nodes)s.build(e)}setup(e){const t=e.context,s=t.lightingModel;let i=this.outgoingLightNode;if(s){const{lightNodes:r,totalDiffuseNode:o,totalSpecularNode:a}=this;t.outgoingLight=i;const l=e.addStack(),u=e.getDataFromNode(this);u.nodes=l.nodes,s.start(t,l,e);for(const m of r)m.build(e);s.indirectDiffuse(t,l,e),s.indirectSpecular(t,l,e),s.ambientOcclusion(t,l,e);const{backdrop:c,backdropAlpha:d}=t,{directDiffuse:h,directSpecular:p,indirectDiffuse:f,indirectSpecular:y}=t.reflectedLight;let v=h.add(f);c!==null&&(d!==null?v=T(d.mix(v,c)):v=T(c),t.material.transparent=!0),o.assign(v),a.assign(p.add(y)),i.assign(o.add(a)),s.finish(t,l,e),i=i.bypass(e.removeStack())}return i}_getLightNodeById(e){for(const t of this.lightNodes)if(t.isAnalyticLightNode&&t.light.id===e)return t;return null}fromLights(e=[]){const t=[];e=c4(e);for(const s of e){let i=this._getLightNodeById(s.id);if(i===null){const r=s.constructor,o=zl.has(r)?zl.get(r):Fs;i=O(new o(s))}t.push(i)}return this.lightNodes=t,this._hash=null,this}}const d4=S(h4);function di(n,e){if(zl.has(n)){console.warn(`Redefinition of light node ${e.type}`);return}if(typeof n!="function")throw new Error(`Light ${n.name} is not a class`);if(typeof e!="function"||!e.type)throw new Error(`Light node ${e.type} is not a class`);zl.set(n,e)}class w1 extends Do{constructor(e=null){super(),this.aoNode=e}setup(e){const s=this.aoNode.x.sub(1).mul(1).add(1);e.context.ambientOcclusion.mulAssign(s)}}k("AONode",w1);class M1 extends Zd{constructor(e,t=null,s=null,i=null){super(e),this.lightingModel=t,this.backdropNode=s,this.backdropAlphaNode=i,this._context=null}getContext(){const{backdropNode:e,backdropAlphaNode:t}=this,s=T().temp("directDiffuse"),i=T().temp("directSpecular"),r=T().temp("indirectDiffuse"),o=T().temp("indirectSpecular"),a={directDiffuse:s,directSpecular:i,indirectDiffuse:r,indirectSpecular:o};return{radiance:T().temp("radiance"),irradiance:T().temp("irradiance"),iblIrradiance:T().temp("iblIrradiance"),ambientOcclusion:R(1).temp("ambientOcclusion"),reflectedLight:a,backdrop:e,backdropAlpha:t}}setup(e){return this.context=this._context||(this._context=this.getContext()),this.context.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const S1=S(M1);w("lightingContext",S1);k("LightingContextNode",M1);const p4=n=>n.mul(d1.w).xyz,f4=Re(p4(Es.cross(p1)),"v_bitangentView").normalize().toVar("bitangentView"),Wi=rt(p1,f4,Es);ge.mul(Wi);const m4=(()=>{let n=er.cross(ge);return n=n.cross(er).normalize(),n=Le(n,Se,Gs.mul(On.oneMinus()).oneMinus().pow2().pow2()).normalize(),n})();class op extends W{constructor(e,t,s=null){super(),this.condNode=e,this.ifNode=t,this.elseNode=s}getNodeType(e){const t=this.ifNode.getNodeType(e);if(this.elseNode!==null){const s=this.elseNode.getNodeType(e);if(e.getTypeLength(s)>e.getTypeLength(t))return s}return t}setup(e){const t=e.getNodeProperties(this);t.condNode=this.condNode.cache(),t.ifNode=this.ifNode.cache(),t.elseNode=this.elseNode?this.elseNode.cache():null}generate(e,t){const s=this.getNodeType(e),i=e.getDataFromNode(this);if(i.nodeProperty!==void 0)return i.nodeProperty;const{condNode:r,ifNode:o,elseNode:a}=e.getNodeProperties(this),l=t!=="void",u=l?ve(s).build(e):"";i.nodeProperty=u;const c=r.build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${c} ) {

`).addFlowTab();let d=o.build(e,s);if(d&&(l?d=u+" = "+d+";":d="return "+d+";"),e.removeFlowTab().addFlowCode(e.tab+"	"+d+`

`+e.tab+"}"),a!==null){e.addFlowCode(` else {

`).addFlowTab();let h=a.build(e,s);h&&(l?h=u+" = "+h+";":h="return "+h+";"),e.removeFlowTab().addFlowCode(e.tab+"	"+h+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(u,s,t)}}const jt=S(op);w("cond",jt);k("CondNode",op);const gf=R(1),Ph=R(-2),Aa=R(.8),uc=R(-1),Ea=R(.4),cc=R(2),za=R(.305),hc=R(3),yf=R(.21),g4=R(4),xf=R(4),y4=R(16),x4=b(([n])=>{const e=T(gn(n)).toVar(),t=R(-1).toVar();return Ae(e.x.greaterThan(e.z),()=>{Ae(e.x.greaterThan(e.y),()=>{t.assign(jt(n.x.greaterThan(0),0,3))}).else(()=>{t.assign(jt(n.y.greaterThan(0),1,4))})}).else(()=>{Ae(e.z.greaterThan(e.y),()=>{t.assign(jt(n.z.greaterThan(0),2,5))}).else(()=>{t.assign(jt(n.y.greaterThan(0),1,4))})}),t}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),v4=b(([n,e])=>{const t=F().toVar();return Ae(e.equal(0),()=>{t.assign(F(n.z,n.y).div(gn(n.x)))}).elseif(e.equal(1),()=>{t.assign(F(n.x.negate(),n.z.negate()).div(gn(n.y)))}).elseif(e.equal(2),()=>{t.assign(F(n.x.negate(),n.y).div(gn(n.z)))}).elseif(e.equal(3),()=>{t.assign(F(n.z.negate(),n.y).div(gn(n.x)))}).elseif(e.equal(4),()=>{t.assign(F(n.x.negate(),n.z).div(gn(n.y)))}).else(()=>{t.assign(F(n.x,n.y).div(gn(n.z)))}),se(.5,t.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),N4=b(([n])=>{const e=R(0).toVar();return Ae(n.greaterThanEqual(Aa),()=>{e.assign(gf.sub(n).mul(uc.sub(Ph)).div(gf.sub(Aa)).add(Ph))}).elseif(n.greaterThanEqual(Ea),()=>{e.assign(Aa.sub(n).mul(cc.sub(uc)).div(Aa.sub(Ea)).add(uc))}).elseif(n.greaterThanEqual(za),()=>{e.assign(Ea.sub(n).mul(hc.sub(cc)).div(Ea.sub(za)).add(cc))}).elseif(n.greaterThanEqual(yf),()=>{e.assign(za.sub(n).mul(g4.sub(hc)).div(za.sub(yf)).add(hc))}).else(()=>{e.assign(R(-2).mul(nu(se(1.16,n))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]});b(([n,e])=>{const t=n.toVar();t.assign(se(2,t).sub(1));const s=T(t,1).toVar();return Ae(e.equal(0),()=>{s.assign(s.zyx)}).elseif(e.equal(1),()=>{s.assign(s.xzy),s.xz.mulAssign(-1)}).elseif(e.equal(2),()=>{s.x.mulAssign(-1)}).elseif(e.equal(3),()=>{s.assign(s.zyx),s.xz.mulAssign(-1)}).elseif(e.equal(4),()=>{s.assign(s.xzy),s.xy.mulAssign(-1)}).elseif(e.equal(5),()=>{s.z.mulAssign(-1)}),s}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]});const w4=b(([n,e,t,s,i,r])=>{const o=R(t),a=T(e),l=si(N4(o),Ph,r),u=iu(l),c=su(l),d=T(Oh(n,a,c,s,i,r)).toVar();return Ae(u.notEqual(0),()=>{const h=T(Oh(n,a,c.add(1),s,i,r)).toVar();d.assign(Le(d,h,u))}),d}),Oh=b(([n,e,t,s,i,r])=>{const o=R(t).toVar(),a=T(e),l=R(x4(a)).toVar(),u=R(ct(xf.sub(o),0)).toVar();o.assign(ct(o,xf));const c=R(zh(o)).toVar(),d=F(v4(a,l).mul(c.sub(2)).add(1)).toVar();return Ae(l.greaterThan(2),()=>{d.y.addAssign(c),l.subAssign(3)}),d.x.addAssign(l.mul(c)),d.x.addAssign(u.mul(se(3,y4))),d.y.addAssign(se(4,zh(r).sub(c))),d.x.mulAssign(s),d.y.mulAssign(i),n.uv(d).grad(F(),F())}),dc=b(({envMap:n,mipInt:e,outputDirection:t,theta:s,axis:i,CUBEUV_TEXEL_WIDTH:r,CUBEUV_TEXEL_HEIGHT:o,CUBEUV_MAX_MIP:a})=>{const l=mn(s),u=t.mul(l).add(i.cross(t).mul(Rt(s))).add(i.mul(i.dot(t).mul(l.oneMinus())));return Oh(n,u,e,r,o,a)});b(({n,latitudinal:e,poleAxis:t,outputDirection:s,weights:i,samples:r,dTheta:o,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:d})=>{const h=T(jt(e,t,X2(t,s))).toVar();Ae(W2(h.equals(T(0))),()=>{h.assign(T(s.z,0,s.x.negate()))}),h.assign(Co(h));const p=T().toVar();return p.addAssign(i.element(Ie(0)).mul(dc({theta:0,axis:h,outputDirection:s,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:d}))),rn({start:Ie(1),end:n},({i:f})=>{Ae(f.greaterThanEqual(r),()=>{y1()});const y=R(o.mul(R(f))).toVar();p.addAssign(i.element(f).mul(dc({theta:y.mul(-1),axis:h,outputDirection:s,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:d}))),p.addAssign(i.element(f).mul(dc({theta:y,axis:h,outputDirection:s,mipInt:a,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:d})))}),B(p,1)});let Rl=null;const vf=new WeakMap;function M4(n){const e=Math.log2(n)-2,t=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:t,maxMip:e}}function S4(n){let e=vf.get(n);if((e!==void 0?e.pmremVersion:-1)!==n.pmremVersion){if(n.isCubeTexture){if(n.source.data.some(s=>s===void 0))throw new Error("PMREMNode: Undefined texture in CubeTexture. Use onLoad callback or async loader");e=Rl.fromCubemap(n,e)}else{if(n.image===void 0)throw new Error("PMREMNode: Undefined image in Texture. Use onLoad callback or async loader");e=Rl.fromEquirectangular(n,e)}e.pmremVersion=n.pmremVersion,vf.set(n,e)}return e.texture}class T1 extends te{constructor(e,t=null,s=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=t,this.levelNode=s,this._generator=null,this._texture=We(null),this._width=$(0),this._height=$(0),this._maxMip=$(0),this.updateBeforeType=K.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const t=M4(e.image.height);this._texture.value=e,this._width.value=t.texelWidth,this._height.value=t.texelHeight,this._maxMip.value=t.maxMip}updateBefore(){let e=this._pmrem;const t=e?e.pmremVersion:-1,s=this._value;t!==s.pmremVersion&&(s.isPMREMTexture===!0?e=s:e=S4(s),this._pmrem=e,this.updateFromTexture(e))}setup(e){Rl===null&&(Rl=e.createPMREMGenerator()),this.updateBefore(e);let t=this.uvNode;t===null&&e.context.getUV&&(t=e.context.getUV(this));const s=this.value;e.renderer.coordinateSystem===Bn&&s.isPMREMTexture!==!0&&s.isRenderTargetTexture===!0&&(t=T(t.x.negate(),t.yz));let i=this.levelNode;return i===null&&e.context.getTextureLevel&&(i=e.context.getTextureLevel(this)),w4(this._texture,t,i,this._width,this._height,this._maxMip)}}const T4=S(T1);k("PMREMNode",T1);const Nf=new WeakMap;class C1 extends Do{constructor(e=null){super(),this.envNode=e}setup(e){let t=this.envNode;if(t.isTextureNode){let p=Nf.get(t.value);p===void 0&&(p=T4(t.value),Nf.set(t.value,p)),t=p}const{material:s}=e,r=s.envMap?Wt("envMapIntensity","float",e.material):Wt("environmentIntensity","float",e.scene),a=s.useAnisotropy===!0||s.anisotropy>0?m4:Se,l=so(t,wf(On,a)).mul(r),u=so(t,C4(r1)).mul(Math.PI).mul(r),c=$a(l),d=$a(u);e.context.radiance.addAssign(c),e.context.iblIrradiance.addAssign(d);const h=e.context.lightingModel.clearcoatRadiance;if(h){const p=so(t,wf(Tl,Hi)).mul(r),f=$a(p);h.addAssign(f)}}}const wf=(n,e)=>{let t=null;return{getUV:()=>(t===null&&(t=ge.negate().reflect(e),t=n.mul(n).mix(t,e).normalize(),t=t.transformDirection(Nr)),t),getTextureLevel:()=>n}},C4=n=>({getUV:()=>n,getTextureLevel:()=>R(1)});k("EnvironmentNode",C1);class _1 extends Do{constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}k("IrradianceNode",_1);let pc,fc;class ee extends W{constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===ee.VIEWPORT?"vec4":this.scope===ee.COORDINATE?"vec3":"vec2"}getUpdateType(){let e=K.NONE;return(this.scope===ee.RESOLUTION||this.scope===ee.VIEWPORT)&&(e=K.RENDER),this.updateType=e,e}update({renderer:e}){this.scope===ee.VIEWPORT?e.getViewport(fc):e.getDrawingBufferSize(pc)}setup(){const e=this.scope;let t=null;if(e===ee.RESOLUTION)t=$(pc||(pc=new X));else if(e===ee.VIEWPORT)t=$(fc||(fc=new Fe));else{t=_4.div(bh);let s=t.x,i=t.y;/bottom/i.test(e)&&(i=i.oneMinus()),/right/i.test(e)&&(s=s.oneMinus()),t=F(s,i)}return t}generate(e){if(this.scope===ee.COORDINATE){let t=e.getFragCoord();if(e.isFlipY()){const s=e.getNodeProperties(bh).outputNode.build(e);t=`${e.getType("vec3")}( ${t}.x, ${s}.y - ${t}.y, ${t}.z )`}return t}return super.generate(e)}}ee.COORDINATE="coordinate";ee.RESOLUTION="resolution";ee.VIEWPORT="viewport";ee.TOP_LEFT="topLeft";ee.BOTTOM_LEFT="bottomLeft";ee.TOP_RIGHT="topRight";ee.BOTTOM_RIGHT="bottomRight";const _4=D(ee,ee.COORDINATE),bh=D(ee,ee.RESOLUTION),sr=D(ee,ee.VIEWPORT),Eo=D(ee,ee.TOP_LEFT);D(ee,ee.BOTTOM_LEFT);D(ee,ee.TOP_RIGHT);D(ee,ee.BOTTOM_RIGHT);k("ViewportNode",ee);const Dr=new X;class Vo extends ci{constructor(e=Eo,t=null,s=null){s===null&&(s=new x2,s.minFilter=t2),super(s,e,t),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=K.FRAME}updateBefore(e){const t=e.renderer;t.getDrawingBufferSize(Dr);const s=this.value;(s.image.width!==Dr.width||s.image.height!==Dr.height)&&(s.image.width=Dr.width,s.image.height=Dr.height,s.needsUpdate=!0);const i=s.generateMipmaps;s.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(s),s.generateMipmaps=i}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const A4=S(Vo),A1=S(Vo,null,null,{generateMipmaps:!0});w("viewportTexture",A4);w("viewportMipTexture",A1);k("ViewportTextureNode",Vo);let mc=null;class E1 extends Vo{constructor(e=Eo,t=null){mc===null&&(mc=new Bd),super(e,t,mc)}}const z1=S(E1);w("viewportDepthTexture",z1);k("ViewportDepthTextureNode",E1);class It extends W{constructor(e,t=null){super("float"),this.scope=e,this.valueNode=t,this.isViewportDepthNode=!0}generate(e){const{scope:t}=this;return t===It.DEPTH?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:t}=this,s=this.valueNode;let i=null;if(t===It.DEPTH)s!==null?i=L1().assign(s):e.isPerspectiveCamera?i=E4(nt.z,Fr,Pr):i=Xa(nt.z,Fr,Pr);else if(t===It.LINEAR_DEPTH)if(s!==null)if(e.isPerspectiveCamera){const r=R1(s,Fr,Pr);i=Xa(r,Fr,Pr)}else i=s;else i=Xa(nt.z,Fr,Pr);return i}}const Xa=(n,e,t)=>n.add(e).div(e.sub(t)),E4=(n,e,t)=>e.add(n).mul(t).div(t.sub(e).mul(n)),R1=(n,e,t)=>e.mul(t).div(t.sub(e).mul(n).sub(t));It.DEPTH="depth";It.LINEAR_DEPTH="linearDepth";const L1=S(It,It.DEPTH),k1=D(It,It.DEPTH),z4=S(It,It.LINEAR_DEPTH);z4(z1());k1.assign=n=>L1(n);k("ViewportDepthNode",It);class zs extends W{constructor(e=zs.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const t=e.clippingContext,{localClipIntersection:s,localClippingCount:i,globalClippingCount:r}=t,o=r+i,a=s?o-i:o;return this.scope===zs.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(t.planes,o,a):this.setupDefault(t.planes,o,a)}setupAlphaToCoverage(e,t,s){return b(()=>{const i=Rh(e),r=ve("float","distanceToPlane"),o=ve("float","distanceToGradient"),a=ve("float","clipOpacity");a.assign(1);let l;if(rn(s,({i:u})=>{l=i.element(u),r.assign(nt.dot(l.xyz).negate().add(l.w)),o.assign(r.fwidth().div(2)),a.mulAssign(Tn(o.negate(),o,r)),a.equal(0).discard()}),s<t){const u=ve("float","unionclipOpacity");u.assign(1),rn({start:s,end:t},({i:c})=>{l=i.element(c),r.assign(nt.dot(l.xyz).negate().add(l.w)),o.assign(r.fwidth().div(2)),u.mulAssign(Tn(o.negate(),o,r).oneMinus())}),a.mulAssign(u.oneMinus())}le.a.mulAssign(a),le.a.equal(0).discard()})()}setupDefault(e,t,s){return b(()=>{const i=Rh(e);let r;if(rn(s,({i:o})=>{r=i.element(o),nt.dot(r.xyz).greaterThan(r.w).discard()}),s<t){const o=ve("bool","clipped");o.assign(!0),rn({start:s,end:t},({i:a})=>{r=i.element(a),o.assign(nt.dot(r.xyz).greaterThan(r.w).and(o))}),o.discard()}})()}}zs.ALPHA_TO_COVERAGE="alphaToCoverage";zs.DEFAULT="default";const R4=()=>O(new zs),L4=()=>O(new zs(zs.ALPHA_TO_COVERAGE));class I1 extends W{constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){const{renderer:t,material:s}=e;return t.coordinateSystem===Bn&&s.side===Jg?"false":e.getFrontFacing()}}const k4=D(I1),Ll=R(k4).mul(2).sub(1);k("FrontFacingNode",I1);const Dh=new Map;class ot extends Pt{constructor(){super(),this.isNodeMaterial=!0,this.type=this.constructor.type,this.forceSinglePass=!1,this.fog=!0,this.lights=!0,this.normals=!0,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.depthNode=null,this.shadowNode=null,this.shadowPositionNode=null,this.outputNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+M2(this)}build(e){this.setup(e)}setup(e){e.addStack(),e.stack.outputNode=this.vertexNode||this.setupPosition(e),e.addFlow("vertex",e.removeStack()),e.addStack();let t;const s=this.setupClipping(e);if(this.depthWrite===!0&&this.setupDepth(e),this.fragmentNode===null){this.normals===!0&&this.setupNormal(e),this.setupDiffuseColor(e),this.setupVariants(e);const i=this.setupLighting(e);s!==null&&e.stack.add(s);const r=B(i,le.a).max(0);t=this.setupOutput(e,r),f3.assign(t),this.outputNode!==null&&(t=this.outputNode)}else{let i=this.fragmentNode;i.isOutputStructNode!==!0&&(i=B(i)),t=this.setupOutput(e,i)}e.stack.outputNode=t,e.addFlow("fragment",e.removeStack())}setupClipping(e){if(e.clippingContext===null)return null;const{globalClippingCount:t,localClippingCount:s}=e.clippingContext;let i=null;return(t||s)&&(this.alphaToCoverage?i=L4():e.stack.add(R4())),i}setupDepth(e){const{renderer:t}=e;let s=this.depthNode;s===null&&t.logarithmicDepthBuffer===!0&&(s=pf().w.add(1).log2().mul(_M).mul(.5)),s!==null&&k1.assign(s).append()}setupPosition(e){const{object:t}=e,s=t.geometry;if(e.addStack(),(s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color)&&a4(t).append(),t.isSkinnedMesh===!0&&r4(t).append(),this.displacementMap){const r=jn("displacementMap","texture"),o=jn("displacementScale","float"),a=jn("displacementBias","float");Ge.addAssign(hn.normalize().mul(r.x.mul(o).add(a)))}t.isBatchedMesh&&i4(t).append(),t.instanceMatrix&&t.instanceMatrix.isInstancedBufferAttribute===!0&&s4(t).append(),this.positionNode!==null&&Ge.assign(this.positionNode);const i=pf();return e.context.vertex=e.removeStack(),e.context.mvp=i,i}setupDiffuseColor({object:e,geometry:t}){let s=this.colorNode?B(this.colorNode):Ao;this.vertexColors===!0&&t.hasAttribute("color")&&(s=B(s.xyz.mul(tt("color","vec3")),s.a)),e.instanceColor&&(s=fn("vec3","vInstanceColor").mul(s)),le.assign(s);const i=this.opacityNode?R(this.opacityNode):o1;if(le.a.assign(le.a.mul(i)),this.alphaTestNode!==null||this.alphaTest>0){const r=this.alphaTestNode!==null?R(this.alphaTestNode):zM;le.a.lessThanEqual(r).discard()}this.transparent===!1&&this.blending===Nh&&this.alphaToCoverage===!1&&le.a.assign(1)}setupVariants(){}setupNormal(){if(this.flatShading===!0){const e=nt.dFdx().cross(nt.dFdy()).normalize();Se.assign(e.mul(Ll))}else{const e=this.normalNode?T(this.normalNode):bM;Se.assign(e.mul(Ll))}}getEnvNode(e){let t=null;return this.envNode?t=this.envNode:this.envMap?t=this.envMap.isCubeTexture?N1(this.envMap):We(this.envMap):e.environmentNode&&(t=e.environmentNode),t}setupLights(e){const t=this.getEnvNode(e),s=[];if(t&&s.push(new C1(t)),e.material.lightMap&&s.push(new _1(jn("lightMap","texture"))),this.aoNode!==null||e.material.aoMap){const r=this.aoNode!==null?this.aoNode:We(e.material.aoMap);s.push(new w1(r))}let i=this.lightsNode||e.lightsNode;return s.length>0&&(i=d4([...i.lightNodes,...s])),i}setupLightingModel(){}setupLighting(e){const{material:t}=e,{backdropNode:s,backdropAlphaNode:i,emissiveNode:r}=this,a=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let l=le.rgb;if(a&&a.hasLight!==!1){const u=this.setupLightingModel(e);l=S1(a,u,s,i)}else s!==null&&(l=T(i!==null?Le(l,s,i):s));return(r&&r.isNode===!0||t.emissive&&t.emissive.isColor===!0)&&(l=l.add(T(r||LM))),l}setupOutput(e,t){if(this.fog===!0){const s=e.fogNode;s&&(t=B(s.mix(t.rgb,s.colorNode),t.a))}return t}setDefaultValues(e){for(const s in e){const i=e[s];this[s]===void 0&&(this[s]=i,i&&i.clone&&(this[s]=i.clone()))}const t=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const s in t)Object.getOwnPropertyDescriptor(this.constructor.prototype,s)===void 0&&t[s].get!==void 0&&Object.defineProperty(this.constructor.prototype,s,t[s])}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{},nodes:{}});const s=Pt.prototype.toJSON.call(this,e),i=wl(this);s.inputNodes={};for(const{property:o,childNode:a}of i)s.inputNodes[o]=a.toJSON(e).uuid;function r(o){const a=[];for(const l in o){const u=o[l];delete u.metadata,a.push(u)}return a}if(t){const o=r(e.textures),a=r(e.images),l=r(e.nodes);o.length>0&&(s.textures=o),a.length>0&&(s.images=a),l.length>0&&(s.nodes=l)}return s}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.positionNode=e.positionNode,this.depthNode=e.depthNode,this.shadowNode=e.shadowNode,this.shadowPositionNode=e.shadowPositionNode,this.outputNode=e.outputNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}static fromMaterial(e){if(e.isNodeMaterial===!0)return e;const t=e.type.replace("Material","NodeMaterial"),s=I4(t);if(s===void 0)throw new Error(`NodeMaterial: Material "${e.type}" is not compatible.`);for(const i in e)s[i]=e[i];return s}}function je(n,e){if(typeof e!="function"||!n)throw new Error(`Node material ${n} is not a class`);if(Dh.has(n)){console.warn(`Redefinition of node material ${n}`);return}Dh.set(n,e),e.type=n}function I4(n){const e=Dh.get(n);if(e!==void 0)return new e}je("NodeMaterial",ot);class F1 extends W{constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}add(e){return this.nodes.push(e),this}if(e,t){const s=new no(t);return this._currentCond=jt(e,s),this.add(this._currentCond)}elseif(e,t){const s=new no(t),i=jt(e,s);return this._currentCond.elseNode=i,this._currentCond=i,this}else(e){return this._currentCond.elseNode=new no(e),this}build(e,...t){const s=Bw();af(this);for(const i of this.nodes)i.build(e,"void");return af(s),this.outputNode?this.outputNode.build(e,...t):super.build(e,...t)}}S(F1);k("StackNode",F1);class P1 extends te{constructor(e=t4){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,t=e.z.atan2(e.x).mul(1/(Math.PI*2)).add(.5),s=e.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return F(t,s)}}S(P1);k("EquirectUVNode",P1);class O1 extends W{constructor(e){super(),this.types=e,this.isStructTypeNode=!0}getMemberTypes(){return this.types}}k("StructTypeNode",O1);class b1 extends W{constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}setup(e){super.setup(e);const t=this.members,s=[];for(let i=0;i<t.length;i++)s.push(t[i].getNodeType(e));this.nodeType=e.getStructTypeFromNode(new O1(s)).name}generate(e,t){const s=e.getOutputStructName(),i=this.members,r=s!==""?s+".":"";for(let o=0;o<i.length;o++){const a=i[o].build(e,t);e.addLineFlowCode(`${r}m${o} = ${a}`)}return s}}S(b1);k("OutputStructNode",b1);class D1 extends W{constructor(e){super(),this.seedNode=e}setup(){const e=this.seedNode.toUint().mul(747796405).add(2891336453),t=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return t.shiftRight(22).bitXor(t).toFloat().mul(1/2**32)}}const F4=S(D1);w("hash",F4);k("HashNode",D1);const Vh=(n,e)=>Un(se(4,n.mul(Sn(1,n))),e),P4=(n,e)=>n.lessThan(.5)?Vh(n.mul(2),e).div(2):Sn(1,Vh(se(Sn(1,n),2),e).div(2)),O4=(n,e,t)=>Un(Zn(Un(n,e),Mt(Un(n,e),Un(Sn(1,n),t))),1/e),b4=(n,e)=>Rt(lf.mul(e.mul(n).sub(1))).div(lf.mul(e.mul(n).sub(1)));w("parabola",Vh);w("gain",P4);w("pcurve",O4);w("sinc",b4);const xn=b(([n])=>n.fract().sub(.5).abs()),V1=b(([n])=>T(xn(n.z.add(xn(n.y.mul(1)))),xn(n.z.add(xn(n.x.mul(1)))),xn(n.y.add(xn(n.x.mul(1)))))),D4=b(([n,e,t])=>{const s=T(n).toVar(),i=R(1.4).toVar(),r=R(0).toVar(),o=T(s).toVar();return rn({start:R(0),end:R(3),type:"float",condition:"<="},()=>{const a=T(V1(o.mul(2))).toVar();s.addAssign(a.add(t.mul(R(.1).mul(e)))),o.mulAssign(1.8),i.mulAssign(1.5),s.mulAssign(1.2);const l=R(xn(s.z.add(xn(s.x.add(xn(s.y)))))).toVar();r.addAssign(l.div(i)),o.addAssign(.14)}),r});xn.setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]});V1.setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]});D4.setLayout({name:"triNoise3D",type:"float",inputs:[{name:"p",type:"vec3"},{name:"spd",type:"float"},{name:"time",type:"float"}]});let gc;class B1 extends op{constructor(e){gc=gc||ou("discard"),super(e,gc)}}const V4=S(B1),B4=n=>V4(n).append();w("discard",B4);k("DiscardNode",B1);class U1 extends W{constructor(e=[],...t){super(),this.functionNodes=e,this.parametersNodes=t,this._candidateFnCall=null,this.global=!0}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(e){const t=this.parametersNodes;let s=this._candidateFnCall;if(s===null){let i=null,r=-1;for(const o of this.functionNodes){const l=o.shaderNode.layout;if(l===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const u=l.inputs;if(t.length===u.length){let c=0;for(let d=0;d<t.length;d++){const h=t[d],p=u[d];h.getNodeType(e)===p.type?c++:c=0}c>r&&(i=o,r=c)}}this._candidateFnCall=s=i(...t)}return s}}S(U1);k("FunctionOverloadingNode",U1);class j1 extends te{constructor(){super("vec2")}setup(){const e=T(ge.z,0,ge.x.negate()).normalize(),t=ge.cross(e);return F(e.dot(Se),t.dot(Se)).mul(.495).add(.5)}}const U4=D(j1);k("MatcapUVNode",j1);class gt extends ui{constructor(e=gt.LOCAL,t=1,s=0){super(s),this.scope=e,this.scale=t,this.updateType=K.FRAME}update(e){const t=this.scope,s=this.scale;t===gt.LOCAL?this.value+=e.deltaTime*s:t===gt.DELTA?this.value=e.deltaTime*s:t===gt.FRAME?this.value=e.frameId:this.value=e.time*s}serialize(e){super.serialize(e),e.scope=this.scope,e.scale=this.scale}deserialize(e){super.deserialize(e),this.scope=e.scope,this.scale=e.scale}}gt.LOCAL="local";gt.GLOBAL="global";gt.DELTA="delta";gt.FRAME="frame";const j4=(n,e=0)=>O(new gt(gt.LOCAL,n,e));D(gt,gt.FRAME).toUint();k("TimerNode",gt);class Pe extends W{constructor(e=Pe.SINE,t=j4()){super(),this.method=e,this.timeNode=t}getNodeType(e){return this.timeNode.getNodeType(e)}setup(){const e=this.method,t=O(this.timeNode);let s=null;return e===Pe.SINE?s=t.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5):e===Pe.SQUARE?s=t.fract().round():e===Pe.TRIANGLE?s=t.add(.5).fract().mul(2).sub(1).abs():e===Pe.SAWTOOTH&&(s=t.fract()),s}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Pe.SINE="sine";Pe.SQUARE="square";Pe.TRIANGLE="triangle";Pe.SAWTOOTH="sawtooth";S(Pe,Pe.SINE);S(Pe,Pe.SQUARE);S(Pe,Pe.TRIANGLE);S(Pe,Pe.SAWTOOTH);k("OscNode",Pe);class Cn extends te{constructor(e,t){super(),this.scope=e,this.node=t}getNodeType(e){return this.node.getNodeType(e)}setup(){const{scope:e,node:t}=this;let s=null;return e===Cn.DIRECTION_TO_COLOR?s=t.mul(.5).add(.5):e===Cn.COLOR_TO_DIRECTION&&(s=t.mul(2).sub(1)),s}}Cn.DIRECTION_TO_COLOR="directionToColor";Cn.COLOR_TO_DIRECTION="colorToDirection";const H1=S(Cn,Cn.DIRECTION_TO_COLOR),H4=S(Cn,Cn.COLOR_TO_DIRECTION);w("directionToColor",H1);w("colorToDirection",H4);k("PackingNode",Cn);class ap extends W{constructor(e,t,s,i=R(0),r=R(1)){super(),this.node=e,this.inLowNode=t,this.inHighNode=s,this.outLowNode=i,this.outHighNode=r,this.doClamp=!0}setup(){const{node:e,inLowNode:t,inHighNode:s,outLowNode:i,outHighNode:r,doClamp:o}=this;let a=e.sub(t).div(s.sub(t));return o===!0&&(a=a.clamp()),a.mul(r.sub(i)).add(i)}}const W4=S(ap,null,null,{doClamp:!1}),$4=S(ap);w("remap",W4);w("remapClamp",$4);k("RemapNode",ap);class W1 extends te{constructor(e,t,s=F(.5)){super("vec2"),this.uvNode=e,this.rotationNode=t,this.centerNode=s}setup(){const{uvNode:e,rotationNode:t,centerNode:s}=this;return e.sub(s).rotate(t).add(s)}}const G4=S(W1);w("rotateUV",G4);k("RotateUVNode",W1);class $1 extends te{constructor(e,t){super(),this.positionNode=e,this.rotationNode=t}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:t,positionNode:s}=this;if(this.getNodeType(e)==="vec2"){const r=t.cos(),o=t.sin();return qd(r,o,o.negate(),r).mul(s)}else{const r=t,o=Ki(B(1,0,0,0),B(0,mn(r.x),Rt(r.x).negate(),0),B(0,Rt(r.x),mn(r.x),0),B(0,0,0,1)),a=Ki(B(mn(r.y),0,Rt(r.y),0),B(0,1,0,0),B(Rt(r.y).negate(),0,mn(r.y),0),B(0,0,0,1)),l=Ki(B(mn(r.z),Rt(r.z).negate(),0,0),B(Rt(r.z),mn(r.z),0,0),B(0,0,1,0),B(0,0,0,1));return o.mul(a).mul(l).mul(B(s,1)).xyz}}}const q4=S($1);w("rotate",q4);k("RotateNode",$1);class G1 extends W{constructor(e,t=Tt(),s=R(0)){super("vec2"),this.countNode=e,this.uvNode=t,this.frameNode=s}setup(){const{frameNode:e,uvNode:t,countNode:s}=this,{width:i,height:r}=s,o=e.mod(i.mul(r)).floor(),a=o.mod(i),l=r.sub(o.add(1).div(i).ceil()),u=s.reciprocal(),c=F(a,l);return t.add(c).mul(u)}}S(G1);k("SpriteSheetUVNode",G1);class q1 extends xr{constructor(e,t){super(e,t),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}setup(e){return e.isAvailable("storageBuffer")===!1&&!this.node.instanceIndex&&this.node.bufferObject===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,t){let s;const i=e.context.assign;if(e.isAvailable("storageBuffer")===!1){const{node:r}=this;!r.instanceIndex&&this.node.bufferObject===!0&&i!==!0?s=e.generatePBO(this):s=r.build(e)}else s=super.generate(e);if(i!==!0){const r=this.getNodeType(e);s=e.format(s,r,t)}return s}}const X1=S(q1);w("storageElement",X1);k("StorageArrayElementNode",q1);class Z1 extends W{constructor(e,t=null,s=null,i=R(1),r=Ge,o=hn){super("vec4"),this.textureXNode=e,this.textureYNode=t,this.textureZNode=s,this.scaleNode=i,this.positionNode=r,this.normalNode=o}setup(){const{textureXNode:e,textureYNode:t,textureZNode:s,scaleNode:i,positionNode:r,normalNode:o}=this;let a=o.abs().normalize();a=a.div(a.dot(T(1)));const l=r.yz.mul(i),u=r.zx.mul(i),c=r.xy.mul(i),d=e.value,h=t!==null?t.value:d,p=s!==null?s.value:d,f=We(d,l).mul(a.x),y=We(h,u).mul(a.y),v=We(p,c).mul(a.z);return Mt(f,y,v)}}const X4=S(Z1),Z4=(...n)=>X4(...n);w("triplanarTexture",Z4);k("TriplanarTexturesNode",Z1);new $s;new C;new C;new C;new Te;new C(0,0,-1);new Fe;new C;new C;new Fe;new X;new As;F(Eo.x.oneMinus(),Eo.y);class Y4 extends Xd{constructor(e=0){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const t=this.getAttributeName(e),s=e.hasGeometryAttribute(t);let i;return s===!0?i=super.generate(e):i=e.generateConst(this.nodeType,new Fe(1,1,1,1)),i}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}k("VertexColorNode",Y4);class Y1 extends vr{constructor(e,t,s=null){super(e,t,s),this.renderer=s}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const Q4=(n,e,t)=>O(new Y1(n,e,t));k("RendererReferenceNode",Y1);const uu=1/6,Q1=n=>se(uu,se(n,se(n,n.negate().add(3)).sub(3)).add(1)),Bh=n=>se(uu,se(n,se(n,se(3,n).sub(6))).add(4)),J1=n=>se(uu,se(n,se(n,se(-3,n).add(3)).add(3)).add(1)),Uh=n=>se(uu,Un(n,3)),Mf=n=>Q1(n).add(Bh(n)),Sf=n=>J1(n).add(Uh(n)),Tf=n=>Mt(-1,Bh(n).div(Q1(n).add(Bh(n)))),Cf=n=>Mt(1,Uh(n).div(J1(n).add(Uh(n)))),_f=(n,e,t)=>{const s=n.uvNode,i=se(s,e.zw).add(.5),r=su(i),o=iu(i),a=Mf(o.x),l=Sf(o.x),u=Tf(o.x),c=Cf(o.x),d=Tf(o.y),h=Cf(o.y),p=F(r.x.add(u),r.y.add(d)).sub(.5).mul(e.xy),f=F(r.x.add(c),r.y.add(d)).sub(.5).mul(e.xy),y=F(r.x.add(u),r.y.add(h)).sub(.5).mul(e.xy),v=F(r.x.add(c),r.y.add(h)).sub(.5).mul(e.xy),m=Mf(o.y).mul(Mt(a.mul(n.uv(p).level(t)),l.mul(n.uv(f).level(t)))),g=Sf(o.y).mul(Mt(a.mul(n.uv(y).level(t)),l.mul(n.uv(v).level(t))));return m.add(g)},J4=(n,e)=>{const t=F(n.size(Ie(e))),s=F(n.size(Ie(e.add(1)))),i=Zn(1,t),r=Zn(1,s),o=_f(n,B(i,t),su(e)),a=_f(n,B(r,s),q2(e));return iu(e).mix(o,a)};class K1 extends te{constructor(e,t=R(3)){super("vec4"),this.textureNode=e,this.blurNode=t}setup(){return J4(this.textureNode,this.blurNode)}}const K4=S(K1);w("bicubic",K4);k("TextureBicubicNode",K1);class ey extends W{constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}D(ey);k("PointUVNode",ey);class un extends W{constructor(e=un.BACKGROUND_BLURRINESS,t=null){super(),this.scope=e,this.scene=t}setup(e){const t=this.scope,s=this.scene!==null?this.scene:e.scene;let i;return t===un.BACKGROUND_BLURRINESS?i=Wt("backgroundBlurriness","float",s):t===un.BACKGROUND_INTENSITY?i=Wt("backgroundIntensity","float",s):console.error("THREE.SceneNode: Unknown scope:",t),i}}un.BACKGROUND_BLURRINESS="backgroundBlurriness";un.BACKGROUND_INTENSITY="backgroundIntensity";D(un,un.BACKGROUND_BLURRINESS);D(un,un.BACKGROUND_INTENSITY);k("SceneNode",un);const Af={Uniform:"uniform",Storage:"storage",ReadOnlyStorage:"read-only-storage"},yc={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"};class eS extends au{constructor(e,t,s=0){super(e,t,s),this.isStorageBufferNode=!0,this.access=Af.Storage,this.bufferObject=!1,this.bufferCount=s,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getInputType(){return"storageBuffer"}element(e){return X1(this,e)}setBufferObject(e){return this.bufferObject=e,this}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(Af.ReadOnlyStorage)}generate(e){if(e.isAvailable("storageBuffer"))return super.generate(e);const t=this.getNodeType(e);this._attribute===null&&(this._attribute=lu(this.value),this._varying=Re(this._attribute));const s=this._varying.build(e,t);return e.registerTransform(s,this._attribute),s}}k("StorageBufferNode",eS);class ty extends ci{constructor(e,t,s=null){super(e,t),this.storeNode=s,this.isStorageTextureNode=!0,this.access=yc.WriteOnly}getInputType(){return"storageTexture"}setup(e){super.setup(e);const t=e.getNodeProperties(this);t.storeNode=this.storeNode}setAccess(e){return this.access=e,this}generate(e,t){let s;return this.storeNode!==null?s=this.generateStore(e):s=super.generate(e,t),s}toReadOnly(){return this.setAccess(yc.ReadOnly)}toWriteOnly(){return this.setAccess(yc.WriteOnly)}generateStore(e){const t=e.getNodeProperties(this),{uvNode:s,storeNode:i}=t,r=super.generate(e,"property"),o=s.build(e,"uvec2"),a=i.build(e,"vec4"),l=e.generateTextureStore(e,r,o,a);e.addLineFlowCode(l)}}S(ty);k("StorageTextureNode",ty);const tS=b(({texture:n,uv:e})=>{const s=T().temp();return Ae(e.x.lessThan(1e-4),()=>{s.assign(T(1,0,0))}).elseif(e.y.lessThan(1e-4),()=>{s.assign(T(0,1,0))}).elseif(e.z.lessThan(1e-4),()=>{s.assign(T(0,0,1))}).elseif(e.x.greaterThan(1-1e-4),()=>{s.assign(T(-1,0,0))}).elseif(e.y.greaterThan(1-1e-4),()=>{s.assign(T(0,-1,0))}).elseif(e.z.greaterThan(1-1e-4),()=>{s.assign(T(0,0,-1))}).else(()=>{const r=n.uv(e.add(T(-.01,0,0))).r.sub(n.uv(e.add(T(.01,0,0))).r),o=n.uv(e.add(T(0,-.01,0))).r.sub(n.uv(e.add(T(0,.01,0))).r),a=n.uv(e.add(T(0,0,-.01))).r.sub(n.uv(e.add(T(0,0,.01))).r);s.assign(T(r,o,a))}),s.normalize()});class ny extends ci{constructor(e,t=null,s=null){super(e,t,s),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return T(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,t){return t}generateUV(e,t){return t.build(e,"vec3")}normal(e){return tS({texture:this,uv:e})}}const nS=S(ny);k("Texture3DNode",ny);class sS extends vr{constructor(e,t,s=null){super(e,t,s),this.userData=s}update(e){this.reference=this.userData!==null?this.userData:e.object.userData,super.update(e)}}k("UserDataNode",sS);const iS=b(({base:n,blend:e})=>{const t=s=>e[s].lessThan(H2).cond(e[s],n[s].oneMinus().div(e[s]).oneMinus().max(0));return T(t("x"),t("y"),t("z"))}).setLayout({name:"burnColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),rS=b(({base:n,blend:e})=>{const t=s=>e[s].equal(1).cond(e[s],n[s].div(e[s].oneMinus()).max(0));return T(t("x"),t("y"),t("z"))}).setLayout({name:"dodgeColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),oS=b(({base:n,blend:e})=>{const t=s=>n[s].oneMinus().mul(e[s].oneMinus()).oneMinus();return T(t("x"),t("y"),t("z"))}).setLayout({name:"screenColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),aS=b(({base:n,blend:e})=>{const t=s=>n[s].lessThan(.5).cond(n[s].mul(e[s],2),n[s].oneMinus().mul(e[s].oneMinus()).oneMinus());return T(t("x"),t("y"),t("z"))}).setLayout({name:"overlayColor",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]});class Be extends te{constructor(e,t,s){super(),this.blendMode=e,this.baseNode=t,this.blendNode=s}setup(){const{blendMode:e,baseNode:t,blendNode:s}=this,i={base:t,blend:s};let r=null;return e===Be.BURN?r=iS(i):e===Be.DODGE?r=rS(i):e===Be.SCREEN?r=oS(i):e===Be.OVERLAY&&(r=aS(i)),r}}Be.BURN="burn";Be.DODGE="dodge";Be.SCREEN="screen";Be.OVERLAY="overlay";const lS=S(Be,Be.BURN),uS=S(Be,Be.DODGE),cS=S(Be,Be.OVERLAY),hS=S(Be,Be.SCREEN);w("burn",lS);w("dodge",uS);w("overlay",cS);w("screen",hS);k("BlendModeNode",Be);const dS=b(({textureNode:n,bumpScale:e})=>{const t=i=>n.cache().context({getUV:r=>i(r.uvNode||Tt()),forceUVContext:!0}),s=R(t(i=>i));return F(R(t(i=>i.add(i.dFdx()))).sub(s),R(t(i=>i.add(i.dFdy()))).sub(s)).mul(e)}),pS=b(n=>{const{surf_pos:e,surf_norm:t,dHdxy:s}=n,i=e.dFdx().normalize(),r=e.dFdy().normalize(),o=t,a=r.cross(o),l=o.cross(i),u=i.dot(a).mul(Ll),c=u.sign().mul(s.x.mul(a).add(s.y.mul(l)));return u.abs().mul(t).sub(c).normalize()});class sy extends te{constructor(e,t=null){super("vec3"),this.textureNode=e,this.scaleNode=t}setup(){const e=this.scaleNode!==null?this.scaleNode:1,t=dS({textureNode:this.textureNode,bumpScale:e});return pS({surf_pos:nt,surf_norm:Es,dHdxy:t})}}const fS=S(sy);w("bumpMap",fS);k("BumpMapNode",sy);const mS=b(({color:n,adjustment:e})=>e.mix(Kt(n.rgb),n.rgb)),gS=b(({color:n,adjustment:e})=>{const t=Mt(n.r,n.g,n.b).div(3),s=n.r.max(n.g.max(n.b)),i=s.sub(t).mul(e).mul(-3);return Le(n.rgb,s,i)}),yS=b(({color:n,adjustment:e})=>{const t=T(.57735,.57735,.57735),s=e.cos();return T(n.rgb.mul(s).add(t.cross(n.rgb).mul(e.sin()).add(t.mul(ru(t,n.rgb).mul(s.oneMinus())))))});class wt extends te{constructor(e,t,s=R(1)){super("vec3"),this.method=e,this.colorNode=t,this.adjustmentNode=s}setup(){const{method:e,colorNode:t,adjustmentNode:s}=this,i={color:t,adjustment:s};let r=null;return e===wt.SATURATION?r=mS(i):e===wt.VIBRANCE?r=gS(i):e===wt.HUE?r=yS(i):console.error(`${this.type}: Method "${this.method}" not supported!`),r}}wt.SATURATION="saturation";wt.VIBRANCE="vibrance";wt.HUE="hue";const xS=S(wt,wt.SATURATION),vS=S(wt,wt.VIBRANCE),NS=S(wt,wt.HUE),wS=T(.2125,.7154,.0721),Kt=(n,e=wS)=>ru(n,e),iy=(n,e)=>Le(T(0),n,Kt(n).sub(e).max(0));w("saturation",xS);w("vibrance",vS);w("hue",NS);w("threshold",iy);k("ColorAdjustmentNode",wt);const MS=b(n=>{const{eye_pos:e,surf_norm:t,mapN:s,uv:i}=n,r=e.dFdx(),o=e.dFdy(),a=i.dFdx(),l=i.dFdy(),u=t,c=o.cross(u),d=u.cross(r),h=c.mul(a.x).add(d.mul(l.x)),p=c.mul(a.y).add(d.mul(l.y)),f=h.dot(h).max(p.dot(p)),y=Ll.mul(f.inverseSqrt());return Mt(h.mul(s.x,y),p.mul(s.y,y),u.mul(s.z)).normalize()});class ry extends te{constructor(e,t=null){super("vec3"),this.node=e,this.scaleNode=t,this.normalMapType=_s}setup(e){const{normalMapType:t,scaleNode:s}=this;let i=this.node.mul(2).sub(1);s!==null&&(i=T(i.xy.mul(s),i.z));let r=null;return t===NN?r=i1.mul(i).normalize():t===_s&&(e.hasGeometryAttribute("tangent")===!0?r=Wi.mul(i).normalize():r=MS({eye_pos:nt,surf_norm:Es,mapN:i,uv:Tt()})),r}}const SS=S(ry);w("normalMap",SS);k("NormalMapNode",ry);class oy extends te{constructor(e,t){super(),this.sourceNode=e,this.stepsNode=t}setup(){const{sourceNode:e,stepsNode:t}=this;return e.mul(t).floor().div(t)}}const TS=S(oy);w("posterize",TS);k("PosterizeNode",oy);const CS=b(({color:n,exposure:e})=>n.mul(e).clamp()),_S=b(({color:n,exposure:e})=>(n=n.mul(e),n.div(n.add(1)).clamp())),AS=b(({color:n,exposure:e})=>{n=n.mul(e),n=n.sub(.004).max(0);const t=n.mul(n.mul(6.2).add(.5)),s=n.mul(n.mul(6.2).add(1.7)).add(.06);return t.div(s).pow(2.2)}),ES=b(({color:n})=>{const e=n.mul(n.add(.0245786)).sub(90537e-9),t=n.mul(n.add(.432951).mul(.983729)).add(.238081);return e.div(t)}),zS=b(({color:n,exposure:e})=>{const t=rt(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),s=rt(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(e).div(.6),n=t.mul(n),n=ES({color:n}),n=s.mul(n),n.clamp()}),RS=rt(T(1.6605,-.1246,-.0182),T(-.5876,1.1329,-.1006),T(-.0728,-.0083,1.1187)),LS=rt(T(.6274,.0691,.0164),T(.3293,.9195,.088),T(.0433,.0113,.8956)),kS=b(([n])=>{const e=T(n).toVar(),t=T(e.mul(e)).toVar(),s=T(t.mul(t)).toVar();return R(15.5).mul(s.mul(t)).sub(se(40.14,s.mul(e))).add(se(31.96,s).sub(se(6.868,t.mul(e))).add(se(.4298,t).add(se(.1191,e).sub(.00232))))}),IS=b(({color:n,exposure:e})=>{const t=T(n).toVar(),s=rt(T(.856627153315983,.137318972929847,.11189821299995),T(.0951212405381588,.761241990602591,.0767994186031903),T(.0482516061458583,.101439036467562,.811302368396859)),i=rt(T(1.1271005818144368,-.1413297634984383,-.14132976349843826),T(-.11060664309660323,1.157823702216272,-.11060664309660294),T(-.016493938717834573,-.016493938717834257,1.2519364065950405)),r=R(-12.47393),o=R(4.026069);return t.mulAssign(e),t.assign(LS.mul(t)),t.assign(s.mul(t)),t.assign(ct(t,1e-10)),t.assign(nu(t)),t.assign(t.sub(r).div(o.sub(r))),t.assign(si(t,0,1)),t.assign(kS(t)),t.assign(i.mul(t)),t.assign(Un(ct(T(0),t),T(2.2))),t.assign(RS.mul(t)),t.assign(si(t,0,1)),t}),FS=b(({color:n,exposure:e})=>{const t=R(.76),s=R(.15);n=n.mul(e);const i=bn(n.r,bn(n.g,n.b)),r=jt(i.lessThan(.08),i.sub(se(6.25,i.mul(i))),.04);n.subAssign(r);const o=ct(n.r,ct(n.g,n.b));Ae(o.lessThan(t),()=>n);const a=Sn(1,t),l=Sn(1,a.mul(a).div(o.add(a.sub(t))));n.mulAssign(l.div(o));const u=Sn(1,Zn(1,s.mul(o.sub(l)).add(1)));return Le(n,T(l),u)}).setLayout({name:"NeutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),PS={[uN]:CS,[cN]:_S,[hN]:AS,[dN]:zS,[pN]:IS,[fN]:FS};class ay extends te{constructor(e=Mo,t=bS,s=null){super("vec3"),this.toneMapping=e,this.exposureNode=t,this.colorNode=s}getCacheKey(){let e=super.getCacheKey();return e="{toneMapping:"+this.toneMapping+",nodes:"+e+"}",e}setup(e){const t=this.colorNode||e.context.color,s=this.toneMapping;if(s===Mo)return t;const i={exposure:this.exposureNode,color:t},r=PS[s];let o=null;return r?o=r(i):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",s),o=t),o}}const OS=(n,e,t)=>O(new ay(n,O(e),O(t))),bS=Q4("toneMappingExposure","float");w("toneMapping",(n,e,t)=>OS(e,t,n));k("ToneMappingNode",ay);let xc=null;class ly extends Vo{constructor(e=Eo,t=null){xc===null&&(xc=new x2),super(e,t,xc)}updateReference(){return this}}const DS=S(ly);w("viewportSharedTexture",DS);k("ViewportSharedTextureNode",ly);const VS=new X;class jh extends ci{constructor(e,t){super(t),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class Bo extends te{constructor(e,t,s){super("vec4"),this.scope=e,this.scene=t,this.camera=s,this._pixelRatio=1,this._width=1,this._height=1;const i=new Bd;i.isRenderTargetTexture=!0,i.name="PostProcessingDepth";const r=new As(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:yN});r.texture.name="PostProcessing",r.depthTexture=i,this.renderTarget=r,this.updateBeforeType=K.FRAME,this._textureNode=O(new jh(this,r.texture)),this._depthTextureNode=O(new jh(this,i)),this._linearDepthNode=null,this._viewZNode=null,this._cameraNear=$(0),this._cameraFar=$(0),this.isPassNode=!0}isGlobal(){return!0}getTextureNode(){return this._textureNode}getTextureDepthNode(){return this._depthTextureNode}getViewZNode(){if(this._viewZNode===null){const e=this._cameraNear,t=this._cameraFar;this._viewZNode=R1(this._depthTextureNode,e,t)}return this._viewZNode}getLinearDepthNode(){if(this._linearDepthNode===null){const e=this._cameraNear,t=this._cameraFar;this._linearDepthNode=Xa(this.getViewZNode(),e,t)}return this._linearDepthNode}setup(){return this.scope===Bo.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:t}=e,{scene:s,camera:i}=this;this._pixelRatio=t.getPixelRatio();const r=t.getSize(VS);this.setSize(r.width,r.height);const o=t.toneMapping,a=t.toneMappingNode,l=t.getRenderTarget();this._cameraNear.value=i.near,this._cameraFar.value=i.far,t.toneMapping=Mo,t.toneMappingNode=null,t.setRenderTarget(this.renderTarget),t.render(s,i),t.toneMapping=o,t.toneMappingNode=a,t.setRenderTarget(l)}setSize(e,t){this._width=e,this._height=t;const s=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget.setSize(s,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}Bo.COLOR="color";Bo.DEPTH="depth";const cu=(n,e)=>O(new jh(n,e));k("PassNode",Bo);const vc=new p2(-1,1,1,-1,0,1);class BS extends Yl{constructor(e=!1){super();const t=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new Mh([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Mh(t,2))}}const US=new BS;class Uo extends iw{constructor(e=null){super(US,e),this.camera=vc}renderAsync(e){return e.renderAsync(this,vc)}render(e){e.render(this,vc)}}const Ef=new Uo,zf=new Uo;class jS extends te{constructor(e,t=2){super("vec4"),this.textureNode=e,this.sigma=t,this.directionNode=F(1),this._invSize=$(new X),this._passDirection=$(new X),this._horizontalRT=new As,this._horizontalRT.texture.name="GaussianBlurNode.horizontal",this._verticalRT=new As,this._verticalRT.texture.name="GaussianBlurNode.vertical",this._textureNode=cu(this,this._verticalRT.texture),this.updateBeforeType=K.RENDER,this.resolution=new X(1,1)}setSize(e,t){e=Math.max(Math.round(e*this.resolution.x),1),t=Math.max(Math.round(t*this.resolution.y),1),this._invSize.value.set(1/e,1/t),this._horizontalRT.setSize(e,t),this._verticalRT.setSize(e,t)}updateBefore(e){const{renderer:t}=e,s=this.textureNode,i=s.value,r=t.getRenderTarget(),o=s.value;Ef.material=this._material,zf.material=this._material,this.setSize(i.image.width,i.image.height);const a=i.type;this._horizontalRT.texture.type=a,this._verticalRT.texture.type=a,t.setRenderTarget(this._horizontalRT),this._passDirection.value.set(1,0),Ef.render(t),s.value=this._horizontalRT.texture,t.setRenderTarget(this._verticalRT),this._passDirection.value.set(0,1),zf.render(t),t.setRenderTarget(r),s.value=o}getTextureNode(){return this._textureNode}setup(e){const t=this.textureNode;if(t.isTextureNode!==!0)return console.error("GaussianBlurNode requires a TextureNode."),B();const s=t.uvNode||Tt(),i=l=>t.cache().context({getUV:()=>l,forceUVContext:!0}),r=b(()=>{const l=3+2*this.sigma,u=this._getCoefficients(l),c=this._invSize,d=F(this.directionNode).mul(this._passDirection),h=R(u[0]).toVar(),p=B(i(s).mul(h)).toVar();for(let f=1;f<l;f++){const y=R(f),v=R(u[f]),m=F(d.mul(c.mul(y))).toVar(),g=B(i(s.add(m))),x=B(i(s.sub(m)));p.addAssign(g.add(x).mul(v)),h.addAssign(se(2,v))}return p.div(h)}),o=this._material||(this._material=e.createNodeMaterial());o.fragmentNode=r();const a=e.getNodeProperties(this);return a.textureNode=t,this._textureNode}_getCoefficients(e){const t=[];for(let s=0;s<e;s++)t.push(.39894*Math.exp(-.5*s*s/(e*e))/e);return t}}const HS=(n,e)=>O(new jS(O(n),e));w("gaussianBlur",HS);const Nc=new X,Rf=new Uo;class WS extends te{constructor(e,t=.96){super(e),this.textureNode=e,this.textureNodeOld=We(),this.damp=$(t),this._compRT=new As,this._compRT.texture.name="AfterImageNode.comp",this._oldRT=new As,this._oldRT.texture.name="AfterImageNode.old",this._textureNode=cu(this,this._compRT.texture),this.updateBeforeType=K.RENDER}getTextureNode(){return this._textureNode}setSize(e,t){this._compRT.setSize(e,t),this._oldRT.setSize(e,t)}updateBefore(e){const{renderer:t}=e,s=this.textureNode,r=s.value.type;this._compRT.texture.type=r,this._oldRT.texture.type=r,t.getDrawingBufferSize(Nc),this.setSize(Nc.x,Nc.y);const o=t.toneMapping,a=t.toneMappingNode,l=t.getRenderTarget(),u=s.value;this.textureNodeOld.value=this._oldRT.texture,t.toneMapping=Mo,t.toneMappingNode=null,t.setRenderTarget(this._compRT),Rf.render(t);const c=this._oldRT;this._oldRT=this._compRT,this._compRT=c,t.toneMapping=o,t.toneMappingNode=a,t.setRenderTarget(l),s.value=u}setup(e){const t=this.textureNode,s=this.textureNodeOld;if(t.isTextureNode!==!0)return console.error("AfterImageNode requires a TextureNode."),B();const i=t.uvNode||Tt();s.uvNode=i;const r=c=>t.cache().context({getUV:()=>c,forceUVContext:!0}),o=b(([c,d])=>{const h=R(d).toVar(),p=B(c).toVar();return ct(np(p.sub(h)),0)}),a=b(()=>{const c=B(s),d=B(r(i));return c.mulAssign(this.damp.mul(o(c,.1))),ct(d,c)}),l=this._materialComposed||(this._materialComposed=e.createNodeMaterial());l.fragmentNode=a(),Rf.material=l;const u=e.getNodeProperties(this);return u.textureNode=t,this._textureNode}}const $S=(n,e)=>O(new WS(O(n),e));w("afterImage",$S);const Lf=new Uo;class GS extends te{constructor(e,t,s,i){super("vec4"),this.textureNode=e,this.tresholdNode=t,this.scaleNode=s,this.colorNode=T(.1,0,1),this.samples=i,this.resolution=new X(1,1),this._renderTarget=new As,this._renderTarget.texture.name="anamorphic",this._invSize=$(new X),this._textureNode=cu(this,this._renderTarget.texture),this.updateBeforeType=K.RENDER}getTextureNode(){return this._textureNode}setSize(e,t){this._invSize.value.set(1/e,1/t),e=Math.max(Math.round(e*this.resolution.x),1),t=Math.max(Math.round(t*this.resolution.y),1),this._renderTarget.setSize(e,t)}updateBefore(e){const{renderer:t}=e,s=this.textureNode,i=s.value;this._renderTarget.texture.type=i.type;const r=t.getRenderTarget(),o=s.value;Lf.material=this._material,this.setSize(i.image.width,i.image.height),t.setRenderTarget(this._renderTarget),Lf.render(t),t.setRenderTarget(r),s.value=o}setup(e){const t=this.textureNode;if(t.isTextureNode!==!0)return console.error("AnamorphNode requires a TextureNode."),B();const s=t.uvNode||Tt(),i=l=>t.cache().context({getUV:()=>l,forceUVContext:!0}),r=b(()=>{const l=this.samples,u=Math.floor(l/2),c=T(0).toVar();return rn({start:-u,end:u},({i:d})=>{const h=R(d).abs().div(u).oneMinus(),p=F(s.x.add(this._invSize.x.mul(d).mul(this.scaleNode)),s.y),f=i(p),y=iy(f,this.tresholdNode).mul(h);c.addAssign(y)}),c.mul(this.colorNode)}),o=this._material||(this._material=e.createNodeMaterial());o.fragmentNode=r();const a=e.getNodeProperties(this);return a.textureNode=t,this._textureNode}}const qS=(n,e=.9,t=3,s=32)=>O(new GS(O(n),O(e),O(t),s));w("anamorphic",qS);class XS extends te{constructor(e){super(),this.textureNode=e,this.updateBeforeType=K.RENDER,this._invSize=$(new X)}updateBefore(){const e=this.textureNode.value;this._invSize.value.set(1/e.image.width,1/e.image.height)}setup(){const{textureNode:e}=this,t=e.uvNode||Tt(),s=o=>this.textureNode.cache().context({getUV:()=>o,forceUVContext:!0});return b(()=>{const o=this._invSize,a=rt(-1,-2,-1,0,0,0,1,2,1),l=rt(-1,0,1,-2,0,2,-1,0,1),u=Kt(s(t.add(o.mul(F(-1,-1)))).xyz),c=Kt(s(t.add(o.mul(F(-1,0)))).xyz),d=Kt(s(t.add(o.mul(F(-1,1)))).xyz),h=Kt(s(t.add(o.mul(F(0,-1)))).xyz),p=Kt(s(t.add(o.mul(F(0,0)))).xyz),f=Kt(s(t.add(o.mul(F(0,1)))).xyz),y=Kt(s(t.add(o.mul(F(1,-1)))).xyz),v=Kt(s(t.add(o.mul(F(1,0)))).xyz),m=Kt(s(t.add(o.mul(F(1,1)))).xyz),g=Mt(a[0][0].mul(u),a[1][0].mul(h),a[2][0].mul(y),a[0][1].mul(c),a[1][1].mul(p),a[2][1].mul(v),a[0][2].mul(d),a[1][2].mul(f),a[2][2].mul(m)),x=Mt(l[0][0].mul(u),l[1][0].mul(h),l[2][0].mul(y),l[0][1].mul(c),l[1][1].mul(p),l[2][1].mul(v),l[0][2].mul(d),l[1][2].mul(f),l[2][2].mul(m)),M=g.mul(g).add(x.mul(x)).sqrt();return B(T(M),1)})()}}const ZS=n=>O(new XS(O(n)));w("sobel",ZS);class YS extends te{constructor(e,t,s=1,i=.025,r=1){super(),this.textureNode=e,this.viewZNode=t,this.focus=$(s),this.aperture=$(i),this.maxblur=$(r),this._aspect=$(0),this.updateBeforeType=K.RENDER}updateBefore(){const e=this.textureNode.value;this._aspect.value=e.image.width/e.image.height}setup(){const{textureNode:e}=this,t=e.uvNode||Tt(),s=o=>this.textureNode.uv(o);return b(()=>{const o=F(1,this._aspect),a=this.focus.add(this.viewZNode),l=F(si(a.mul(this.aperture),this.maxblur.negate(),this.maxblur)),u=l.mul(.9),c=l.mul(.7),d=l.mul(.4);let h=B(0);return h=h.add(s(t)),h=h.add(s(t.add(F(0,.4).mul(o).mul(l)))),h=h.add(s(t.add(F(.15,.37).mul(o).mul(l)))),h=h.add(s(t.add(F(.29,.29).mul(o).mul(l)))),h=h.add(s(t.add(F(-.37,.15).mul(o).mul(l)))),h=h.add(s(t.add(F(.4,0).mul(o).mul(l)))),h=h.add(s(t.add(F(.37,-.15).mul(o).mul(l)))),h=h.add(s(t.add(F(.29,-.29).mul(o).mul(l)))),h=h.add(s(t.add(F(-.15,-.37).mul(o).mul(l)))),h=h.add(s(t.add(F(0,-.4).mul(o).mul(l)))),h=h.add(s(t.add(F(-.15,.37).mul(o).mul(l)))),h=h.add(s(t.add(F(-.29,.29).mul(o).mul(l)))),h=h.add(s(t.add(F(.37,.15).mul(o).mul(l)))),h=h.add(s(t.add(F(-.4,0).mul(o).mul(l)))),h=h.add(s(t.add(F(-.37,-.15).mul(o).mul(l)))),h=h.add(s(t.add(F(-.29,-.29).mul(o).mul(l)))),h=h.add(s(t.add(F(.15,-.37).mul(o).mul(l)))),h=h.add(s(t.add(F(.15,.37).mul(o).mul(u)))),h=h.add(s(t.add(F(-.37,.15).mul(o).mul(u)))),h=h.add(s(t.add(F(.37,-.15).mul(o).mul(u)))),h=h.add(s(t.add(F(-.15,-.37).mul(o).mul(u)))),h=h.add(s(t.add(F(-.15,.37).mul(o).mul(u)))),h=h.add(s(t.add(F(.37,.15).mul(o).mul(u)))),h=h.add(s(t.add(F(-.37,-.15).mul(o).mul(u)))),h=h.add(s(t.add(F(.15,-.37).mul(o).mul(u)))),h=h.add(s(t.add(F(.29,.29).mul(o).mul(c)))),h=h.add(s(t.add(F(.4,0).mul(o).mul(c)))),h=h.add(s(t.add(F(.29,-.29).mul(o).mul(c)))),h=h.add(s(t.add(F(0,-.4).mul(o).mul(c)))),h=h.add(s(t.add(F(-.29,.29).mul(o).mul(c)))),h=h.add(s(t.add(F(-.4,0).mul(o).mul(c)))),h=h.add(s(t.add(F(-.29,-.29).mul(o).mul(c)))),h=h.add(s(t.add(F(0,.4).mul(o).mul(c)))),h=h.add(s(t.add(F(.29,.29).mul(o).mul(d)))),h=h.add(s(t.add(F(.4,0).mul(o).mul(d)))),h=h.add(s(t.add(F(.29,-.29).mul(o).mul(d)))),h=h.add(s(t.add(F(0,-.4).mul(o).mul(d)))),h=h.add(s(t.add(F(-.29,.29).mul(o).mul(d)))),h=h.add(s(t.add(F(-.4,0).mul(o).mul(d)))),h=h.add(s(t.add(F(-.29,-.29).mul(o).mul(d)))),h=h.add(s(t.add(F(0,.4).mul(o).mul(d)))),h=h.div(41),h.a=1,B(h)})()}}const QS=(n,e,t,s,i)=>O(new YS(O(n),O(e),t,s,i));w("dof",QS);const kf=new Uo;class JS extends te{constructor(e,t=new X(.5,.5),s=1.57,i=1){super("vec4"),this.colorNode=e,this.center=$(t),this.angle=$(s),this.scale=$(i),this._renderTarget=new As,this._renderTarget.texture.name="dotScreen",this._size=$(new X),this._textureNode=cu(this,this._renderTarget.texture),this.updateBeforeType=K.RENDER}getTextureNode(){return this._textureNode}setSize(e,t){this._size.value.set(e,t),this._renderTarget.setSize(e,t)}updateBefore(e){const{renderer:t}=e,s=this.colorNode,i=s.value;this._renderTarget.texture.type=i.type;const r=t.getRenderTarget(),o=s.value;kf.material=this._material,this.setSize(i.image.width,i.image.height),t.setRenderTarget(this._renderTarget),kf.render(t),t.setRenderTarget(r),s.value=o}setup(e){const t=this.colorNode,s=b(()=>{const a=Rt(this.angle),l=mn(this.angle),u=Tt().mul(this._size).sub(this.center),c=F(l.mul(u.x).sub(a.mul(u.y)),a.mul(u.x).add(l.mul(u.y))).mul(this.scale);return Rt(c.x).mul(Rt(c.y)).mul(4)}),i=b(()=>{const a=t,l=Mt(a.r,a.g,a.b).div(3);return B(T(l.mul(10).sub(5).add(s())),a.a)}),r=this._material||(this._material=e.createNodeMaterial());r.fragmentNode=i();const o=e.getNodeProperties(this);return o.textureNode=t,this._textureNode}}const KS=(n,e,t,s)=>O(new JS(O(n),e,t,s));w("dotScreen",KS);class eT extends te{constructor(e,t=.005,s=0){super("vec4"),this.textureNode=e,this.amount=$(t),this.angle=$(s),this.updateBeforeType=K.RENDER}updateBefore(){}setup(){const{textureNode:e}=this,t=e.uvNode||Tt(),s=r=>this.textureNode.uv(r);return b(()=>{const r=F(mn(this.angle),Rt(this.angle)).mul(this.amount),o=s(t.add(r)),a=s(t),l=s(t.sub(r));return B(o.r,a.g,l.b,a.a)})()}}const tT=(n,e,t)=>O(new eT(O(n),e,t));w("rgbShift",tT);class uy extends te{constructor(e=null,t={}){super(),this.functionNode=e,this.parameters=t}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const t=[],s=this.functionNode,i=s.getInputs(e),r=this.parameters;if(Array.isArray(r))for(let a=0;a<r.length;a++){const l=i[a],u=r[a];t.push(u.build(e,l.type))}else for(const a of i){const l=r[a.name];if(l!==void 0)t.push(l.build(e,a.type));else throw new Error(`FunctionCallNode: Input '${a.name}' not found in FunctionNode.`)}return`${s.build(e,"property")}( ${t.join(", ")} )`}}const nT=(n,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Ji(e):eu(e[0]),O(new uy(O(n),e)));w("call",nT);k("FunctionCallNode",uy);class cy extends W{constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outpuType=null,this.events=new li,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:R()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=T2(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let t=null;e.value!==null&&(e.inputType==="ArrayBuffer"?t=C2(e.value):e.inputType==="Texture"?t=e.meta.textures[e.value]:t=e.meta.nodes[e.value]||null),this.value=t,this.inputType=e.inputType,this.outputType=e.outputType}}const Za=S(cy);w("scriptableValue",Za);k("ScriptableValueNode",cy);class hy extends Map{get(e,t=null,...s){if(this.has(e))return super.get(e);if(t!==null){const i=t(...s);return this.set(e,i),i}}}class sT{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const t=this.parameters[e];return t?t.getValue():null}}const wc=new hy;class dy extends W{constructor(e=null,t={}){super(),this.codeNode=e,this.parameters=t,this._local=new hy,this._output=Za(),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,t){return this._local.set(e,t)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const t of this.getLayout())if(t.inputType&&(t.id===e||t.name===e))return t}getOutputLayout(e){for(const t of this.getLayout())if(t.outputType&&(t.id===e||t.name===e))return t}setOutput(e,t){const s=this._outputs;return s[e]===void 0?s[e]=Za(t):s[e].value=t,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,t){const s=this.parameters;return t&&t.isScriptableNode?(this.deleteParameter(e),s[e]=t,s[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):t&&t.isScriptableValueNode?(this.deleteParameter(e),s[e]=t,s[e].events.addEventListener("refresh",this.onRefresh)):s[e]===void 0?(s[e]=Za(t),s[e].events.addEventListener("refresh",this.onRefresh)):s[e].value=t,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let t=this.parameters[e];return t&&(t.isScriptableNode&&(t=t.getDefaultOutput()),t.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...t){const i=this.getObject()[e];if(typeof i=="function")return i(...t)}async callAsync(e,...t){const i=this.getObject()[e];if(typeof i=="function")return i.constructor.name==="AsyncFunction"?await i(...t):i(...t)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),t=(u,c)=>this.setOutput(u,c),s=new sT(this),i=wc.get("THREE"),r=wc.get("TSL"),o=this.getMethod(this.codeNode),a=[s,this._local,wc,e,t,i,r];this._object=o(...a);const l=this._object.layout;if(l&&(l.cache===!1&&this._local.clear(),this._output.outputType=l.outputType||null,Array.isArray(l.elements)))for(const u of l.elements){const c=u.id||u.name;u.inputType&&(this.getParameter(c)===void 0&&this.setParameter(c,null),this.getParameter(c).inputType=u.inputType),u.outputType&&(this.getOutput(c)===void 0&&this.setOutput(c,null),this.getOutput(c).outputType=u.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const t in this.parameters){let s=this.parameters[t];s.isScriptableNode&&(s=s.getDefaultOutput()),s.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:R()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],s=["layout","init","main","dispose"].join(", "),i="var "+s+`; var output = {};
`,r=`
return { ...output, `+s+" };",o=i+this.codeNode.code+r;return this._method=new Function(...e,o),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const iT=S(dy);w("scriptable",iT);k("ScriptableNode",dy);class hu extends W{constructor(e,t){super("float"),this.isFogNode=!0,this.colorNode=e,this.factorNode=t}getViewZNode(e){let t;const s=e.context.getViewZ;return s!==void 0&&(t=s(this)),(t||nt.z).negate()}setup(){return this.factorNode}}const rT=S(hu);w("fog",rT);k("FogNode",hu);class py extends hu{constructor(e,t,s){super(e),this.isFogRangeNode=!0,this.nearNode=t,this.farNode=s}setup(e){const t=this.getViewZNode(e);return Tn(this.nearNode,this.farNode,t)}}const oT=S(py);w("rangeFog",oT);k("FogRangeNode",py);class fy extends hu{constructor(e,t){super(e),this.isFogExp2Node=!0,this.densityNode=t}setup(e){const t=this.getViewZNode(e),s=this.densityNode;return s.mul(s,t,t).negate().exp().oneMinus()}}const aT=S(fy);w("densityFog",aT);k("FogExp2Node",fy);let Us=null,js=null;class my extends W{constructor(e=R(),t=R()){super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=e.getTypeLength(ps(this.minNode.value)),s=e.getTypeLength(ps(this.maxNode.value));return t>s?t:s}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const t=e.object;let s=null;if(t.count>1){const i=this.minNode.value,r=this.maxNode.value,o=e.getTypeLength(ps(i)),a=e.getTypeLength(ps(r));Us=Us||new Fe,js=js||new Fe,Us.setScalar(0),js.setScalar(0),o===1?Us.setScalar(i):i.isColor?Us.set(i.r,i.g,i.b):Us.set(i.x,i.y,i.z||0,i.w||0),a===1?js.setScalar(r):r.isColor?js.set(r.r,r.g,r.b):js.set(r.x,r.y,r.z||0,r.w||0);const l=4,u=l*t.count,c=new Float32Array(u);for(let h=0;h<u;h++){const p=h%l,f=Us.getComponent(p),y=js.getComponent(p);c[h]=o2.lerp(f,y,Math.random())}const d=this.getNodeType(e);if(t.count<=4096)s=sp(c,"vec4",t.count).element(Yd).convert(d);else{const h=new m2(c,4);e.geometry.setAttribute("__range"+this.id,h),s=Fh(h).convert(d)}}else s=R(0);return s}}S(my);k("RangeNode",my);class gy extends W{constructor(e,t,s=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=t,this.workgroupSize=s,this.dispatchCount=0,this.version=1,this.updateBeforeType=K.OBJECT,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}updateDispatchCount(){const{count:e,workgroupSize:t}=this;let s=t[0];for(let i=1;i<t.length;i++)s*=t[i];this.dispatchCount=Math.ceil(e/s)}onInit(){}updateBefore({renderer:e}){e.compute(this)}generate(e){const{shaderStage:t}=e;if(t==="compute"){const s=this.computeNode.build(e,"void");s!==""&&e.addLineFlowCode(s)}}}const lT=(n,e,t)=>O(new gy(O(n),e,t));w("compute",lT);k("ComputeNode",gy);class ri extends W{constructor(e=ri.TARGET_DIRECTION,t=null){super(),this.scope=e,this.light=t}setup(){const{scope:e,light:t}=this;let s=null;return e===ri.TARGET_DIRECTION&&(s=Nr.transformDirection(Lh(t).sub(Lh(t.target)))),s}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}ri.TARGET_DIRECTION="targetDirection";const yy=S(ri,ri.TARGET_DIRECTION);k("LightNode",ri);const xy=b(n=>{const{lightDistance:e,cutoffDistance:t,decayExponent:s}=n,i=e.pow(s).max(.01).reciprocal();return t.greaterThan(0).cond(i.mul(e.div(t).pow4().oneMinus().clamp().pow2()),i)});class vy extends Fs{constructor(e=null){super(e),this.cutoffDistanceNode=$(0),this.decayExponentNode=$(0)}update(e){const{light:t}=this;super.update(e),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}setup(e){const{colorNode:t,cutoffDistanceNode:s,decayExponentNode:i,light:r}=this,o=e.context.lightingModel,a=ip(r).sub(nt),l=a.normalize(),u=a.length(),c=xy({lightDistance:u,cutoffDistance:s,decayExponent:i}),d=t.mul(c),h=e.context.reflectedLight;o.direct({lightDirection:l,lightColor:d,reflectedLight:h,shadowMask:this.shadowMaskNode},e.stack,e)}}k("PointLightNode",vy);di(Nw,vy);class Ny extends Fs{constructor(e=null){super(e)}setup(e){super.setup(e);const t=e.context.lightingModel,s=this.colorNode,i=yy(this.light),r=e.context.reflectedLight;t.direct({lightDirection:i,lightColor:s,reflectedLight:r,shadowMask:this.shadowMaskNode},e.stack,e)}}k("DirectionalLightNode",Ny);di(Mw,Ny);const Mc=new Te,Ra=new Te;let La,Sc;class wy extends Fs{constructor(e=null){super(e),this.halfHeight=$(new C),this.halfWidth=$(new C)}update(e){super.update(e);const{light:t}=this,s=e.camera.matrixWorldInverse;Ra.identity(),Mc.copy(t.matrixWorld),Mc.premultiply(s),Ra.extractRotation(Mc),this.halfWidth.value.set(t.width*.5,0,0),this.halfHeight.value.set(0,t.height*.5,0),this.halfWidth.value.applyMatrix4(Ra),this.halfHeight.value.applyMatrix4(Ra)}setup(e){super.setup(e),La===void 0&&(e.isAvailable("float32Filterable")?(La=We(_a.LTC_FLOAT_1),Sc=We(_a.LTC_FLOAT_2)):(La=We(_a.LTC_HALF_1),Sc=We(_a.LTC_HALF_2)));const{colorNode:t,light:s}=this,i=e.context.lightingModel,r=ip(s),o=e.context.reflectedLight;i.directRectArea({lightColor:t,lightPosition:r,halfWidth:this.halfWidth,halfHeight:this.halfHeight,reflectedLight:o,ltc_1:La,ltc_2:Sc},e.stack,e)}}k("RectAreaLightNode",wy);di(Tw,wy);class lp extends Fs{constructor(e=null){super(e),this.coneCosNode=$(0),this.penumbraCosNode=$(0),this.cutoffDistanceNode=$(0),this.decayExponentNode=$(0)}update(e){super.update(e);const{light:t}=this;this.coneCosNode.value=Math.cos(t.angle),this.penumbraCosNode.value=Math.cos(t.angle*(1-t.penumbra)),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}getSpotAttenuation(e){const{coneCosNode:t,penumbraCosNode:s}=this;return Tn(t,s,e)}setup(e){super.setup(e);const t=e.context.lightingModel,{colorNode:s,cutoffDistanceNode:i,decayExponentNode:r,light:o}=this,a=ip(o).sub(nt),l=a.normalize(),u=l.dot(yy(o)),c=this.getSpotAttenuation(u),d=a.length(),h=xy({lightDistance:d,cutoffDistance:i,decayExponent:r}),p=s.mul(c).mul(h),f=e.context.reflectedLight;t.direct({lightDirection:l,lightColor:p,reflectedLight:f,shadowMask:this.shadowMaskNode},e.stack,e)}}k("SpotLightNode",lp);di(w2,lp);class uT extends w2{constructor(e,t,s,i,r,o){super(e,t,s,i,r,o),this.iesMap=null}copy(e,t){return super.copy(e,t),this.iesMap=e.iesMap,this}}class My extends lp{getSpotAttenuation(e){const t=this.light.iesMap;let s=null;if(t&&t.isTexture===!0){const i=e.acos().mul(1/Math.PI);s=We(t,F(i,0),0).r}else s=super.getSpotAttenuation(e);return s}}k("IESSpotLightNode",My);di(uT,My);class Sy extends Fs{constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}k("AmbientLightNode",Sy);di(Sw,Sy);class Ty extends Fs{constructor(e=null){super(e),this.lightPositionNode=Lh(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=$(new ie)}update(e){const{light:t}=this;super.update(e),this.lightPositionNode.object3d=t,this.groundColorNode.value.copy(t.groundColor).multiplyScalar(t.intensity)}setup(e){const{colorNode:t,groundColorNode:s,lightDirectionNode:i}=this,o=Es.dot(i).mul(.5).add(.5),a=Le(s,t,o);e.context.irradiance.addAssign(a)}}k("HemisphereLightNode",Ty);di(yw,Ty);const cT=b(n=>{const e=n.uv.mul(2),t=e.x.floor(),s=e.y.floor();return t.add(s).mod(2).sign()});class Cy extends te{constructor(e=Tt()){super("float"),this.uvNode=e}setup(){return cT({uv:this.uvNode})}}const hT=S(Cy);w("checker",hT);k("CheckerNode",Cy);const dT=new y2;class pT extends ot{constructor(e={}){super(),this.normals=!1,this.lights=!1,this.useAlphaToCoverage=!0,this.useColor=e.vertexColors,this.pointWidth=1,this.pointColorNode=null,this.setDefaultValues(dT),this.setupShaders(),this.setValues(e)}setupShaders(){const e=this.alphaToCoverage,t=this.useColor;this.vertexNode=b(()=>{Re(F(),"vUv").assign(Tt());const s=tt("instancePosition"),i=ve("vec4","mvPos");i.assign(ii.mul(B(s,1)));const r=sr.z.div(sr.w),o=yn.mul(i),a=ve("vec2","offset");return a.assign(lt.xy),a.assign(a.mul(KM)),a.assign(a.div(sr.z)),a.y.assign(a.y.mul(r)),a.assign(a.mul(o.w)),o.assign(o.add(B(a,0,0))),o})(),this.fragmentNode=b(()=>{const s=Re(F(),"vUv"),i=ve("float","alpha");i.assign(1);const r=s.x,o=s.y,a=r.mul(r).add(o.mul(o));if(e){const u=ve("float","dlen");u.assign(a.fwidth()),i.assign(Tn(u.oneMinus(),u.add(1),a).oneMinus())}else a.greaterThan(1).discard();let l;return this.pointColorNode?l=this.pointColorNode:t?l=tt("instanceColor").mul(Ao):l=Ao,B(l,i)})(),this.needsUpdate=!0}get alphaToCoverage(){return this.useAlphaToCoverage}set alphaToCoverage(e){this.useAlphaToCoverage!==e&&(this.useAlphaToCoverage=e,this.setupShaders())}}je("InstancedPointsNodeMaterial",pT);const fT=new g2;class mT extends ot{constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.lights=!1,this.normals=!1,this.setDefaultValues(fT),this.setValues(e)}}je("LineBasicNodeMaterial",mT);const gT=new N2;class yT extends ot{constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.lights=!1,this.normals=!1,this.setDefaultValues(gT),this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode,t=this.dashScaleNode?R(this.dashScaleNode):kh,s=this.dashSizeNode?R(this.dashSizeNode):a1,i=this.dashSizeNode?R(this.dashGapNode):l1;tr.assign(s),_l.assign(i);const r=Re(tt("lineDistance").mul(t));(e?r.add(e):r).mod(tr.add(_l)).greaterThan(tr).discard()}}je("LineDashedNodeMaterial",yT);const xT=new N2;class vT extends ot{constructor(e={}){super(),this.normals=!1,this.lights=!1,this.setDefaultValues(xT),this.useAlphaToCoverage=!0,this.useColor=e.vertexColors,this.useDash=e.dashed,this.useWorldUnits=!1,this.dashOffset=0,this.lineWidth=1,this.lineColorNode=null,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setup(e){this.setupShaders(),super.setup(e)}setupShaders(){const e=this.alphaToCoverage,t=this.useColor,s=this.dashed,i=this.worldUnits,r=b(({start:a,end:l})=>{const u=yn.element(2).element(2),h=yn.element(3).element(2).mul(-.5).div(u).sub(a.z).div(l.z.sub(a.z));return B(Le(a.xyz,l.xyz,h),l.w)});this.vertexNode=b(()=>{fn("vec2","vUv").assign(Tt());const a=tt("instanceStart"),l=tt("instanceEnd"),u=ve("vec4","start"),c=ve("vec4","end");u.assign(ii.mul(B(a,1))),c.assign(ii.mul(B(l,1))),i&&(fn("vec3","worldStart").assign(u.xyz),fn("vec3","worldEnd").assign(c.xyz));const d=sr.z.div(sr.w),h=yn.element(2).element(3).equal(-1);Ae(h,()=>{Ae(u.z.lessThan(0).and(c.z.greaterThan(0)),()=>{c.assign(r({start:u,end:c}))}).elseif(c.z.lessThan(0).and(u.z.greaterThanEqual(0)),()=>{u.assign(r({start:c,end:u}))})});const p=yn.mul(u),f=yn.mul(c),y=p.xyz.div(p.w),v=f.xyz.div(f.w),m=v.xy.sub(y.xy).temp();m.x.assign(m.x.mul(d)),m.assign(m.normalize());const g=Ml(B());if(i){const x=c.xyz.sub(u.xyz).normalize(),M=Le(u.xyz,c.xyz,.5).normalize(),E=x.cross(M).normalize(),I=x.cross(E),A=fn("vec4","worldPos");A.assign(lt.y.lessThan(.5).cond(u,c));const L=ac.mul(.5);A.addAssign(B(lt.x.lessThan(0).cond(E.mul(L),E.mul(L).negate()),0)),s||(A.addAssign(B(lt.y.lessThan(.5).cond(x.mul(L).negate(),x.mul(L)),0)),A.addAssign(B(I.mul(L),0)),Ae(lt.y.greaterThan(1).or(lt.y.lessThan(0)),()=>{A.subAssign(B(I.mul(2).mul(L),0))})),g.assign(yn.mul(A));const j=Ml(T());j.assign(lt.y.lessThan(.5).cond(y,v)),g.z.assign(j.z.mul(g.w))}else{const x=ve("vec2","offset");x.assign(F(m.y,m.x.negate())),m.x.assign(m.x.div(d)),x.x.assign(x.x.div(d)),x.assign(lt.x.lessThan(0).cond(x.negate(),x)),Ae(lt.y.lessThan(0),()=>{x.assign(x.sub(m))}).elseif(lt.y.greaterThan(1),()=>{x.assign(x.add(m))}),x.assign(x.mul(ac)),x.assign(x.div(sr.w)),g.assign(lt.y.lessThan(.5).cond(p,f)),x.assign(x.mul(g.w)),g.assign(g.add(B(x,0,0)))}return g})();const o=b(({p1:a,p2:l,p3:u,p4:c})=>{const d=a.sub(u),h=c.sub(u),p=l.sub(a),f=d.dot(h),y=h.dot(p),v=d.dot(p),m=h.dot(h),x=p.dot(p).mul(m).sub(y.mul(y)),E=f.mul(y).sub(v.mul(m)).div(x).clamp(),I=f.add(y.mul(E)).div(m).clamp();return F(E,I)});this.fragmentNode=b(()=>{const a=fn("vec2","vUv");if(s){const c=this.offsetNode?R(this.offsetNodeNode):df,d=this.dashScaleNode?R(this.dashScaleNode):kh,h=this.dashSizeNode?R(this.dashSizeNode):a1,p=this.dashSizeNode?R(this.dashGapNode):l1;tr.assign(h),_l.assign(p);const f=tt("instanceDistanceStart"),y=tt("instanceDistanceEnd"),v=lt.y.lessThan(.5).cond(d.mul(f),kh.mul(y)),m=Re(v.add(df)),g=c?m.add(c):m;a.y.lessThan(-1).or(a.y.greaterThan(1)).discard(),g.mod(tr.add(_l)).greaterThan(tr).discard()}const l=ve("float","alpha");if(l.assign(1),i){const c=fn("vec3","worldStart"),d=fn("vec3","worldEnd"),h=fn("vec4","worldPos").xyz.normalize().mul(1e5),p=d.sub(c),f=o({p1:c,p2:d,p3:T(0,0,0),p4:h}),y=c.add(p.mul(f.x)),v=h.mul(f.y),x=y.sub(v).length().div(ac);if(!s)if(e){const M=x.fwidth();l.assign(Tn(M.negate().add(.5),M.add(.5),x).oneMinus())}else x.greaterThan(.5).discard()}else if(e){const c=a.x,d=a.y.greaterThan(0).cond(a.y.sub(1),a.y.add(1)),h=c.mul(c).add(d.mul(d)),p=ve("float","dlen");p.assign(h.fwidth()),Ae(a.y.abs().greaterThan(1),()=>{l.assign(Tn(p.oneMinus(),p.add(1),h).oneMinus())})}else Ae(a.y.abs().greaterThan(1),()=>{const c=a.x,d=a.y.greaterThan(0).cond(a.y.sub(1),a.y.add(1));c.mul(c).add(d.mul(d)).greaterThan(1).discard()});let u;if(this.lineColorNode)u=this.lineColorNode;else if(t){const c=tt("instanceColorStart"),d=tt("instanceColorEnd");u=lt.y.lessThan(.5).cond(c,d).mul(Ao)}else u=Ao;return B(u,l)})()}get worldUnits(){return this.useWorldUnits}set worldUnits(e){this.useWorldUnits!==e&&(this.useWorldUnits=e,this.needsUpdate=!0)}get dashed(){return this.useDash}set dashed(e){this.useDash!==e&&(this.useDash=e,this.needsUpdate=!0)}get alphaToCoverage(){return this.useAlphaToCoverage}set alphaToCoverage(e){this.useAlphaToCoverage!==e&&(this.useAlphaToCoverage=e,this.needsUpdate=!0)}}je("Line2NodeMaterial",vT);const NT=new fw;class wT extends ot{constructor(e){super(),this.lights=!1,this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(NT),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?R(this.opacityNode):o1;le.assign(B(H1(Se),e))}}je("MeshNormalNodeMaterial",wT);const MT=new c2;class ST extends ot{constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!1,this.setDefaultValues(MT),this.setValues(e)}}je("MeshBasicNodeMaterial",ST);const zo=b(({f0:n,f90:e,dotVH:t})=>{const s=t.mul(-5.55473).sub(6.98316).mul(t).exp2();return n.mul(s.oneMinus()).add(e.mul(s))}),dr=b(n=>n.diffuseColor.mul(1/Math.PI)),TT=()=>R(.25),CT=b(({dotNH:n})=>Ah.mul(R(.5)).add(1).mul(R(1/Math.PI)).mul(n.pow(Ah))),_T=b(({lightDirection:n})=>{const e=n.add(ge).normalize(),t=Se.dot(e).clamp(),s=ge.dot(e).clamp(),i=zo({f0:Et,f90:1,dotVH:s}),r=TT(),o=CT({dotNH:t});return i.mul(r).mul(o)});class _y extends tu{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:t,reflectedLight:s}){const r=Se.dot(e).clamp().mul(t);s.directDiffuse.addAssign(r.mul(dr({diffuseColor:le.rgb}))),this.specular===!0&&s.directSpecular.addAssign(r.mul(_T({lightDirection:e})).mul(FM))}indirectDiffuse({irradiance:e,reflectedLight:t}){t.indirectDiffuse.addAssign(e.mul(dr({diffuseColor:le})))}}const AT=new mw;class ET extends ot{constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(AT),this.setValues(e)}setupLightingModel(){return new _y(!1)}}je("MeshLambertNodeMaterial",ET);const zT=new dw;class RT extends ot{constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(zT),this.setValues(e)}setupLightingModel(){return new _y}setupVariants(){const e=(this.shininessNode?R(this.shininessNode):RM).max(1e-4);Ah.assign(e);const t=this.specularNode||kM;Et.assign(t)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}je("MeshPhongNodeMaterial",RT);const LT=b(()=>{const n=El.dFdx().abs().max(El.dFdy().abs());return n.x.max(n.y).max(n.z)}),Ay=b(n=>{const{roughness:e}=n,t=LT();let s=e.max(.0525);return s=s.add(t),s=s.min(1),s}),kT=b(({alpha:n,dotNL:e,dotNV:t})=>{const s=n.pow2(),i=e.mul(s.add(s.oneMinus().mul(t.pow2())).sqrt()),r=t.mul(s.add(s.oneMinus().mul(e.pow2())).sqrt());return Zn(.5,i.add(r).max(H2))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),IT=b(({alphaT:n,alphaB:e,dotTV:t,dotBV:s,dotTL:i,dotBL:r,dotNV:o,dotNL:a})=>{const l=a.mul(T(n.mul(t),e.mul(s),o).length()),u=o.mul(T(n.mul(i),e.mul(r),a).length());return Zn(.5,l.add(u)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),FT=b(({alpha:n,dotNH:e})=>{const t=n.pow2(),s=e.pow2().mul(t.oneMinus()).oneMinus();return t.div(s.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),PT=R(1/Math.PI),OT=b(({alphaT:n,alphaB:e,dotNH:t,dotTH:s,dotBH:i})=>{const r=n.mul(e),o=T(e.mul(s),n.mul(i),r.mul(t)),a=o.dot(o),l=r.div(a);return PT.mul(r.mul(l.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),If=b(n=>{const{lightDirection:e,f0:t,f90:s,roughness:i,f:r,USE_IRIDESCENCE:o,USE_ANISOTROPY:a}=n,l=n.normalView||Se,u=i.pow2(),c=e.add(ge).normalize(),d=l.dot(e).clamp(),h=l.dot(ge).clamp(),p=l.dot(c).clamp(),f=ge.dot(c).clamp();let y=zo({f0:t,f90:s,dotVH:f}),v,m;if(of(o)&&(y=Jd.mix(y,r)),of(a)){const g=Ga.dot(e),x=Ga.dot(ge),M=Ga.dot(c),E=er.dot(e),I=er.dot(ge),A=er.dot(c);v=IT({alphaT:_h,alphaB:u,dotTV:x,dotBV:I,dotTL:g,dotBL:E,dotNV:h,dotNL:d}),m=OT({alphaT:_h,alphaB:u,dotNH:p,dotTH:M,dotBH:A})}else v=kT({alpha:u,dotNL:d,dotNV:h}),m=FT({alpha:u,dotNH:p});return y.mul(v).mul(m)}),Ey=b(({roughness:n,dotNV:e})=>{const t=B(-1,-.0275,-.572,.022),s=B(1,.0425,1.04,-.04),i=n.mul(t).add(s),r=i.x.mul(i.x).min(e.mul(-9.28).exp2()).mul(i.x).add(i.y);return F(-1.04,1.04).mul(r).add(i.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),zy=b(n=>{const{dotNV:e,specularColor:t,specularF90:s,roughness:i}=n,r=Ey({dotNV:e,roughness:i});return t.mul(r.x).add(s.mul(r.y))}),bT=b(({f:n,f90:e,dotVH:t})=>{const s=t.oneMinus().saturate(),i=s.mul(s),r=s.mul(i,i).clamp(0,.9999);return n.sub(T(e).mul(r)).div(r.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),DT=b(({roughness:n,dotNH:e})=>{const t=n.pow2(),s=R(1).div(t),r=e.pow2().oneMinus().max(.0078125);return R(2).add(s).mul(r.pow(s.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),VT=b(({dotNV:n,dotNL:e})=>R(1).div(R(4).mul(e.add(n).sub(e.mul(n))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),BT=b(({lightDirection:n})=>{const e=n.add(ge).normalize(),t=Se.dot(n).clamp(),s=Se.dot(ge).clamp(),i=Se.dot(e).clamp(),r=DT({roughness:Qd,dotNH:i}),o=VT({dotNV:s,dotNL:t});return ji.mul(r).mul(o)}),UT=b(({N:n,V:e,roughness:t})=>{const r=.0078125,o=n.dot(e).saturate(),a=F(t,o.oneMinus().sqrt());return a.assign(a.mul(.984375).add(r)),a}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),jT=b(({f:n})=>{const e=n.length();return ct(e.mul(e).add(n.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),ka=b(({v1:n,v2:e})=>{const t=n.dot(e),s=t.abs().toVar(),i=s.mul(.0145206).add(.4965155).mul(s).add(.8543985).toVar(),r=s.add(4.1616724).mul(s).add(3.417594).toVar(),o=i.div(r),a=t.greaterThan(0).cond(o,ct(t.mul(t).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(o));return n.cross(e).mul(a)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),Ff=b(({N:n,V:e,P:t,mInv:s,p0:i,p1:r,p2:o,p3:a})=>{const l=r.sub(i).toVar(),u=a.sub(i).toVar(),c=l.cross(u),d=T().toVar();return Ae(c.dot(t.sub(i)).greaterThanEqual(0),()=>{const h=e.sub(n.mul(e.dot(n))).normalize(),p=n.cross(h).negate(),f=s.mul(rt(h,p,n).transpose()).toVar(),y=f.mul(i.sub(t)).normalize().toVar(),v=f.mul(r.sub(t)).normalize().toVar(),m=f.mul(o.sub(t)).normalize().toVar(),g=f.mul(a.sub(t)).normalize().toVar(),x=T(0).toVar();x.addAssign(ka({v1:y,v2:v})),x.addAssign(ka({v1:v,v2:m})),x.addAssign(ka({v1:m,v2:g})),x.addAssign(ka({v1:g,v2:y})),d.assign(T(jT({f:x})))}),d}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),Pf=b(([n,e,t,s,i])=>{const r=T(Y2(e.negate(),Co(n),Zn(1,s))),o=T(nr(i[0].xyz),nr(i[1].xyz),nr(i[2].xyz));return Co(r).mul(t.mul(o))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),HT=b(([n,e])=>n.mul(si(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),WT=A1(),Of=b(([n,e,t])=>{const s=WT.uv(n),i=nu(R(bh.x)).mul(HT(e,t));return s.bicubic(i)}),bf=b(([n,e,t])=>(Ae(t.notEqual(0),()=>{const s=G2(e).negate().div(t);return $2(s.negate().mul(n))}),T(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),$T=b(([n,e,t,s,i,r,o,a,l,u,c,d,h,p,f])=>{let y,v;if(f){y=B().toVar(),v=T().toVar();const E=c.sub(1).mul(f.mul(.025)),I=T(c.sub(E),c,c.add(E));rn({start:0,end:3},({i:A})=>{const L=I.element(A),j=Pf(n,e,d,L,a),H=o.add(j),Q=u.mul(l.mul(B(H,1))),Ce=F(Q.xy.div(Q.w)).toVar();Ce.addAssign(1),Ce.divAssign(2),Ce.assign(F(Ce.x,Ce.y.oneMinus()));const de=Of(Ce,t,L);y.element(A).assign(de.element(A)),y.a.addAssign(de.a),v.element(A).assign(s.element(A).mul(bf(nr(j),h,p).element(A)))}),y.a.divAssign(3)}else{const E=Pf(n,e,d,c,a),I=o.add(E),A=u.mul(l.mul(B(I,1))),L=F(A.xy.div(A.w)).toVar();L.addAssign(1),L.divAssign(2),L.assign(F(L.x,L.y.oneMinus())),y=Of(L,t,c),v=s.mul(bf(nr(E),h,p))}const m=v.rgb.mul(y.rgb),g=n.dot(e).clamp(),x=T(zy({dotNV:g,specularColor:i,specularF90:r,roughness:t})),M=v.r.add(v.g,v.b).div(3);return B(x.oneMinus().mul(m),y.a.oneMinus().mul(M).oneMinus())}),GT=rt(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),qT=n=>{const e=n.sqrt();return T(1).add(e).div(T(1).sub(e))},Df=(n,e)=>n.sub(e).div(n.add(e)).pow2(),XT=(n,e)=>{const t=n.mul(2*Math.PI*1e-9),s=T(54856e-17,44201e-17,52481e-17),i=T(1681e3,1795300,2208400),r=T(43278e5,93046e5,66121e5),o=R(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(t.mul(2239900).add(e.x).cos()).mul(t.pow2().mul(-45282e5).exp());let a=s.mul(r.mul(2*Math.PI).sqrt()).mul(i.mul(t).add(e).cos()).mul(t.pow2().negate().mul(r).exp());return a=T(a.x.add(o),a.y,a.z).div(10685e-11),GT.mul(a)},ZT=b(({outsideIOR:n,eta2:e,cosTheta1:t,thinFilmThickness:s,baseF0:i})=>{const r=Le(n,e,Tn(0,.03,s)),o=n.div(r).pow2().mul(R(1).sub(t.pow2())),l=R(1).sub(o).sqrt(),u=Df(r,n),c=zo({f0:u,f90:1,dotVH:t}),d=c.oneMinus(),h=r.lessThan(n).cond(Math.PI,0),p=R(Math.PI).sub(h),f=qT(i.clamp(0,.9999)),y=Df(f,r.toVec3()),v=zo({f0:y,f90:1,dotVH:l}),m=T(f.x.lessThan(r).cond(Math.PI,0),f.y.lessThan(r).cond(Math.PI,0),f.z.lessThan(r).cond(Math.PI,0)),g=r.mul(s,l,2),x=T(p).add(m),M=c.mul(v).clamp(1e-5,.9999),E=M.sqrt(),I=d.pow2().mul(v).div(T(1).sub(M));let L=c.add(I),j=I.sub(d);for(let H=1;H<=2;++H){j=j.mul(E);const Q=XT(R(H).mul(g),R(H).mul(x)).mul(2);L=L.add(j.mul(Q))}return L.max(T(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),YT=b(({normal:n,viewDir:e,roughness:t})=>{const s=n.dot(e).saturate(),i=t.pow2(),r=jt(t.lessThan(.25),R(-339.2).mul(i).add(R(161.4).mul(t)).sub(25.9),R(-8.48).mul(i).add(R(14.3).mul(t)).sub(9.95)),o=jt(t.lessThan(.25),R(44).mul(i).sub(R(23.7).mul(t)).add(3.26),R(1.97).mul(i).sub(R(3.27).mul(t)).add(.72));return jt(t.lessThan(.25),0,R(.1).mul(t).sub(.025)).add(r.mul(s).add(o).exp()).mul(1/Math.PI).saturate()}),Tc=T(.04),Cc=R(1);class up extends tu{constructor(e=!1,t=!1,s=!1,i=!1,r=!1,o=!1){super(),this.clearcoat=e,this.sheen=t,this.iridescence=s,this.anisotropy=i,this.transmission=r,this.dispersion=o,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=T().temp("clearcoatRadiance"),this.clearcoatSpecularDirect=T().temp("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=T().temp("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=T().temp("sheenSpecularDirect"),this.sheenSpecularIndirect=T().temp("sheenSpecularIndirect")),this.iridescence===!0){const t=Se.dot(ge).clamp();this.iridescenceFresnel=ZT({outsideIOR:R(1),eta2:O2,cosTheta1:t,thinFilmThickness:b2,baseF0:Et}),this.iridescenceF0=bT({f:this.iridescenceFresnel,f90:1,dotVH:t})}if(this.transmission===!0){const t=Ih,s=s1.sub(Ih).normalize(),i=r1;e.backdrop=$T(i,s,On,le,Et,Cl,t,_o,Nr,yn,qa,D2,B2,V2,this.dispersion?U2:null),e.backdropAlpha=Eh,le.a.mulAssign(Le(1,e.backdrop.a,Eh))}}computeMultiscattering(e,t,s){const i=Se.dot(ge).clamp(),r=Ey({roughness:On,dotNV:i}),a=(this.iridescenceF0?Jd.mix(Et,this.iridescenceF0):Et).mul(r.x).add(s.mul(r.y)),u=r.x.add(r.y).oneMinus(),c=Et.add(Et.oneMinus().mul(.047619)),d=a.mul(c).div(u.mul(c).oneMinus());e.addAssign(a),t.addAssign(d.mul(u))}direct({lightDirection:e,lightColor:t,reflectedLight:s}){const r=Se.dot(e).clamp().mul(t);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(r.mul(BT({lightDirection:e}))),this.clearcoat===!0){const a=Hi.dot(e).clamp().mul(t);this.clearcoatSpecularDirect.addAssign(a.mul(If({lightDirection:e,f0:Tc,f90:Cc,roughness:Tl,normalView:Hi})))}s.directDiffuse.addAssign(r.mul(dr({diffuseColor:le.rgb}))),s.directSpecular.addAssign(r.mul(If({lightDirection:e,f0:Et,f90:1,roughness:On,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:t,halfWidth:s,halfHeight:i,reflectedLight:r,ltc_1:o,ltc_2:a}){const l=t.add(s).sub(i),u=t.sub(s).sub(i),c=t.sub(s).add(i),d=t.add(s).add(i),h=Se,p=ge,f=nt.toVar(),y=UT({N:h,V:p,roughness:On}),v=o.uv(y).toVar(),m=a.uv(y).toVar(),g=rt(T(v.x,0,v.y),T(0,1,0),T(v.z,0,v.w)).toVar(),x=Et.mul(m.x).add(Et.oneMinus().mul(m.y)).toVar();r.directSpecular.addAssign(e.mul(x).mul(Ff({N:h,V:p,P:f,mInv:g,p0:l,p1:u,p2:c,p3:d}))),r.directDiffuse.addAssign(e.mul(le).mul(Ff({N:h,V:p,P:f,mInv:rt(1,0,0,0,1,0,0,0,1),p0:l,p1:u,p2:c,p3:d})))}indirectDiffuse({irradiance:e,reflectedLight:t}){t.indirectDiffuse.addAssign(e.mul(dr({diffuseColor:le})))}indirectSpecular({radiance:e,iblIrradiance:t,reflectedLight:s}){if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(t.mul(ji,YT({normal:Se,viewDir:ge,roughness:Qd}))),this.clearcoat===!0){const u=Hi.dot(ge).clamp(),c=zy({dotNV:u,specularColor:Tc,specularF90:Cc,roughness:Tl});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(c))}const i=T().temp("singleScattering"),r=T().temp("multiScattering"),o=t.mul(1/Math.PI);this.computeMultiscattering(i,r,Cl);const a=i.add(r),l=le.mul(a.r.max(a.g).max(a.b).oneMinus());s.indirectSpecular.addAssign(e.mul(i)),s.indirectSpecular.addAssign(r.mul(o)),s.indirectDiffuse.addAssign(l.mul(o))}ambientOcclusion({ambientOcclusion:e,reflectedLight:t}){const i=Se.dot(ge).clamp().add(e),r=On.mul(-16).oneMinus().negate().exp2(),o=e.sub(i.pow(r).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(e),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(e),t.indirectDiffuse.mulAssign(e),t.indirectSpecular.mulAssign(o)}finish(e){const{outgoingLight:t}=e;if(this.clearcoat===!0){const s=Hi.dot(ge).clamp(),i=zo({dotVH:s,f0:Tc,f90:Cc}),r=t.mul(Ch.mul(i).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(Ch));t.assign(r)}if(this.sheen===!0){const s=ji.r.max(ji.g).max(ji.b).mul(.157).oneMinus(),i=t.mul(s).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);t.assign(i)}}}const QT=new v2;class Ry extends ot{constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(QT),this.setValues(e)}setupLightingModel(){return new up}setupSpecular(){const e=Le(T(.04),le.rgb,Sl);Et.assign(e),Cl.assign(1)}setupVariants(){const e=this.metalnessNode?R(this.metalnessNode):OM;Sl.assign(e);let t=this.roughnessNode?R(this.roughnessNode):PM;t=Ay({roughness:t}),On.assign(t),this.setupSpecular(),le.assign(B(le.rgb.mul(e.oneMinus()),le.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}je("MeshStandardNodeMaterial",Ry);const JT=new hw;class Ly extends Ry{constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(JT),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?R(this.iorNode):YM;qa.assign(e),Et.assign(Le(bn(Z2(qa.sub(1).div(qa.add(1))).mul(IM),T(1)).mul(hf),le.rgb,Sl)),Cl.assign(Le(hf,1,Sl))}setupLightingModel(){return new up(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const t=this.clearcoatNode?R(this.clearcoatNode):DM,s=this.clearcoatRoughnessNode?R(this.clearcoatRoughnessNode):VM;Ch.assign(t),Tl.assign(Ay({roughness:s}))}if(this.useSheen){const t=this.sheenNode?T(this.sheenNode):jM,s=this.sheenRoughnessNode?R(this.sheenRoughnessNode):HM;ji.assign(t),Qd.assign(s)}if(this.useIridescence){const t=this.iridescenceNode?R(this.iridescenceNode):$M,s=this.iridescenceIORNode?R(this.iridescenceIORNode):GM,i=this.iridescenceThicknessNode?R(this.iridescenceThicknessNode):qM;Jd.assign(t),O2.assign(s),b2.assign(i)}if(this.useAnisotropy){const t=(this.anisotropyNode?F(this.anisotropyNode):WM).toVar();Gs.assign(t.length()),Ae(Gs.equal(0),()=>{t.assign(F(1,0))}).else(()=>{t.divAssign(F(Gs)),Gs.assign(Gs.saturate())}),_h.assign(Gs.pow2().mix(On.pow2(),1)),Ga.assign(Wi[0].mul(t.x).add(Wi[1].mul(t.y))),er.assign(Wi[1].mul(t.x).sub(Wi[0].mul(t.y)))}if(this.useTransmission){const t=this.transmissionNode?R(this.transmissionNode):XM,s=this.thicknessNode?R(this.thicknessNode):ZM,i=this.attenuationDistanceNode?R(this.attenuationDistanceNode):QM,r=this.attenuationColorNode?T(this.attenuationColorNode):JM;if(Eh.assign(t),D2.assign(s),V2.assign(i),B2.assign(r),this.useDispersion){const o=this.dispersionNode?R(this.dispersionNode):e4;U2.assign(o)}}}setupNormal(e){super.setupNormal(e);const t=this.clearcoatNormalNode?T(this.clearcoatNormalNode):BM;Hi.assign(t)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}je("MeshPhysicalNodeMaterial",Ly);class KT extends up{constructor(e,t,s,i){super(e,t,s),this.useSSS=i}direct({lightDirection:e,lightColor:t,reflectedLight:s},i,r){if(this.useSSS===!0){const o=r.material,{thicknessColorNode:a,thicknessDistortionNode:l,thicknessAmbientNode:u,thicknessAttenuationNode:c,thicknessPowerNode:d,thicknessScaleNode:h}=o,p=e.add(Se.mul(l)).normalize(),f=R(ge.dot(p.negate()).saturate().pow(d).mul(h)),y=T(f.add(u).mul(a));s.directDiffuse.addAssign(y.mul(c.mul(t)))}super.direct({lightDirection:e,lightColor:t,reflectedLight:s},i,r)}}class e5 extends Ly{constructor(e){super(e),this.thicknessColorNode=null,this.thicknessDistortionNode=R(.1),this.thicknessAmbientNode=R(0),this.thicknessAttenuationNode=R(.1),this.thicknessPowerNode=R(2),this.thicknessScaleNode=R(10)}get useSSS(){return this.thicknessColorNode!==null}setupLightingModel(){return new KT(this.useClearcoat,this.useSheen,this.useIridescence,this.useSSS)}copy(e){return this.thicknessColorNode=e.thicknessColorNode,this.thicknessDistortionNode=e.thicknessDistortionNode,this.thicknessAmbientNode=e.thicknessAmbientNode,this.thicknessAttenuationNode=e.thicknessAttenuationNode,this.thicknessPowerNode=e.thicknessPowerNode,this.thicknessScaleNode=e.thicknessScaleNode,super.copy(e)}}je("MeshSSSNodeMaterial",e5);const t5=b(({normal:n,lightDirection:e,builder:t})=>{const s=n.dot(e),i=F(s.mul(.5).add(.5),0);if(t.material.gradientMap){const r=jn("gradientMap","texture").context({getUV:()=>i});return T(r.r)}else{const r=i.fwidth().mul(.5);return Le(T(.7),T(1),Tn(R(.7).sub(r.x),R(.7).add(r.x),i.x))}});class n5 extends tu{direct({lightDirection:e,lightColor:t,reflectedLight:s},i,r){const o=t5({normal:El,lightDirection:e,builder:r}).mul(t);s.directDiffuse.addAssign(o.mul(dr({diffuseColor:le.rgb})))}indirectDiffuse({irradiance:e,reflectedLight:t}){t.indirectDiffuse.addAssign(e.mul(dr({diffuseColor:le})))}}const s5=new pw;class i5 extends ot{constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(s5),this.setValues(e)}setupLightingModel(){return new n5}}je("MeshToonNodeMaterial",i5);const r5=new gw;class o5 extends ot{constructor(e){super(),this.lights=!1,this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(r5),this.setValues(e)}setupVariants(e){const t=U4;let s;e.material.matcap?s=jn("matcap","texture").context({getUV:()=>t}):s=T(Le(.2,.8,t.y)),le.rgb.mulAssign(s.rgb)}}je("MeshMatcapNodeMaterial",o5);const a5=new y2;class l5 extends ot{constructor(e){super(),this.isPointsNodeMaterial=!0,this.lights=!1,this.normals=!1,this.transparent=!0,this.sizeNode=null,this.setDefaultValues(a5),this.setValues(e)}copy(e){return this.sizeNode=e.sizeNode,super.copy(e)}}je("PointsNodeMaterial",l5);const u5=new uw;class c5 extends ot{constructor(e){super(),this.isSpriteNodeMaterial=!0,this.lights=!1,this.normals=!1,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.setDefaultValues(u5),this.setValues(e)}setupPosition({object:e,context:t}){const{positionNode:s,rotationNode:i,scaleNode:r}=this,o=Ge;let a=ii.mul(T(s||0)),l=F(_o[0].xyz.length(),_o[1].xyz.length());r!==null&&(l=l.mul(r));let u=o.xy;e.center&&e.center.isVector2===!0&&(u=u.sub($(e.center).sub(.5))),u=u.mul(l);const c=R(i||UM),d=u.rotate(c);a=B(a.xy.add(d),a.zw);const h=yn.mul(a);return t.vertex=o,h}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}}je("SpriteNodeMaterial",c5);class h5 extends tu{constructor(){super(),this.shadowNode=R(1).toVar("shadowMask")}direct({shadowMask:e}){this.shadowNode.mulAssign(e)}finish(e){le.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(le.rgb)}}const d5=new cw;class p5 extends ot{constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.setDefaultValues(d5),this.setValues(e)}setupLightingModel(){return new h5}}je("ShadowNodeMaterial",p5);class f5 extends ot{constructor(e={}){super(),this.normals=!1,this.lights=!1,this.isVolumeNodeMaterial=!0,this.testNode=null,this.setValues(e)}setup(e){const t=nS(this.map,null,0),s=b(({orig:i,dir:r})=>{const o=T(-.5),a=T(.5),l=r.reciprocal(),u=o.sub(i).mul(l),c=a.sub(i).mul(l),d=bn(u,c),h=ct(u,c),p=ct(d.x,ct(d.y,d.z)),f=bn(h.x,bn(h.y,h.z));return F(p,f)});this.fragmentNode=b(()=>{const i=Re(T(AM.mul(B(s1,1)))),o=Re(lt.sub(i)).normalize(),a=ve("vec2","bounds").assign(s({orig:i,dir:o}));a.x.greaterThan(a.y).discard(),a.assign(F(ct(a.x,0),a.y));const l=ve("vec3","p").assign(i.add(a.x.mul(o))),u=ve("vec3","inc").assign(T(o.abs().reciprocal())),c=ve("float","delta").assign(bn(u.x,bn(u.y,u.z)));c.divAssign(jn("steps","float"));const d=ve("vec4","ac").assign(B(jn("base","color"),0));return rn({type:"float",start:a.x,end:a.y,update:"+= delta"},()=>{const h=ve("float","d").assign(t.uv(l.add(.5)).r);this.testNode!==null?this.testNode({map:t,mapValue:h,probe:l,finalColor:d}).append():(d.a.assign(1),y1()),l.addAssign(o.mul(c))}),d.a.equal(0).discard(),B(d)})(),super.setup(e)}}je("VolumeNodeMaterial",f5);const Ro=({Label:n,LabelUrl:e,backgroundColor:t,borderColor:s,textColor:i,fullWidth:r})=>_.jsxs("button",{className:`
        flex 
        justify-center 
        items-center 
        gap-2 
        px-7 py-4 
        border 
        font-montserrat 
        ${t||"bg-coral-red"}
        ${s||"border-coral-red"} 
        ${i||"text-white"} 
        ${r&&"w-full"}
        text-lg 
        leading-none 
        rounded-full 
       `,children:[n,e&&_.jsx("img",{src:e,alt:"->",className:"ml-2 rounded-full w-5 h-5 "})]}),ky="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%2010C20%2015.5228%2015.5228%2020%2010%2020C4.47715%2020%200%2015.5228%200%2010C0%204.47715%204.47715%200%2010%200C15.5228%200%2020%204.47715%2020%2010Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.0886%206.18499C10.8717%206.43163%2010.8717%206.83153%2011.0886%207.07817L13.1032%209.36842H5.55556C5.24873%209.36842%205%209.65119%205%2010C5%2010.3488%205.24873%2010.6316%205.55556%2010.6316H13.1032L11.0886%2012.9218C10.8717%2013.1685%2010.8717%2013.5684%2011.0886%2013.815C11.3056%2014.0617%2011.6574%2014.0617%2011.8743%2013.815L14.8373%2010.4466C15.0542%2010.1999%2015.0542%209.80005%2014.8373%209.55341L11.8743%206.18499C11.6574%205.93834%2011.3056%205.93834%2011.0886%206.18499Z'%20fill='%23FF6452'/%3e%3c/svg%3e",m5="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.688%2016.096C9.57867%2016.096%208.576%2015.8507%207.68%2015.36C6.79467%2014.8693%206.096%2014.192%205.584%2013.328C5.08267%2012.4533%204.832%2011.4773%204.832%2010.4C4.832%209.32267%205.08267%208.352%205.584%207.488C6.096%206.61333%206.8%205.93067%207.696%205.44C8.592%204.94933%209.59467%204.704%2010.704%204.704C11.536%204.704%2012.304%204.84267%2013.008%205.12C13.712%205.39733%2014.3093%205.80267%2014.8%206.336L14.048%207.088C13.1733%206.20267%2012.0693%205.76%2010.736%205.76C9.85067%205.76%209.04533%205.96267%208.32%206.368C7.59467%206.77333%207.024%207.328%206.608%208.032C6.20267%208.736%206%209.52533%206%2010.4C6%2011.2747%206.20267%2012.064%206.608%2012.768C7.024%2013.472%207.59467%2014.0267%208.32%2014.432C9.04533%2014.8373%209.85067%2015.04%2010.736%2015.04C12.08%2015.04%2013.184%2014.592%2014.048%2013.696L14.8%2014.448C14.3093%2014.9813%2013.7067%2015.392%2012.992%2015.68C12.288%2015.9573%2011.52%2016.096%2010.688%2016.096Z'%20fill='white'/%3e%3ccircle%20cx='10'%20cy='10'%20r='9.5'%20stroke='white'/%3e%3c/svg%3e",g5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.5648%201.00458L14.7875%201C11.6674%201%209.65099%203.12509%209.65099%206.41423V8.91055H6.85857C6.61728%208.91055%206.42188%209.1115%206.42188%209.35937V12.9763C6.42188%2013.2241%206.6175%2013.4249%206.85857%2013.4249H9.65099V22.5514C9.65099%2022.7993%209.84639%2023%2010.0877%2023H13.731C13.9723%2023%2014.1677%2022.799%2014.1677%2022.5514V13.4249H17.4327C17.674%2013.4249%2017.8694%2013.2241%2017.8694%2012.9763L17.8707%209.35937C17.8707%209.24036%2017.8246%209.12638%2017.7428%209.04215C17.661%208.95793%2017.5496%208.91055%2017.4338%208.91055H14.1677V6.79439C14.1677%205.77727%2014.4036%205.26094%2015.6935%205.26094L17.5643%205.26025C17.8054%205.26025%2018.0008%205.0593%2018.0008%204.81166V1.45317C18.0008%201.20576%2017.8056%201.00504%2017.5648%201.00458Z'%20fill='black'/%3e%3c/svg%3e",y5="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='512.000000pt'%20height='512.000000pt'%20viewBox='0%200%20512.000000%20512.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,512.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M95%204146%20c-67%20-29%20-105%20-106%20-91%20-181%209%20-47%2059%20-102%20104%20-115%2026%20-8%20785%20-10%202474%20-8%20l2437%203%2027%2021%20c53%2039%2069%2071%2069%20134%200%2063%20-16%2095%20-69%20134%20l-27%2021%20-2447%202%20c-2019%202%20-2452%200%20-2477%20-11z'/%3e%3cpath%20d='M95%202546%20c-67%20-29%20-105%20-106%20-91%20-181%209%20-47%2059%20-102%20104%20-115%2026%20-8%20785%20-10%202474%20-8%20l2437%203%2027%2021%20c53%2039%2069%2071%2069%20134%200%2063%20-16%2095%20-69%20134%20l-27%2021%20-2447%202%20c-2019%202%20-2452%200%20-2477%20-11z'/%3e%3cpath%20d='M95%20946%20c-67%20-29%20-105%20-106%20-91%20-181%209%20-47%2059%20-102%20104%20-115%2026%20-8%20785%20-10%202474%20-8%20l2437%203%2027%2021%20c53%2039%2069%2071%2069%20134%200%2063%20-16%2095%20-69%20134%20l-27%2021%20-2447%202%20c-2019%202%20-2452%200%20-2477%20-11z'/%3e%3c/g%3e%3c/svg%3e",x5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2%2012C2%207.80863%202%205.71294%203.05041%204.26718C3.38964%203.80026%203.80026%203.38964%204.26718%203.05041C5.71294%202%207.80863%202%2012%202C16.1914%202%2018.2871%202%2019.7328%203.05041C20.1997%203.38964%2020.6104%203.80026%2020.9496%204.26718C22%205.71294%2022%207.80863%2022%2012C22%2016.1914%2022%2018.2871%2020.9496%2019.7328C20.6104%2020.1997%2020.1997%2020.6104%2019.7328%2020.9496C18.2871%2022%2016.1914%2022%2012%2022C7.80863%2022%205.71294%2022%204.26718%2020.9496C3.80026%2020.6104%203.38964%2020.1997%203.05041%2019.7328C2%2018.2871%202%2016.1914%202%2012ZM12.0011%206.70312C9.07747%206.70312%206.70703%209.07357%206.70703%2011.9972C6.70703%2014.9209%209.07747%2017.2914%2012.0011%2017.2914C14.9248%2017.2914%2017.2953%2014.9209%2017.2953%2011.9972C17.2953%209.07357%2014.9248%206.70312%2012.0011%206.70312ZM12.0011%2015.3061C10.1773%2015.3061%208.69233%2013.8211%208.69233%2011.9972C8.69233%2010.1721%2010.1773%208.68842%2012.0011%208.68842C13.825%208.68842%2015.31%2010.1721%2015.31%2011.9972C15.31%2013.8211%2013.825%2015.3061%2012.0011%2015.3061ZM18.3953%206.307C18.3953%206.69661%2018.0794%207.01244%2017.6898%207.01244C17.3002%207.01244%2016.9844%206.69661%2016.9844%206.307C16.9844%205.9174%2017.3002%205.60156%2017.6898%205.60156C18.0794%205.60156%2018.3953%205.9174%2018.3953%206.307Z'%20fill='black'/%3e%3c/svg%3e",v5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.23576%200.0195141C8.27717%200.167622%207.66306%200.45699%207.06498%201.04233C5.56279%202.51266%205.47498%204.91504%206.85519%206.78199C6.9655%206.93126%207.31946%207.32504%207.64177%207.65709C8.66521%208.71149%2010.0762%209.8829%2012.1334%2011.3862L12.7104%2011.8078L13.3758%2011.3146C15.4311%209.79122%2016.7986%208.65449%2017.7468%207.6812C18.4867%206.92175%2018.779%206.53034%2019.0798%205.89619C19.4122%205.19519%2019.5241%204.69502%2019.522%203.91884C19.52%203.15071%2019.443%202.80603%2019.1195%202.11478C18.9137%201.67508%2018.8313%201.55779%2018.4554%201.16941C17.9748%200.672955%2017.5594%200.396078%2017.0182%200.21151C16.1133%20-0.0971494%2015.2038%20-0.0512363%2014.3696%200.345246C13.8865%200.574859%2013.6371%200.760103%2013.1394%201.25878L12.7064%201.69259L12.2252%201.21113C11.6926%200.678356%2011.2714%200.396319%2010.7313%200.210931C10.2294%200.0387088%209.61809%20-0.0395652%209.23576%200.0195141ZM7.7121%2013.547C7.11299%2013.6002%206.25303%2013.7491%205.65154%2013.904C4.95984%2014.082%204.03186%2014.4079%204.03186%2014.4727C4.03186%2014.5536%206.38084%2021.8036%206.42228%2021.8506C6.44131%2021.8722%206.676%2021.8521%206.94384%2021.8059C7.37516%2021.7316%207.97468%2021.7186%2012.1893%2021.6921L16.9479%2021.6622L17.3988%2021.5362C17.946%2021.3833%2018.4694%2021.1403%2018.8666%2020.8547C19.0297%2020.7374%2020.1602%2019.7775%2021.379%2018.7216C22.9433%2017.3663%2023.6347%2016.7371%2023.7306%2016.5817C24.1026%2015.9784%2024.0886%2015.3468%2023.6933%2014.8945C23.5794%2014.7642%2023.4001%2014.623%2023.289%2014.5763C23.0429%2014.4726%2022.6293%2014.4667%2022.4075%2014.5637C22.316%2014.6037%2021.5671%2015.0658%2020.7432%2015.5905C19.0719%2016.6548%2018.5405%2016.9463%2017.8454%2017.1799C16.7076%2017.5624%2016.3503%2017.5896%2012.4589%2017.5906L9.18888%2017.5915V16.8701V16.1487L11.5916%2016.1346C13.9158%2016.121%2014.0012%2016.1172%2014.2053%2016.0196C14.5171%2015.8705%2014.701%2015.6897%2014.8416%2015.3941C15.0971%2014.8568%2014.9636%2014.1955%2014.5209%2013.8057C14.1624%2013.4901%2014.1773%2013.4914%2011.0205%2013.4987C9.45873%2013.5024%207.96995%2013.5241%207.7121%2013.547ZM1.32545%2015.6528L0.00210969%2016.2652L0.00103141%2020.1326L0%2024L0.503982%2023.8168C0.781196%2023.7161%201.89403%2023.3232%202.97701%2022.9438C4.05999%2022.5643%204.96425%2022.2376%204.98647%2022.2177C5.02923%2022.1795%202.73369%2015.0336%202.68011%2015.0379C2.6629%2015.0393%202.05334%2015.316%201.32545%2015.6528Z'%20fill='white'/%3e%3c/svg%3e",N5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.5408%204.12375L13.0408%202.06375C12.4708%201.85375%2011.5408%201.85375%2010.9708%202.06375L5.47078%204.12375C4.41078%204.52375%203.55078%205.76375%203.55078%206.89375V14.9937C3.55078%2015.8038%204.08078%2016.8738%204.73078%2017.3538L10.2308%2021.4637C11.2008%2022.1937%2012.7908%2022.1937%2013.7608%2021.4637L19.2608%2017.3538C19.9108%2016.8638%2020.4408%2015.8038%2020.4408%2014.9937V6.89375C20.4508%205.76375%2019.5908%204.52375%2018.5408%204.12375ZM15.4808%209.72375L11.1808%2014.0238C11.0308%2014.1737%2010.8408%2014.2437%2010.6508%2014.2437C10.4608%2014.2437%2010.2708%2014.1737%2010.1208%2014.0238L8.52078%2012.4037C8.23078%2012.1137%208.23078%2011.6337%208.52078%2011.3438C8.81078%2011.0538%209.29078%2011.0538%209.58078%2011.3438L10.6608%2012.4237L14.4308%208.65375C14.7208%208.36375%2015.2008%208.36375%2015.4908%208.65375C15.7808%208.94375%2015.7808%209.43375%2015.4808%209.72375Z'%20fill='white'/%3e%3c/svg%3e",Iy="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.0755%201.24162C10.4158%200.416631%2011.5842%200.416631%2011.9245%201.24162L13.9694%206.20014C14.2507%206.88227%2014.8848%207.3541%2015.619%207.42766L20.796%207.94636C21.6527%208.03219%2022.0077%209.08845%2021.3767%209.67424L17.3747%2013.3897C16.8594%2013.8681%2016.6332%2014.582%2016.7789%2015.2699L17.9307%2020.7069C18.1132%2021.5686%2017.1733%2022.2283%2016.425%2021.7638L12.0548%2019.051C11.4088%2018.6499%2010.5912%2018.6499%209.94518%2019.051L5.57504%2021.7638C4.82673%2022.2283%203.88681%2021.5686%204.06934%2020.7069L5.22109%2015.2699C5.36681%2014.582%205.14058%2013.8681%204.62527%2013.3897L0.62328%209.67424C-0.00768149%209.08845%200.347297%208.03219%201.20397%207.94636L6.38103%207.42766C7.11522%207.3541%207.74926%206.88227%208.03058%206.20014L10.0755%201.24162Z'%20fill='%23FF6452'/%3e%3c/svg%3e",w5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.5%2015.5C21.78%2015.5%2022%2015.72%2022%2016V17C22%2018.66%2020.66%2020%2019%2020C19%2018.35%2017.65%2017%2016%2017C14.35%2017%2013%2018.35%2013%2020H11C11%2018.35%209.65%2017%208%2017C6.35%2017%205%2018.35%205%2020C3.34%2020%202%2018.66%202%2017V15C2%2014.45%202.45%2014%203%2014H12.5C13.88%2014%2015%2012.88%2015%2011.5V6C15%205.45%2015.45%205%2016%205H16.84C17.56%205%2018.22%205.39%2018.58%206.01L19.22%207.13C19.31%207.29%2019.19%207.5%2019%207.5C17.62%207.5%2016.5%208.62%2016.5%2010V13C16.5%2014.38%2017.62%2015.5%2019%2015.5H21.5Z'%20fill='white'/%3e%3cpath%20d='M8%2022C9.10457%2022%2010%2021.1046%2010%2020C10%2018.8954%209.10457%2018%208%2018C6.89543%2018%206%2018.8954%206%2020C6%2021.1046%206.89543%2022%208%2022Z'%20fill='white'/%3e%3cpath%20d='M16%2022C17.1046%2022%2018%2021.1046%2018%2020C18%2018.8954%2017.1046%2018%2016%2018C14.8954%2018%2014%2018.8954%2014%2020C14%2021.1046%2014.8954%2022%2016%2022Z'%20fill='white'/%3e%3cpath%20d='M22%2012.53V14H19C18.45%2014%2018%2013.55%2018%2013V10C18%209.45%2018.45%209%2019%209H20.29L21.74%2011.54C21.91%2011.84%2022%2012.18%2022%2012.53Z'%20fill='white'/%3e%3cpath%20d='M13.08%202H5.69C3.9%202%202.4%203.28%202.07%204.98H6.44C6.82%204.98%207.12%205.29%207.12%205.67C7.12%206.05%206.82%206.35%206.44%206.35H2V7.73H4.6C4.98%207.73%205.29%208.04%205.29%208.42C5.29%208.8%204.98%209.1%204.6%209.1H2V10.48H2.77C3.15%2010.48%203.46%2010.79%203.46%2011.17C3.46%2011.55%203.15%2011.85%202.77%2011.85H2V12.08C2%2012.63%202.45%2013.08%203%2013.08H12.15C13.17%2013.08%2014%2012.25%2014%2011.23V2.92C14%202.41%2013.59%202%2013.08%202Z'%20fill='white'/%3e%3cpath%20d='M2.07%204.98438H1.92H0.94C0.56%204.98438%200.25%205.29438%200.25%205.67438C0.25%206.05438%200.56%206.35437%200.94%206.35437H1.85H2V5.69438C2%205.45438%202.03%205.21438%202.07%204.98438Z'%20fill='white'/%3e%3cpath%20d='M1.85%207.73438H0.94C0.56%207.73438%200.25%208.04438%200.25%208.42438C0.25%208.80438%200.56%209.10438%200.94%209.10438H1.85H2V7.73438H1.85Z'%20fill='white'/%3e%3cpath%20d='M1.85%2010.4844H0.94C0.56%2010.4844%200.25%2010.7944%200.25%2011.1744C0.25%2011.5544%200.56%2011.8544%200.94%2011.8544H1.85H2V10.4844H1.85Z'%20fill='white'/%3e%3c/svg%3e",M5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.5%205.77624C21.7271%206.10418%2020.8978%206.32658%2020.0264%206.42587C20.9161%205.91571%2021.5972%205.10654%2021.92%204.1453C21.0854%204.61774%2020.1642%204.96079%2019.1826%205.14675C18.3966%204.34385%2017.2785%203.84375%2016.0384%203.84375C13.6593%203.84375%2011.7303%205.69081%2011.7303%207.9676C11.7303%208.29051%2011.7683%208.6059%2011.8418%208.90748C8.26201%208.73532%205.08768%207.09308%202.96314%204.59763C2.59176%205.20579%202.38049%205.91443%202.38049%206.67088C2.38049%208.10205%203.14161%209.36484%204.2964%2010.1036C3.5904%2010.081%202.92639%209.89507%202.34508%209.58596V9.63748C2.34508%2011.6353%203.83056%2013.3027%205.80024%2013.6822C5.43936%2013.7752%205.05882%2013.8267%204.66514%2013.8267C4.38696%2013.8267%204.11794%2013.8003%203.85417%2013.75C4.40267%2015.3898%205.99315%2016.5822%207.87756%2016.6149C6.40388%2017.7206%204.54573%2018.3778%202.52749%2018.3778C2.17976%2018.3778%201.83724%2018.3576%201.5%2018.3212C3.40671%2019.4935%205.67036%2020.1771%208.10327%2020.1771C16.028%2020.1771%2020.3597%2013.892%2020.3597%208.44132L20.3453%207.90731C21.1917%207.32928%2021.9239%206.60303%2022.5%205.77624Z'%20fill='black'/%3e%3c/svg%3e",Fy="/%257Brepo-name%257D/assets/big-shoe1-C36TJa9C.png",S5="/%257Brepo-name%257D/assets/big-shoe2-BgtZ07LT.png",T5="/%257Brepo-name%257D/assets/big-shoe3-Tl5l8nb1.png",C5="/%257Brepo-name%257D/assets/customer1-DnAq7_7S.jpeg",_5="/%257Brepo-name%257D/assets/customer2-DR6lZdC6.svg",A5="data:image/svg+xml,%3csvg%20width='230'%20height='48'%20viewBox='0%200%20230%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M148.367%2013.4V47H143.231L124.703%2024.248V47H118.511V13.4H123.647L142.175%2036.152V13.4H148.367ZM156.794%2021.368H162.794V47H156.794V21.368ZM159.818%2017.144C158.73%2017.144%20157.818%2016.808%20157.082%2016.136C156.346%2015.432%20155.978%2014.568%20155.978%2013.544C155.978%2012.52%20156.346%2011.672%20157.082%2011C157.818%2010.296%20158.73%209.944%20159.818%209.944C160.906%209.944%20161.818%2010.28%20162.554%2010.952C163.29%2011.592%20163.658%2012.408%20163.658%2013.4C163.658%2014.456%20163.29%2015.352%20162.554%2016.088C161.85%2016.792%20160.938%2017.144%20159.818%2017.144ZM181.133%2036.008L176.669%2040.232V47H170.669V11.384H176.669V32.888L189.101%2021.368H196.301L185.597%2032.12L197.309%2047H190.013L181.133%2036.008ZM224.202%2034.328C224.202%2034.744%20224.17%2035.336%20224.106%2036.104H203.994C204.346%2037.992%20205.258%2039.496%20206.73%2040.616C208.234%2041.704%20210.09%2042.248%20212.298%2042.248C215.114%2042.248%20217.434%2041.32%20219.258%2039.464L222.474%2043.16C221.322%2044.536%20219.866%2045.576%20218.106%2046.28C216.346%2046.984%20214.362%2047.336%20212.154%2047.336C209.338%2047.336%20206.858%2046.776%20204.714%2045.656C202.57%2044.536%20200.906%2042.984%20199.722%2041C198.57%2038.984%20197.994%2036.712%20197.994%2034.184C197.994%2031.688%20198.554%2029.448%20199.674%2027.464C200.826%2025.448%20202.41%2023.88%20204.426%2022.76C206.442%2021.64%20208.714%2021.08%20211.242%2021.08C213.738%2021.08%20215.962%2021.64%20217.914%2022.76C219.898%2023.848%20221.434%2025.4%20222.522%2027.416C223.642%2029.4%20224.202%2031.704%20224.202%2034.328ZM211.242%2025.88C209.322%2025.88%20207.69%2026.456%20206.346%2027.608C205.034%2028.728%20204.234%2030.232%20203.946%2032.12H218.49C218.234%2030.264%20217.45%2028.76%20216.138%2027.608C214.826%2026.456%20213.194%2025.88%20211.242%2025.88Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M59.8456%2015.419C39.9949%2020.9424%2022.3902%2025.4554%2020.724%2025.4467C15.9305%2025.421%2011.4443%2021.6197%2010.7696%2017.013C10.4527%2014.8455%2010.5085%2011.7029%2010.8939%2010.0303L11.5947%206.98847L9.02521%2010.212C5.044%2015.2067%201.23385%2023.0622%200.463769%2027.864C-1.04903%2037.2942%206.50217%2043.5128%2016.6527%2041.1958C20.6759%2040.2779%2096.9941%207.06822%2098.3725%205.63565C99.4257%204.54144%2093.7956%205.97124%2059.8456%2015.419Z'%20fill='white'/%3e%3c/svg%3e",E5="data:image/svg+xml,%3csvg%20width='129'%20height='29'%20viewBox='0%200%20129%2029'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M89.0803%206.2V23H86.5123L77.2483%2011.624V23H74.1523V6.2H76.7203L85.9843%2017.576V6.2H89.0803ZM93.294%2010.184H96.294V23H93.294V10.184ZM94.806%208.072C94.262%208.072%2093.806%207.904%2093.438%207.568C93.07%207.216%2092.886%206.784%2092.886%206.272C92.886%205.76%2093.07%205.336%2093.438%205C93.806%204.648%2094.262%204.472%2094.806%204.472C95.35%204.472%2095.806%204.64%2096.174%204.976C96.542%205.296%2096.726%205.704%2096.726%206.2C96.726%206.728%2096.542%207.176%2096.174%207.544C95.822%207.896%2095.366%208.072%2094.806%208.072ZM105.463%2017.504L103.231%2019.616V23H100.231V5.192H103.231V15.944L109.447%2010.184H113.047L107.695%2015.56L113.551%2023H109.903L105.463%2017.504ZM126.998%2016.664C126.998%2016.872%20126.982%2017.168%20126.95%2017.552H116.894C117.07%2018.496%20117.526%2019.248%20118.262%2019.808C119.014%2020.352%20119.942%2020.624%20121.046%2020.624C122.454%2020.624%20123.614%2020.16%20124.526%2019.232L126.134%2021.08C125.558%2021.768%20124.83%2022.288%20123.95%2022.64C123.07%2022.992%20122.078%2023.168%20120.974%2023.168C119.566%2023.168%20118.326%2022.888%20117.254%2022.328C116.182%2021.768%20115.35%2020.992%20114.758%2020C114.182%2018.992%20113.894%2017.856%20113.894%2016.592C113.894%2015.344%20114.174%2014.224%20114.734%2013.232C115.31%2012.224%20116.102%2011.44%20117.11%2010.88C118.118%2010.32%20119.254%2010.04%20120.518%2010.04C121.766%2010.04%20122.878%2010.32%20123.854%2010.88C124.846%2011.424%20125.614%2012.2%20126.158%2013.208C126.718%2014.2%20126.998%2015.352%20126.998%2016.664ZM120.518%2012.44C119.558%2012.44%20118.742%2012.728%20118.07%2013.304C117.414%2013.864%20117.014%2014.616%20116.87%2015.56H124.142C124.014%2014.632%20123.622%2013.88%20122.966%2013.304C122.31%2012.728%20121.494%2012.44%20120.518%2012.44Z'%20fill='%23FF6452'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M37.6096%209.80468C25.1346%2013.2758%2014.071%2016.112%2013.0239%2016.1065C10.0114%2016.0904%207.19209%2013.7015%206.76806%2010.8064C6.56893%209.44425%206.60402%207.46928%206.84618%206.41814L7.28659%204.50653L5.67183%206.53232C3.16986%209.67124%200.775395%2014.608%200.291439%2017.6257C-0.65927%2023.552%204.08624%2027.46%2010.4653%2026.0039C12.9937%2025.4271%2060.9554%204.55665%2061.8216%203.65636C62.4835%202.96871%2058.9453%203.86726%2037.6096%209.80468Z'%20fill='%23FF6452'/%3e%3c/svg%3e",z5="/%257Brepo-name%257D/assets/offer-B5NvppZD.svg",R5="/%257Brepo-name%257D/assets/shoe4-hNO7sTQQ.svg",L5="/%257Brepo-name%257D/assets/shoe5-Dv7OvDif.svg",k5="/%257Brepo-name%257D/assets/shoe6-CE_Ahgis.svg",I5="/%257Brepo-name%257D/assets/shoe7-qSNogBYM.svg",F5="/%257Brepo-name%257D/assets/shoe8-DV4I4LpQ.svg",P5="/%257Brepo-name%257D/assets/thumbnail-shoe1-BaKRvkdM.svg",O5="/%257Brepo-name%257D/assets/thumbnail-shoe2-C4-1uEQm.svg",b5="/%257Brepo-name%257D/assets/thumbnail-shoe3-KgIHe0YC.svg",D5=[{href:"#home",label:"Home"},{href:"#about-us",label:"About Us"},{href:"#products",label:"Products"},{href:"#contact-us",label:"Contact Us"}],V5=[{thumbnail:P5,bigShoe:Fy},{thumbnail:O5,bigShoe:S5},{thumbnail:b5,bigShoe:T5}],B5=[{value:"1k+",label:"Brands"},{value:"500+",label:"Shops"},{value:"250k+",label:"Customers"}],U5=[{imgURL:R5,name:"Nike Air Jordan-01",price:"$200.20"},{imgURL:L5,name:"Nike Air Jordan-10",price:"$210.20"},{imgURL:k5,name:"Nike Air Jordan-100",price:"$220.20"},{imgURL:I5,name:"Nike Air Jordan-001",price:"$230.20"}],j5=[{imgURL:w5,label:"Free shipping",subtext:"Enjoy seamless shopping with our complimentary shipping service."},{imgURL:N5,label:"Secure Payment",subtext:"Experience worry-free transactions with our secure payment options."},{imgURL:v5,label:"Love to help you",subtext:"Our dedicated team is here to assist you every step of the way."}],H5=[{imgURL:C5,customerName:"Morich Brown",rating:4.5,feedback:"The attention to detail and the quality of the product exceeded my expectations. Highly recommended!"},{imgURL:_5,customerName:"Lota Mongeskar",rating:4.5,feedback:"The product not only met but exceeded my expectations. I'll definitely be a returning customer!"}],W5=[{title:"Products",links:[{name:"Air Force 1",link:"/"},{name:"Air Max 1",link:"/"},{name:"Air Jordan 1",link:"/"},{name:"Air Force 2",link:"/"},{name:"Nike Waffle Racer",link:"/"},{name:"Nike Cortez",link:"/"}]},{title:"Help",links:[{name:"About us",link:"/"},{name:"FAQs",link:"/"},{name:"How it works",link:"/"},{name:"Privacy policy",link:"/"},{name:"Payment policy",link:"/"}]},{title:"Get in touch",links:[{name:"customer@nike.com",link:"mailto:customer@nike.com"},{name:"+92554862354",link:"tel:+92554862354"}]}],$5=[{src:g5,alt:"facebook logo"},{src:M5,alt:"twitter logo"},{src:x5,alt:"instagram logo"}],G5=({imgUrl:n,changeBigShoeImage:e,bigShoeImage:t})=>{const s=()=>{t!==n.bigShoe&&e(n.bigShoe)};return _.jsx("div",{className:`border-2 rounded-xl
        ${t===n.bigShoe?"border-coral-red":"border-transparent"}
        cursor-pointer max-sm:flex-1
        `,onClick:s,children:_.jsx("div",{className:"flex justify-center items-center bg-card bg-center bg-cover sm:h-40 rounded-xl p-4",children:_.jsx("img",{src:n.thumbnail,alt:"",width:127,height:103})})})},q5=()=>{const[n,e]=Il.useState(Fy);return _.jsxs("section",{id:"home",className:"w-full flex xl:flex-row flex-col justify-center min-h-screen gap-10 max-container ",children:[_.jsxs("div",{className:"relative xl:w-2/5 flex flex-col justify-center items-start w-full max-xl:padding-x pt-28",children:[_.jsx("p",{className:"text-xl font-montserrat text-coral-red",children:"Our summer Collection"}),_.jsxs("h1",{className:"mt-10 font-palanquin text-8xl max-sm:text-[72px] max-sm:leading-[82px] font-bold",children:[_.jsx("span",{className:"xl:bg-white xl:whitespace-nowrap relative z-10 pr-10",children:"The new Arrival"}),_.jsx("br",{}),_.jsx("span",{className:"text-coral-red inline-block mt-3",children:"Nike"})," Shoes"]}),_.jsx("p",{className:"font-montserrat text-slate-gray text-lg leading-8 mt-6 mb-14 sm:max-w-sm",children:"discover stylish Nike arrivals, quality qomfort. and innovation for ur active li"}),_.jsx(Ro,{Label:"Shop now",LabelUrl:ky}),_.jsx("div",{className:`\r
            flex \r
            justify-start \r
            items-start \r
            flex-wrap \r
            w-full \r
            mt-20 \r
            gap-16`,children:B5.map((t,s)=>_.jsxs("div",{className:"",children:[_.jsx("p",{className:"font-palanquin font-bold text-4xl",children:t.value}),_.jsx("p",{className:"leading-7 font-montserrat text-slate-gray",children:t.label})]},t.label))})]}),_.jsxs("div",{className:"relative flex flex-1 justify-center items-center xl:min-h-screen max-xl:py-40 bg-primary bg-hero bg-cover bg-center",children:[_.jsx("img",{src:n,alt:"",width:610,height:500,className:"object-contain relative z-10"}),_.jsx("div",{className:`\r
          flex \r
          sm:gap-6 \r
          gap-4 \r
          absolute \r
          -bottom-[5%] \r
          max-sm:px-6 \r
          `,children:V5.map((t,s)=>_.jsx("div",{className:"",children:_.jsx(G5,{imgUrl:t,changeBigShoeImage:i=>{e(i)},bigShoeImage:n})},t))})]})]})},X5=({imgUrl:n,name:e,price:t})=>_.jsxs("div",{className:"flex flex-1 flex-col w-full max-sm:w-full",children:[_.jsx("img",{src:n,alt:e,className:"w-[280px] h-[280px]"}),_.jsxs("div",{className:"mt-8 flex  justify-start gap-2.5",children:[_.jsx("img",{src:Iy,alt:"",width:24,height:24}),_.jsx("p",{className:"font-montserrat text-xl text-slate-gray leading-normal",children:"(4.5)"})]}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("h3",{className:"mt-2 text-2xl leading-normal font-semibold font-palanquin",children:e}),_.jsx("p",{className:"mt-2 font-montserrat text-coral-red text-2xl leading-normal",children:t})]})]}),Z5=()=>_.jsxs("section",{id:"products",className:"max-container max-sm:mt-12 ",children:[_.jsxs("div",{className:"flex flex-col justify-start gap-5 ",children:[_.jsxs("h2",{className:"text-4xl font-palanquin font-bold",children:[" Our ",_.jsx("span",{className:"text-coral-red",children:"Popular"})," Products"]}),_.jsx("p",{className:"lg:max-w-lg mt-2 font-montserrat text-slate-gray",children:"Experience top-notch quality and sty1e with оиг sought-after selections. Discover а world of comfort, design, апd value"})]}),_.jsx("div",{className:"mt-16 grid lg:grid-cols-4  md:grid-cols-2 grid-cols-1 sm:gap-4 gap-14",children:U5.map(n=>_.jsx(X5,{imgUrl:n.imgURL,name:n.name,price:n.price},n.name))})]}),Y5=({imgUrl:n,customerName:e,rating:t,feedback:s})=>_.jsxs("div",{className:"flex justify-center items-center flex-col",children:[_.jsx("img",{src:n,alt:"customer",className:"rounded-full object-cover w-[120px] h-[120px]"}),_.jsx("p",{className:"mt-6 max-w-sm text-center info-text",children:s}),_.jsxs("div",{className:"flex mt-3 justify-center items-center gap-2.5",children:[_.jsx("img",{src:Iy,width:24,height:24,className:"object-contain m-0",alt:""}),_.jsxs("p",{className:"text-xl font-montserrat text-slate-gray",children:["(",t,")"]})]}),_.jsx("h3",{className:"ml-1 font-palanquin text-3xl text-center font-bold",children:e})]}),Q5=()=>_.jsxs("section",{className:"max-container",children:[_.jsxs("h3",{className:"font-palanquin text-center text-4xl font-bold",children:["What Our",_.jsx("span",{className:"mx-2 text-coral-red",children:"Customers"}),"Say"]}),_.jsx("p",{className:"info-text m-auto mt-4 msx-w-lg text-center",children:"Hear genuine stories from our satisfied customers about their exceptional experiences with us"}),_.jsx("div",{className:"mt-24 flex flex-1 justify-evenly items-center gap-14",children:H5.map(n=>_.jsx(Y5,{imgUrl:n.imgURL,customerName:n.customerName,rating:n.rating,feedback:n.feedback},n.customerName))})]}),J5=()=>_.jsx("footer",{className:"max-container",children:_.jsxs("div",{className:"flex justify-between items-start gap-20 flex-wrap max-lg:flex-col",children:[_.jsxs("div",{className:"flex flex-col items-start",children:[_.jsx("a",{href:"#",children:_.jsx("img",{src:A5,alt:"nike",width:150,height:46})}),_.jsx("p",{className:"text-white mt-6 text-base leading-7 font-montserrat sm:max-w-sm",children:"Get ready for the term at nearest Nike store. Find Your Store. Get Rewards"}),_.jsx("div",{className:"flex items-center gap-5 mt-8",children:$5.map(n=>_.jsx("div",{className:"flex justify-center items-center w-12 h-12 bg-white rounded-full",children:_.jsx("img",{src:n.src,alt:n.alt,width:24,height:24})}))})]}),_.jsx("div",{className:"flex flex-1 w-full justify-between lg:gap-10 gap:20 flex-wrap",children:W5.map(n=>_.jsxs("div",{className:"",children:[_.jsxs("h4",{className:"text-white font-montserrat text-2xl leading-normal font-medium mb-6",children:[n.title," "]}),_.jsx("ul",{children:n.links.map(e=>_.jsx("li",{className:"mt-3 text-white-400 font-montserrat text-base leading-normal hover:text-slate-gray cursor-pointer",children:_.jsxs("a",{href:e.link,children:[e.name,"  "]})}))})]},n))}),_.jsxs("div",{className:"flex justify-between w-full text-white-400 mt-24 max-sm:flex-col max-sm:items-center",children:[_.jsxs("div",{className:"flex flex-1 justify-start items-center gap-2 font-montserrat cursor-pointer",children:[_.jsx("img",{src:m5,alt:"copy right sign",width:20,height:20,className:"rounded-full m-0"}),_.jsx("p",{children:" Copyright. All rights reserved "})]}),_.jsx("p",{className:"font-montserrat cursor-pointer",children:" Terms & condions"})]})]})}),K5=()=>_.jsx("header",{className:"padding-x py-8 absolute z-10 w-full",children:_.jsxs("nav",{className:"flex justify-between items-center max-container",children:[_.jsx("a",{href:"",children:_.jsx("img",{src:E5,alt:"logo",width:130,height:29})}),_.jsx("ul",{className:"flex flex-1 justify-center items-center gap-16 max-lg:hidden",children:D5.map(n=>_.jsx("li",{children:_.jsx("a",{href:n.href,className:"font-montserrat leading-normal text-lg text-slate-gray active:text-black hover:text-slate-800",children:n.label})},n.label))}),_.jsx("div",{className:"lg:hidden",children:_.jsx("img",{src:y5,alt:"burger-menu ",width:25,height:25})})]})}),eC=({imgUrl:n,label:e,subtext:t})=>_.jsxs("div",{className:"flex flex-1 flex-col sm:w-[350px] sm:min-w-[350px] w-full rouded-[20px] shadow-3xl px-10 py-16",children:[_.jsx("div",{className:"w-11 rounded-full h-11 flex justify-center items-center bg-coral-red",children:_.jsx("img",{src:n,alt:"service",width:24,height:24})}),_.jsx("h3",{className:"mt-5 font-palanquin text-3xl leading-normal font-bold",children:e}),_.jsxs("p",{className:"mt-3 break-words font-montserrat text-lg leading-normal text-slate-gray",children:[t," "]})]}),tC=()=>_.jsx("section",{className:"max-container flex justify-center flex-wrap gap-9",children:j5.map(n=>_.jsx(eC,{imgUrl:n.imgURL,label:n.label,subtext:n.subtext}))}),nC=()=>_.jsxs("section",{className:"flex max-container justify-center items-center max-xl:flex-col-reverse gap-10",children:[_.jsx("div",{className:"flex flex-1 ",children:_.jsx("img",{src:z5,width:773,height:687,className:"object-contain",alt:""})}),_.jsxs("div",{className:"flex flex-1 flex-col w-full",children:[_.jsxs("h2",{className:"mt-10 font-palanquin capitalize text-4xl lg:max-w-lg font-bold",children:[_.jsx("span",{className:"text-coral-red inline-block mx-3",children:"  Special"}),"Offer"]}),_.jsx("p",{className:"mt-4  info-text",children:"Enkuring premium comfort and style, our meticulously crafted footwear is designed to elevate your- experience, providing you with unmatched quality, innovation, and a touch of elegance."}),_.jsxs("div",{className:"mt-11 flex flex-wrap gap-4",children:[_.jsx(Ro,{Label:"View details",LabelUrl:ky}),_.jsx(Ro,{Label:"Lear more",backgroundColor:"bg-white",borderColor:"border-coral-red",textColor:"text-slate-gray"})]})]})]}),sC=()=>_.jsxs("section",{className:"flex justify-between items-center max-container max-lg:flex-col gap-10",id:"contact us",children:[_.jsxs("h3",{className:"text-4xl leading-[68px] lg:max-w-lg font-palanquin font-bold",children:["Sign Up from ",_.jsx("span",{className:"text-coral-red ",children:" Updates  "}),"  & Newsletter"]}),_.jsxs("div",{className:"lg:max-w-[40%] w-full flex items-center max-sm:flex-col gap-5 p-2.5 sm:border sm:border-slate-gray rounded-full",children:[_.jsx("input",{type:"text",placeholder:"subscribe@nike.com",className:"input"}),_.jsx("div",{className:"flex max-sm:justify-center max-sm:w-full items-center",children:_.jsx(Ro,{Label:"Sign Up",fullWidth:!0})})]})]}),iC=()=>_.jsxs("section",{id:"about-us",className:"flex justify-between items-center max-lg:flex-col gap-10 w-full max-container",children:[_.jsxs("div",{className:"flex flex-1 flex-col w-full",children:[_.jsxs("h2",{className:"mt-10 font-palanquin capitalize text-4xl lg:max-w-lg font-bold",children:["We Provide You",_.jsx("span",{className:"text-coral-red inline-block mx-3",children:"  Super"}),_.jsx("br",{}),_.jsx("span",{className:"text-coral-red inline-block mr-3",children:"Quality"}),"Shoes"]}),_.jsx("p",{className:"mt-4 lg:max-w-lg info-text",children:"Enkuring premium comfort and style, our meticulously crafted footwear is designed to elevate your- experience, providing you with unmatched quality, innovation, and a touch of elegance."}),_.jsx("p",{className:"mt-6 lg:max-w-lg info-text",children:"Our dedication to detail and excellence ensures satisfaction"}),_.jsxs("div",{className:"mt-11 ",children:[" ",_.jsx(Ro,{Label:"View details"})]})]}),_.jsx("div",{className:" flex flex-1 justify-center items-center object-contain ",children:_.jsx("img",{src:F5,height:522,width:570,alt:""})})]});function rC(){return _.jsxs("main",{className:"relative",children:[_.jsx(K5,{}),_.jsx("section",{className:"xl:padding-l wide:padding-r padding-b",children:_.jsx(q5,{})}),_.jsx("section",{className:"padding",children:_.jsx(Z5,{})}),_.jsx("section",{className:"padding",children:_.jsx(iC,{})}),_.jsx("section",{className:"padding-x py-10",children:_.jsx(tC,{})}),_.jsx("section",{className:"padding",children:_.jsx(nC,{})}),_.jsx("section",{className:"padding bg-pale-blue",children:_.jsx(Q5,{})}),_.jsx("section",{className:"padding-x sm:py-32 py-16 w-full",children:_.jsx(sC,{})}),_.jsx("section",{className:"padding-x bg-black padding-t pb-8",children:_.jsx(J5,{})})]})}_c.createRoot(document.getElementById("root")).render(_.jsx(Qy.StrictMode,{children:_.jsx(rC,{})}));
